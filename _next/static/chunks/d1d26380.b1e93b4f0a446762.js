"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[539],{4722:function(t,e,a){a.r(e),a.d(e,{AlphaTimeline:function(){return et},Animation:function(){return y},AnimationState:function(){return ft},AnimationStateAdapter:function(){return vt},AnimationStateData:function(){return Yt},AtlasAttachmentLoader:function(){return At},Attachment:function(){return l},AttachmentTimeline:function(){return nt},Bone:function(){return Xt},BoneData:function(){return Ft},BoundingBoxAttachment:function(){return u},ClippingAttachment:function(){return d},ConstraintData:function(){return Ct},CurveTimeline:function(){return W},CurveTimeline1:function(){return L},CurveTimeline2:function(){return O},DeformTimeline:function(){return it},DrawOrderTimeline:function(){return ot},Event:function(){return Tt},EventData:function(){return qt},EventQueue:function(){return pt},EventTimeline:function(){return st},EventType:function(){return h},IkConstraint:function(){return Bt},IkConstraintData:function(){return Et},IkConstraintTimeline:function(){return ht},JitterEffect:function(){return v},MeshAttachment:function(){return f},PathAttachment:function(){return m},PathConstraint:function(){return Pt},PathConstraintData:function(){return Rt},PathConstraintMixTimeline:function(){return dt},PathConstraintPositionTimeline:function(){return ct},PathConstraintSpacingTimeline:function(){return ut},PointAttachment:function(){return p},RGB2Timeline:function(){return rt},RGBA2Timeline:function(){return at},RGBATimeline:function(){return Z},RGBTimeline:function(){return tt},RegionAttachment:function(){return g},RotateTimeline:function(){return Q},ScaleTimeline:function(){return j},ScaleXTimeline:function(){return J},ScaleYTimeline:function(){return G},ShearTimeline:function(){return H},ShearXTimeline:function(){return K},ShearYTimeline:function(){return $},Skeleton:function(){return Nt},SkeletonBinary:function(){return zt},SkeletonBounds:function(){return be},SkeletonData:function(){return Wt},SkeletonJson:function(){return ye},Skin:function(){return Ut},SkinEntry:function(){return Qt},Slot:function(){return Dt},SlotData:function(){return Lt},SpacingMode:function(){return gt},Spine:function(){return Se},SwirlEffect:function(){return b},Timeline:function(){return N},TrackEntry:function(){return mt},TransformConstraint:function(){return Vt},TransformConstraintData:function(){return Ot},TransformConstraintTimeline:function(){return lt},TranslateTimeline:function(){return U},TranslateXTimeline:function(){return z},TranslateYTimeline:function(){return _},VertexAttachment:function(){return c}});var r=a(4658),n=a(9658),i=a(1680),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)};function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}var h,l=function(t){if(!t)throw new Error("name cannot be null.");this.name=t},c=function(t){function e(a){var r=t.call(this,a)||this;return r.id=e.nextID++,r.worldVerticesLength=0,r.deformAttachment=r,r}return o(e,t),e.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},e.prototype.computeWorldVertices=function(t,e,a,r,n,i){a=n+(a>>1)*i;var s=t.bone.skeleton,o=t.deform,h=this.vertices,l=this.bones;if(l){for(var c=0,u=0,d=0;d<e;d+=2){c+=(g=l[c])+1,u+=g}var f=s.bones;if(0==o.length)for(X=n,I=3*u;X<a;X+=i){var m=0,p=0,g=l[c++];for(g+=c;c<g;c++,I+=3){x=f[l[c]].matrix,F=h[I],C=h[I+1];var v=h[I+2];m+=(F*x.a+C*x.c+x.tx)*v,p+=(F*x.b+C*x.d+x.ty)*v}r[X]=m,r[X+1]=p}else for(var b=o,y=(X=n,I=3*u,u<<1);X<a;X+=i){m=0,p=0,g=l[c++];for(g+=c;c<g;c++,I+=3,y+=2){x=f[l[c]].matrix,F=h[I]+b[y],C=h[I+1]+b[y+1],v=h[I+2];m+=(F*x.a+C*x.c+x.tx)*v,p+=(F*x.b+C*x.d+x.ty)*v}r[X]=m,r[X+1]=p}}else{o.length>0&&(h=o);for(var x,w=(x=t.bone.matrix).tx,k=x.ty,M=x.a,I=x.c,S=x.b,Y=x.d,A=e,X=n;X<a;A+=2,X+=i){var F=h[A],C=h[A+1];r[X]=F*M+C*I+w,r[X+1]=F*S+C*Y+k}}},e.prototype.copyTo=function(t){this.bones?(t.bones=new Array(this.bones.length),r.cQ.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices?(t.vertices=r.cQ.newFloatArray(this.vertices.length),r.cQ.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment},e.nextID=0,e}(l),u=function(t){function e(e){var a=t.call(this,e)||this;return a.type=r.sf.BoundingBox,a.color=new r.Il(1,1,1,1),a}return o(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t},e}(c),d=function(t){function e(e){var a=t.call(this,e)||this;return a.type=r.sf.Clipping,a.color=new r.Il(.2275,.2275,.8078,1),a}return o(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},e}(c),f=function(t){function e(e){var a=t.call(this,e)||this;return a.type=r.sf.Mesh,a.color=new r.Il(1,1,1,1),a.tempColor=new r.Il(0,0,0,0),a}return o(e,t),e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Float32Array(this.regionUVs.length),r.cQ.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.triangles=new Array(this.triangles.length),r.cQ.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,this.edges&&(t.edges=new Array(this.edges.length),r.cQ.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},e.prototype.newLinkedMesh=function(){var t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),t},e}(c),m=function(t){function e(e){var a=t.call(this,e)||this;return a.type=r.sf.Path,a.closed=!1,a.constantSpeed=!1,a.color=new r.Il(1,1,1,1),a}return o(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),r.cQ.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},e}(c),p=function(t){function e(e){var a=t.call(this,e)||this;return a.type=r.sf.Point,a.color=new r.Il(.38,.94,0,1),a}return o(e,t),e.prototype.computeWorldPosition=function(t,e){var a=t.matrix;return e.x=this.x*a.a+this.y*a.c+t.worldX,e.y=this.x*a.b+this.y*a.d+t.worldY,e},e.prototype.computeWorldRotation=function(t){var e=t.matrix,a=r.M8.cosDeg(this.rotation),n=r.M8.sinDeg(this.rotation),i=a*e.a+n*e.c,s=a*e.b+n*e.d;return Math.atan2(s,i)*r.M8.radDeg},e.prototype.copy=function(){var t=new e(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},e}(c),g=function(t){function e(e){var a=t.call(this,e)||this;return a.type=r.sf.Region,a.x=0,a.y=0,a.scaleX=1,a.scaleY=1,a.rotation=0,a.width=0,a.height=0,a.color=new r.Il(1,1,1,1),a.offset=r.cQ.newFloatArray(8),a.uvs=r.cQ.newFloatArray(8),a.tempColor=new r.Il(1,1,1,1),a}return o(e,t),e.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,a=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,n=-this.height/2*this.scaleY+this.region.offsetY*a,i=r+this.region.width*t,s=n+this.region.height*a,o=this.rotation*Math.PI/180,h=Math.cos(o),l=Math.sin(o),c=r*h+this.x,u=r*l,d=n*h+this.y,f=n*l,m=i*h+this.x,p=i*l,g=s*h+this.y,v=s*l,b=this.offset;b[e.OX1]=c-f,b[e.OY1]=d+u,b[e.OX2]=c-v,b[e.OY2]=g+u,b[e.OX3]=m-v,b[e.OY3]=g+p,b[e.OX4]=m-f,b[e.OY4]=d+p},e.prototype.setRegion=function(t){this.region=t;var e=this.uvs;90==t.degrees?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},e.prototype.computeWorldVertices=function(t,a,r,n){var i=this.offset,s=t.matrix,o=s.tx,h=s.ty,l=s.a,c=s.c,u=s.b,d=s.d,f=0,m=0;f=i[e.OX1],m=i[e.OY1],a[r]=f*l+m*c+o,a[r+1]=f*u+m*d+h,r+=n,f=i[e.OX2],m=i[e.OY2],a[r]=f*l+m*c+o,a[r+1]=f*u+m*d+h,r+=n,f=i[e.OX3],m=i[e.OY3],a[r]=f*l+m*c+o,a[r+1]=f*u+m*d+h,r+=n,f=i[e.OX4],m=i[e.OY4],a[r]=f*l+m*c+o,a[r+1]=f*u+m*d+h},e.prototype.copy=function(){var t=new e(this.name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,r.cQ.arrayCopy(this.uvs,0,t.uvs,0,8),r.cQ.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(l),v=function(){function t(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return t.prototype.begin=function(t){},t.prototype.transform=function(t,e,a,n){t.x+=r.M8.randomTriangular(-this.jitterX,this.jitterY),t.y+=r.M8.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),b=function(){function t(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return t.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},t.prototype.transform=function(e,a,n,i){var s=this.angle*r.M8.degreesToRadians,o=e.x-this.worldX,h=e.y-this.worldY,l=Math.sqrt(o*o+h*h);if(l<this.radius){var c=t.interpolation.apply(0,s,(this.radius-l)/this.radius),u=Math.cos(c),d=Math.sin(c);e.x=u*o-d*h+this.worldX,e.y=d*o+u*h+this.worldY}},t.prototype.end=function(){},t.interpolation=new r.RN(2),t}(),y=function(){function t(t,e,a){if(!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(e),this.duration=a}return t.prototype.setTimelines=function(t){if(!t)throw new Error("timelines cannot be null.");this.timelines=t,this.timelineIds=new r.PA;for(var e=0;e<t.length;e++)this.timelineIds.addAll(t[e].getPropertyIds())},t.prototype.hasTimeline=function(t){for(var e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1},t.prototype.apply=function(t,e,a,r,n,i,s,o){if(!t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(a%=this.duration,e>0&&(e%=this.duration));for(var h=this.timelines,l=0,c=h.length;l<c;l++)h[l].apply(t,e,a,n,i,s,o)},t}(),x=0,w=1,k=2,M=3,I=4,S=5,Y=6,A=7,X=8,F=9,C=10,T=11,q=12,B=13,E=14,R=15,P=16,D=17,V=18,N=function(){function t(t,e){this.propertyIds=e,this.frames=r.cQ.newFloatArray(t*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(t,e){for(var a=t.length,r=1;r<a;r++)if(t[r]>e)return r-1;return a-1},t.search=function(t,e,a){for(var r=t.length,n=a;n<r;n+=a)if(t[n]>e)return n-a;return r-a},t}(),W=function(t){function e(e,a,n){var i=t.call(this,e,n)||this;return i.curves=r.cQ.newFloatArray(e+18*a),i.curves[e-1]=1,i}return o(e,t),e.prototype.setLinear=function(t){this.curves[t]=0},e.prototype.setStepped=function(t){this.curves[t]=1},e.prototype.shrink=function(t){var e=this.getFrameCount()+18*t;if(this.curves.length>e){var a=r.cQ.newFloatArray(e);r.cQ.arrayCopy(this.curves,0,a,0,e),this.curves=a}},e.prototype.setBezier=function(t,e,a,r,n,i,s,o,h,l,c){var u=this.curves,d=this.getFrameCount()+18*t;0==a&&(u[e]=2+d);for(var f=.03*(r-2*i+o),m=.03*(n-2*s+h),p=.006*(3*(i-o)-r+l),g=.006*(3*(s-h)-n+c),v=2*f+p,b=2*m+g,y=.3*(i-r)+f+.16666667*p,x=.3*(s-n)+m+.16666667*g,w=r+y,k=n+x,M=d+18;d<M;d+=2)u[d]=w,u[d+1]=k,y+=v,x+=b,v+=p,b+=g,w+=y,k+=x},e.prototype.getBezierValue=function(t,e,a,r){var n=this.curves;if(n[r]>t){var i=this.frames[e],s=this.frames[e+a];return s+(t-i)/(n[r]-i)*(n[r+1]-s)}var o=r+18;for(r+=2;r<o;r+=2)if(n[r]>=t){var h=n[r-2],l=n[r-1];return l+(t-h)/(n[r]-h)*(n[r+1]-l)}e+=this.getFrameEntries();var c=n[o-2],u=n[o-1];return u+(t-c)/(this.frames[e]-c)*(this.frames[e+a]-u)},e}(N),L=function(t){function e(e,a,r){return t.call(this,e,a,[r])||this}return o(e,t),e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(t,e,a){t<<=1,this.frames[t]=e,this.frames[t+1]=a},e.prototype.getCurveValue=function(t){for(var e=this.frames,a=e.length-2,r=2;r<=a;r+=2)if(e[r]>t){a=r-2;break}var n=this.curves[a>>1];switch(n){case 0:var i=e[a],s=e[a+1];return s+(t-i)/(e[a+2]-i)*(e[a+2+1]-s);case 1:return e[a+1]}return this.getBezierValue(t,a,1,n-2)},e}(W),O=function(t){function e(e,a,r,n){return t.call(this,e,a,[r,n])||this}return o(e,t),e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(t,e,a,r){t*=3,this.frames[t]=e,this.frames[t+1]=a,this.frames[t+2]=r},e}(W),Q=function(t){function e(e,a,r){var n=t.call(this,e,a,x+"|"+r)||this;return n.boneIndex=0,n.boneIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.bones[this.boneIndex];if(h.active)if(a<this.frames[0])switch(s){case r.bq.setup:return void(h.rotation=h.data.rotation);case r.bq.first:h.rotation+=(h.data.rotation-h.rotation)*i}else{var l=this.getCurveValue(a);switch(s){case r.bq.setup:h.rotation=h.data.rotation+l*i;break;case r.bq.first:case r.bq.replace:l+=h.data.rotation-h.rotation;case r.bq.add:h.rotation+=l*i}}},e}(L),U=function(t){function e(e,a,r){var n=t.call(this,e,a,w+"|"+r,k+"|"+r)||this;return n.boneIndex=0,n.boneIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.bones[this.boneIndex];if(h.active){var l=this.frames;if(a<l[0])switch(s){case r.bq.setup:return h.x=h.data.x,void(h.y=h.data.y);case r.bq.first:h.x+=(h.data.x-h.x)*i,h.y+=(h.data.y-h.y)*i}else{var c=0,u=0,d=N.search(l,a,3),f=this.curves[d/3];switch(f){case 0:var m=l[d];c=l[d+1],u=l[d+2];var p=(a-m)/(l[d+3]-m);c+=(l[d+3+1]-c)*p,u+=(l[d+3+2]-u)*p;break;case 1:c=l[d+1],u=l[d+2];break;default:c=this.getBezierValue(a,d,1,f-2),u=this.getBezierValue(a,d,2,f+18-2)}switch(s){case r.bq.setup:h.x=h.data.x+c*i,h.y=h.data.y+u*i;break;case r.bq.first:case r.bq.replace:h.x+=(h.data.x+c-h.x)*i,h.y+=(h.data.y+u-h.y)*i;break;case r.bq.add:h.x+=c*i,h.y+=u*i}}}},e}(O),z=function(t){function e(e,a,r){var n=t.call(this,e,a,w+"|"+r)||this;return n.boneIndex=0,n.boneIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.bones[this.boneIndex];if(h.active)if(a<this.frames[0])switch(s){case r.bq.setup:return void(h.x=h.data.x);case r.bq.first:h.x+=(h.data.x-h.x)*i}else{var l=this.getCurveValue(a);switch(s){case r.bq.setup:h.x=h.data.x+l*i;break;case r.bq.first:case r.bq.replace:h.x+=(h.data.x+l-h.x)*i;break;case r.bq.add:h.x+=l*i}}},e}(L),_=function(t){function e(e,a,r){var n=t.call(this,e,a,k+"|"+r)||this;return n.boneIndex=0,n.boneIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.bones[this.boneIndex];if(h.active)if(a<this.frames[0])switch(s){case r.bq.setup:return void(h.y=h.data.y);case r.bq.first:h.y+=(h.data.y-h.y)*i}else{var l=this.getCurveValue(a);switch(s){case r.bq.setup:h.y=h.data.y+l*i;break;case r.bq.first:case r.bq.replace:h.y+=(h.data.y+l-h.y)*i;break;case r.bq.add:h.y+=l*i}}},e}(L),j=function(t){function e(e,a,r){var n=t.call(this,e,a,M+"|"+r,I+"|"+r)||this;return n.boneIndex=0,n.boneIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.bones[this.boneIndex];if(h.active){var l=this.frames;if(a<l[0])switch(s){case r.bq.setup:return h.scaleX=h.data.scaleX,void(h.scaleY=h.data.scaleY);case r.bq.first:h.scaleX+=(h.data.scaleX-h.scaleX)*i,h.scaleY+=(h.data.scaleY-h.scaleY)*i}else{var c,u,d=N.search(l,a,3),f=this.curves[d/3];switch(f){case 0:var m=l[d];c=l[d+1],u=l[d+2];var p=(a-m)/(l[d+3]-m);c+=(l[d+3+1]-c)*p,u+=(l[d+3+2]-u)*p;break;case 1:c=l[d+1],u=l[d+2];break;default:c=this.getBezierValue(a,d,1,f-2),u=this.getBezierValue(a,d,2,f+18-2)}if(c*=h.data.scaleX,u*=h.data.scaleY,1==i)s==r.bq.add?(h.scaleX+=c-h.data.scaleX,h.scaleY+=u-h.data.scaleY):(h.scaleX=c,h.scaleY=u);else{var g=0,v=0;if(o==r.mJ.mixOut)switch(s){case r.bq.setup:g=h.data.scaleX,v=h.data.scaleY,h.scaleX=g+(Math.abs(c)*r.M8.signum(g)-g)*i,h.scaleY=v+(Math.abs(u)*r.M8.signum(v)-v)*i;break;case r.bq.first:case r.bq.replace:g=h.scaleX,v=h.scaleY,h.scaleX=g+(Math.abs(c)*r.M8.signum(g)-g)*i,h.scaleY=v+(Math.abs(u)*r.M8.signum(v)-v)*i;break;case r.bq.add:g=h.scaleX,v=h.scaleY,h.scaleX=g+(Math.abs(c)*r.M8.signum(g)-h.data.scaleX)*i,h.scaleY=v+(Math.abs(u)*r.M8.signum(v)-h.data.scaleY)*i}else switch(s){case r.bq.setup:g=Math.abs(h.data.scaleX)*r.M8.signum(c),v=Math.abs(h.data.scaleY)*r.M8.signum(u),h.scaleX=g+(c-g)*i,h.scaleY=v+(u-v)*i;break;case r.bq.first:case r.bq.replace:g=Math.abs(h.scaleX)*r.M8.signum(c),v=Math.abs(h.scaleY)*r.M8.signum(u),h.scaleX=g+(c-g)*i,h.scaleY=v+(u-v)*i;break;case r.bq.add:g=r.M8.signum(c),v=r.M8.signum(u),h.scaleX=Math.abs(h.scaleX)*g+(c-Math.abs(h.data.scaleX)*g)*i,h.scaleY=Math.abs(h.scaleY)*v+(u-Math.abs(h.data.scaleY)*v)*i}}}}},e}(O),J=function(t){function e(e,a,r){var n=t.call(this,e,a,M+"|"+r)||this;return n.boneIndex=0,n.boneIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.bones[this.boneIndex];if(h.active)if(a<this.frames[0])switch(s){case r.bq.setup:return void(h.scaleX=h.data.scaleX);case r.bq.first:h.scaleX+=(h.data.scaleX-h.scaleX)*i}else{var l=this.getCurveValue(a)*h.data.scaleX;if(1==i)s==r.bq.add?h.scaleX+=l-h.data.scaleX:h.scaleX=l;else{var c=0;if(o==r.mJ.mixOut)switch(s){case r.bq.setup:c=h.data.scaleX,h.scaleX=c+(Math.abs(l)*r.M8.signum(c)-c)*i;break;case r.bq.first:case r.bq.replace:c=h.scaleX,h.scaleX=c+(Math.abs(l)*r.M8.signum(c)-c)*i;break;case r.bq.add:c=h.scaleX,h.scaleX=c+(Math.abs(l)*r.M8.signum(c)-h.data.scaleX)*i}else switch(s){case r.bq.setup:c=Math.abs(h.data.scaleX)*r.M8.signum(l),h.scaleX=c+(l-c)*i;break;case r.bq.first:case r.bq.replace:c=Math.abs(h.scaleX)*r.M8.signum(l),h.scaleX=c+(l-c)*i;break;case r.bq.add:c=r.M8.signum(l),h.scaleX=Math.abs(h.scaleX)*c+(l-Math.abs(h.data.scaleX)*c)*i}}}},e}(L),G=function(t){function e(e,a,r){var n=t.call(this,e,a,I+"|"+r)||this;return n.boneIndex=0,n.boneIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.bones[this.boneIndex];if(h.active)if(a<this.frames[0])switch(s){case r.bq.setup:return void(h.scaleY=h.data.scaleY);case r.bq.first:h.scaleY+=(h.data.scaleY-h.scaleY)*i}else{var l=this.getCurveValue(a)*h.data.scaleY;if(1==i)s==r.bq.add?h.scaleY+=l-h.data.scaleY:h.scaleY=l;else{var c=0;if(o==r.mJ.mixOut)switch(s){case r.bq.setup:c=h.data.scaleY,h.scaleY=c+(Math.abs(l)*r.M8.signum(c)-c)*i;break;case r.bq.first:case r.bq.replace:c=h.scaleY,h.scaleY=c+(Math.abs(l)*r.M8.signum(c)-c)*i;break;case r.bq.add:c=h.scaleY,h.scaleY=c+(Math.abs(l)*r.M8.signum(c)-h.data.scaleY)*i}else switch(s){case r.bq.setup:c=Math.abs(h.data.scaleY)*r.M8.signum(l),h.scaleY=c+(l-c)*i;break;case r.bq.first:case r.bq.replace:c=Math.abs(h.scaleY)*r.M8.signum(l),h.scaleY=c+(l-c)*i;break;case r.bq.add:c=r.M8.signum(l),h.scaleY=Math.abs(h.scaleY)*c+(l-Math.abs(h.data.scaleY)*c)*i}}}},e}(L),H=function(t){function e(e,a,r){var n=t.call(this,e,a,S+"|"+r,Y+"|"+r)||this;return n.boneIndex=0,n.boneIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.bones[this.boneIndex];if(h.active){var l=this.frames;if(a<l[0])switch(s){case r.bq.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case r.bq.first:h.shearX+=(h.data.shearX-h.shearX)*i,h.shearY+=(h.data.shearY-h.shearY)*i}else{var c=0,u=0,d=N.search(l,a,3),f=this.curves[d/3];switch(f){case 0:var m=l[d];c=l[d+1],u=l[d+2];var p=(a-m)/(l[d+3]-m);c+=(l[d+3+1]-c)*p,u+=(l[d+3+2]-u)*p;break;case 1:c=l[d+1],u=l[d+2];break;default:c=this.getBezierValue(a,d,1,f-2),u=this.getBezierValue(a,d,2,f+18-2)}switch(s){case r.bq.setup:h.shearX=h.data.shearX+c*i,h.shearY=h.data.shearY+u*i;break;case r.bq.first:case r.bq.replace:h.shearX+=(h.data.shearX+c-h.shearX)*i,h.shearY+=(h.data.shearY+u-h.shearY)*i;break;case r.bq.add:h.shearX+=c*i,h.shearY+=u*i}}}},e}(O),K=function(t){function e(e,a,r){var n=t.call(this,e,a,S+"|"+r)||this;return n.boneIndex=0,n.boneIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.bones[this.boneIndex];if(h.active)if(a<this.frames[0])switch(s){case r.bq.setup:return void(h.shearX=h.data.shearX);case r.bq.first:h.shearX+=(h.data.shearX-h.shearX)*i}else{var l=this.getCurveValue(a);switch(s){case r.bq.setup:h.shearX=h.data.shearX+l*i;break;case r.bq.first:case r.bq.replace:h.shearX+=(h.data.shearX+l-h.shearX)*i;break;case r.bq.add:h.shearX+=l*i}}},e}(L),$=function(t){function e(e,a,r){var n=t.call(this,e,a,Y+"|"+r)||this;return n.boneIndex=0,n.boneIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.bones[this.boneIndex];if(h.active)if(a<this.frames[0])switch(s){case r.bq.setup:return void(h.shearY=h.data.shearY);case r.bq.first:h.shearY+=(h.data.shearY-h.shearY)*i}else{var l=this.getCurveValue(a);switch(s){case r.bq.setup:h.shearY=h.data.shearY+l*i;break;case r.bq.first:case r.bq.replace:h.shearY+=(h.data.shearY+l-h.shearY)*i;break;case r.bq.add:h.shearY+=l*i}}},e}(L),Z=function(t){function e(e,a,r){var n=t.call(this,e,a,[A+"|"+r,X+"|"+r])||this;return n.slotIndex=0,n.slotIndex=r,n}return o(e,t),e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(t,e,a,r,n,i){t*=5,this.frames[t]=e,this.frames[t+1]=a,this.frames[t+2]=r,this.frames[t+3]=n,this.frames[t+4]=i},e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.slots[this.slotIndex];if(h.bone.active){var l=this.frames,c=h.color;if(a<l[0]){var u=h.data.color;switch(s){case r.bq.setup:return void c.setFromColor(u);case r.bq.first:c.add((u.r-c.r)*i,(u.g-c.g)*i,(u.b-c.b)*i,(u.a-c.a)*i)}}else{var d=0,f=0,m=0,p=0,g=N.search(l,a,5),v=this.curves[g/5];switch(v){case 0:var b=l[g];d=l[g+1],f=l[g+2],m=l[g+3],p=l[g+4];var y=(a-b)/(l[g+5]-b);d+=(l[g+5+1]-d)*y,f+=(l[g+5+2]-f)*y,m+=(l[g+5+3]-m)*y,p+=(l[g+5+4]-p)*y;break;case 1:d=l[g+1],f=l[g+2],m=l[g+3],p=l[g+4];break;default:d=this.getBezierValue(a,g,1,v-2),f=this.getBezierValue(a,g,2,v+18-2),m=this.getBezierValue(a,g,3,v+36-2),p=this.getBezierValue(a,g,4,v+54-2)}1==i?c.set(d,f,m,p):(s==r.bq.setup&&c.setFromColor(h.data.color),c.add((d-c.r)*i,(f-c.g)*i,(m-c.b)*i,(p-c.a)*i))}}},e}(W),tt=function(t){function e(e,a,r){var n=t.call(this,e,a,[A+"|"+r])||this;return n.slotIndex=0,n.slotIndex=r,n}return o(e,t),e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(t,e,a,r,n){t<<=2,this.frames[t]=e,this.frames[t+1]=a,this.frames[t+2]=r,this.frames[t+3]=n},e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.slots[this.slotIndex];if(h.bone.active){var l=this.frames,c=h.color;if(a<l[0]){var u=h.data.color;switch(s){case r.bq.setup:return c.r=u.r,c.g=u.g,void(c.b=u.b);case r.bq.first:c.r+=(u.r-c.r)*i,c.g+=(u.g-c.g)*i,c.b+=(u.b-c.b)*i}}else{var d=0,f=0,m=0,p=N.search(l,a,4),g=this.curves[p>>2];switch(g){case 0:var v=l[p];d=l[p+1],f=l[p+2],m=l[p+3];var b=(a-v)/(l[p+4]-v);d+=(l[p+4+1]-d)*b,f+=(l[p+4+2]-f)*b,m+=(l[p+4+3]-m)*b;break;case 1:d=l[p+1],f=l[p+2],m=l[p+3];break;default:d=this.getBezierValue(a,p,1,g-2),f=this.getBezierValue(a,p,2,g+18-2),m=this.getBezierValue(a,p,3,g+36-2)}if(1==i)c.r=d,c.g=f,c.b=m;else{if(s==r.bq.setup){u=h.data.color;c.r=u.r,c.g=u.g,c.b=u.b}c.r+=(d-c.r)*i,c.g+=(f-c.g)*i,c.b+=(m-c.b)*i}}}},e}(W),et=function(t){function e(e,a,r){var n=t.call(this,e,a,X+"|"+r)||this;return n.slotIndex=0,n.slotIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.slots[this.slotIndex];if(h.bone.active){var l=h.color;if(a<this.frames[0]){var c=h.data.color;switch(s){case r.bq.setup:return void(l.a=c.a);case r.bq.first:l.a+=(c.a-l.a)*i}}else{var u=this.getCurveValue(a);1==i?l.a=u:(s==r.bq.setup&&(l.a=h.data.color.a),l.a+=(u-l.a)*i)}}},e}(L),at=function(t){function e(e,a,r){var n=t.call(this,e,a,[A+"|"+r,X+"|"+r,F+"|"+r])||this;return n.slotIndex=0,n.slotIndex=r,n}return o(e,t),e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(t,e,a,r,n,i,s,o,h){t<<=3,this.frames[t]=e,this.frames[t+1]=a,this.frames[t+2]=r,this.frames[t+3]=n,this.frames[t+4]=i,this.frames[t+5]=s,this.frames[t+6]=o,this.frames[t+7]=h},e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.slots[this.slotIndex];if(h.bone.active){var l=this.frames,c=h.color,u=h.darkColor;if(a<l[0]){var d=h.data.color,f=h.data.darkColor;switch(s){case r.bq.setup:return c.setFromColor(d),u.r=f.r,u.g=f.g,void(u.b=f.b);case r.bq.first:c.add((d.r-c.r)*i,(d.g-c.g)*i,(d.b-c.b)*i,(d.a-c.a)*i),u.r+=(f.r-u.r)*i,u.g+=(f.g-u.g)*i,u.b+=(f.b-u.b)*i}}else{var m=0,p=0,g=0,v=0,b=0,y=0,x=0,w=N.search(l,a,8),k=this.curves[w>>3];switch(k){case 0:var M=l[w];m=l[w+1],p=l[w+2],g=l[w+3],v=l[w+4],b=l[w+5],y=l[w+6],x=l[w+7];var I=(a-M)/(l[w+8]-M);m+=(l[w+8+1]-m)*I,p+=(l[w+8+2]-p)*I,g+=(l[w+8+3]-g)*I,v+=(l[w+8+4]-v)*I,b+=(l[w+8+5]-b)*I,y+=(l[w+8+6]-y)*I,x+=(l[w+8+7]-x)*I;break;case 1:m=l[w+1],p=l[w+2],g=l[w+3],v=l[w+4],b=l[w+5],y=l[w+6],x=l[w+7];break;default:m=this.getBezierValue(a,w,1,k-2),p=this.getBezierValue(a,w,2,k+18-2),g=this.getBezierValue(a,w,3,k+36-2),v=this.getBezierValue(a,w,4,k+54-2),b=this.getBezierValue(a,w,5,k+72-2),y=this.getBezierValue(a,w,6,k+90-2),x=this.getBezierValue(a,w,7,k+108-2)}if(1==i)c.set(m,p,g,v),u.r=b,u.g=y,u.b=x;else{if(s==r.bq.setup){c.setFromColor(h.data.color);f=h.data.darkColor;u.r=f.r,u.g=f.g,u.b=f.b}c.add((m-c.r)*i,(p-c.g)*i,(g-c.b)*i,(v-c.a)*i),u.r+=(b-u.r)*i,u.g+=(y-u.g)*i,u.b+=(x-u.b)*i}}}},e}(W),rt=function(t){function e(e,a,r){var n=t.call(this,e,a,[A+"|"+r,F+"|"+r])||this;return n.slotIndex=0,n.slotIndex=r,n}return o(e,t),e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(t,e,a,r,n,i,s,o){t*=7,this.frames[t]=e,this.frames[t+1]=a,this.frames[t+2]=r,this.frames[t+3]=n,this.frames[t+4]=i,this.frames[t+5]=s,this.frames[t+6]=o},e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.slots[this.slotIndex];if(h.bone.active){var l=this.frames,c=h.color,u=h.darkColor;if(a<l[0]){var d=h.data.color,f=h.data.darkColor;switch(s){case r.bq.setup:return c.r=d.r,c.g=d.g,c.b=d.b,u.r=f.r,u.g=f.g,void(u.b=f.b);case r.bq.first:c.r+=(d.r-c.r)*i,c.g+=(d.g-c.g)*i,c.b+=(d.b-c.b)*i,u.r+=(f.r-u.r)*i,u.g+=(f.g-u.g)*i,u.b+=(f.b-u.b)*i}}else{var m=0,p=0,g=0,v=0,b=0,y=0,x=N.search(l,a,7),w=this.curves[x/7];switch(w){case 0:var k=l[x];m=l[x+1],p=l[x+2],g=l[x+3],v=l[x+4],b=l[x+5],y=l[x+6];var M=(a-k)/(l[x+7]-k);m+=(l[x+7+1]-m)*M,p+=(l[x+7+2]-p)*M,g+=(l[x+7+3]-g)*M,v+=(l[x+7+4]-v)*M,b+=(l[x+7+5]-b)*M,y+=(l[x+7+6]-y)*M;break;case 1:m=l[x+1],p=l[x+2],g=l[x+3],v=l[x+4],b=l[x+5],y=l[x+6];break;default:m=this.getBezierValue(a,x,1,w-2),p=this.getBezierValue(a,x,2,w+18-2),g=this.getBezierValue(a,x,3,w+36-2),v=this.getBezierValue(a,x,4,w+54-2),b=this.getBezierValue(a,x,5,w+72-2),y=this.getBezierValue(a,x,6,w+90-2)}if(1==i)c.r=m,c.g=p,c.b=g,u.r=v,u.g=b,u.b=y;else{if(s==r.bq.setup){d=h.data.color,f=h.data.darkColor;c.r=d.r,c.g=d.g,c.b=d.b,u.r=f.r,u.g=f.g,u.b=f.b}c.r+=(m-c.r)*i,c.g+=(p-c.g)*i,c.b+=(g-c.b)*i,u.r+=(v-u.r)*i,u.g+=(b-u.g)*i,u.b+=(y-u.b)*i}}}},e}(W),nt=function(t){function e(e,a){var r=t.call(this,e,[C+"|"+a])||this;return r.slotIndex=0,r.slotIndex=a,r.attachmentNames=new Array(e),r}return o(e,t),e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e,a){this.frames[t]=e,this.attachmentNames[t]=a},e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.slots[this.slotIndex];h.bone.active&&(o!=r.mJ.mixOut?a<this.frames[0]?s!=r.bq.setup&&s!=r.bq.first||this.setAttachment(t,h,h.data.attachmentName):this.setAttachment(t,h,this.attachmentNames[N.search1(this.frames,a)]):s==r.bq.setup&&this.setAttachment(t,h,h.data.attachmentName))},e.prototype.setAttachment=function(t,e,a){e.setAttachment(a?t.getAttachment(this.slotIndex,a):null)},e}(N),it=function(t){function e(e,a,r,n){var i=t.call(this,e,a,[T+"|"+r+"|"+n.id])||this;return i.slotIndex=0,i.slotIndex=r,i.attachment=n,i.vertices=new Array(e),i}return o(e,t),e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e,a){this.frames[t]=e,this.vertices[t]=a},e.prototype.setBezier=function(t,e,a,r,n,i,s,o,h,l,c){var u=this.curves,d=this.getFrameCount()+18*t;0==a&&(u[e]=2+d);for(var f=.03*(r-2*i+o),m=.03*h-.06*s,p=.006*(3*(i-o)-r+l),g=.018*(s-h+.33333333),v=2*f+p,b=2*m+g,y=.3*(i-r)+f+.16666667*p,x=.3*s+m+.16666667*g,w=r+y,k=x,M=d+18;d<M;d+=2)u[d]=w,u[d+1]=k,y+=v,x+=b,v+=p,b+=g,w+=y,k+=x},e.prototype.getCurvePercent=function(t,e){var a=this.curves,r=a[e];switch(r){case 0:var n=this.frames[e];return(t-n)/(this.frames[e+this.getFrameEntries()]-n);case 1:return 0}if(a[r-=2]>t){var i=this.frames[e];return a[r+1]*(t-i)/(a[r]-i)}var s=r+18;for(r+=2;r<s;r+=2)if(a[r]>=t){var o=a[r-2],h=a[r-1];return h+(t-o)/(a[r]-o)*(a[r+1]-h)}var l=a[s-2],c=a[s-1];return c+(1-c)*(t-l)/(this.frames[e+this.getFrameEntries()]-l)},e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.slots[this.slotIndex];if(h.bone.active){var l=h.getAttachment();if(l instanceof c&&l.deformAttachment==this.attachment){var u=h.deform;0==u.length&&(s=r.bq.setup);var d=this.vertices,f=d[0].length,m=this.frames;if(a<m[0]){var p=l;switch(s){case r.bq.setup:return void(u.length=0);case r.bq.first:if(1==i)return void(u.length=0);if(u.length=f,p.bones){i=1-i;for(v=0;v<f;v++)u[v]*=i}else for(var g=p.vertices,v=0;v<f;v++)u[v]+=(g[v]-u[v])*i}}else if(u.length=f,a>=m[m.length-1]){var b=d[m.length-1];if(1==i)if(s==r.bq.add)if((p=l).bones)for(var y=0;y<f;y++)u[y]+=b[y];else{g=p.vertices;for(var x=0;x<f;x++)u[x]+=b[x]-g[x]}else r.cQ.arrayCopy(b,0,u,0,f);else switch(s){case r.bq.setup:var w=l;if(w.bones)for(var k=0;k<f;k++)u[k]=b[k]*i;else{g=w.vertices;for(var M=0;M<f;M++){var I=g[M];u[M]=I+(b[M]-I)*i}}break;case r.bq.first:case r.bq.replace:for(var S=0;S<f;S++)u[S]+=(b[S]-u[S])*i;break;case r.bq.add:if((p=l).bones)for(var Y=0;Y<f;Y++)u[Y]+=b[Y]*i;else{g=p.vertices;for(var A=0;A<f;A++)u[A]+=(b[A]-g[A])*i}}}else{var X=N.search1(m,a),F=this.getCurvePercent(a,X),C=d[X],T=d[X+1];if(1==i)if(s==r.bq.add)if((p=l).bones)for(var q=0;q<f;q++){E=C[q];u[q]+=E+(T[q]-E)*F}else{g=p.vertices;for(var B=0;B<f;B++){var E=C[B];u[B]+=E+(T[B]-E)*F-g[B]}}else for(var R=0;R<f;R++){E=C[R];u[R]=E+(T[R]-E)*F}else switch(s){case r.bq.setup:var P=l;if(P.bones)for(var D=0;D<f;D++){E=C[D];u[D]=(E+(T[D]-E)*F)*i}else{g=P.vertices;for(var V=0;V<f;V++){var E=C[V];I=g[V];u[V]=I+(E+(T[V]-E)*F-I)*i}}break;case r.bq.first:case r.bq.replace:for(var W=0;W<f;W++){E=C[W];u[W]+=(E+(T[W]-E)*F-u[W])*i}break;case r.bq.add:if((p=l).bones)for(var L=0;L<f;L++){E=C[L];u[L]+=(E+(T[L]-E)*F)*i}else{g=p.vertices;for(var O=0;O<f;O++){E=C[O];u[O]+=(E+(T[O]-E)*F-g[O])*i}}}}}}},e}(W),st=function(t){function e(a){var r=t.call(this,a,e.propertyIds)||this;return r.events=new Array(a),r}return o(e,t),e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},e.prototype.apply=function(t,e,a,r,n,i,s){if(r){var o=this.frames,h=this.frames.length;if(e>a)this.apply(t,e,Number.MAX_VALUE,r,n,i,s),e=-1;else if(e>=o[h-1])return;if(!(a<o[0])){var l=0;if(e<o[0])l=0;else for(var c=o[l=N.search1(o,e)+1];l>0&&o[l-1]==c;)l--;for(;l<h&&a>=o[l];l++)r.push(this.events[l])}}},e.propertyIds=[""+q],e}(N),ot=function(t){function e(a){var r=t.call(this,a,e.propertyIds)||this;return r.drawOrders=new Array(a),r}return o(e,t),e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e,a){this.frames[t]=e,this.drawOrders[t]=a},e.prototype.apply=function(t,e,a,n,i,s,o){if(o!=r.mJ.mixOut)if(a<this.frames[0])s!=r.bq.setup&&s!=r.bq.first||r.cQ.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var h=this.drawOrders[N.search1(this.frames,a)];if(h)for(var l=t.drawOrder,c=t.slots,u=0,d=h.length;u<d;u++)l[u]=c[h[u]];else r.cQ.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}else s==r.bq.setup&&r.cQ.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},e.propertyIds=[""+B],e}(N),ht=function(t){function e(e,a,r){var n=t.call(this,e,a,[E+"|"+r])||this;return n.ikConstraintIndex=r,n}return o(e,t),e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(t,e,a,r,n,i,s){t*=6,this.frames[t]=e,this.frames[t+1]=a,this.frames[t+2]=r,this.frames[t+3]=n,this.frames[t+4]=i?1:0,this.frames[t+5]=s?1:0},e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.ikConstraints[this.ikConstraintIndex];if(h.active){var l=this.frames;if(a<l[0])switch(s){case r.bq.setup:return h.mix=h.data.mix,h.softness=h.data.softness,h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,void(h.stretch=h.data.stretch);case r.bq.first:h.mix+=(h.data.mix-h.mix)*i,h.softness+=(h.data.softness-h.softness)*i,h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,h.stretch=h.data.stretch}else{var c=0,u=0,d=N.search(l,a,6),f=this.curves[d/6];switch(f){case 0:var m=l[d];c=l[d+1],u=l[d+2];var p=(a-m)/(l[d+6]-m);c+=(l[d+6+1]-c)*p,u+=(l[d+6+2]-u)*p;break;case 1:c=l[d+1],u=l[d+2];break;default:c=this.getBezierValue(a,d,1,f-2),u=this.getBezierValue(a,d,2,f+18-2)}s==r.bq.setup?(h.mix=h.data.mix+(c-h.data.mix)*i,h.softness=h.data.softness+(u-h.data.softness)*i,o==r.mJ.mixOut?(h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,h.stretch=h.data.stretch):(h.bendDirection=l[d+3],h.compress=0!=l[d+4],h.stretch=0!=l[d+5])):(h.mix+=(c-h.mix)*i,h.softness+=(u-h.softness)*i,o==r.mJ.mixIn&&(h.bendDirection=l[d+3],h.compress=0!=l[d+4],h.stretch=0!=l[d+5]))}}},e}(W),lt=function(t){function e(e,a,r){var n=t.call(this,e,a,[R+"|"+r])||this;return n.transformConstraintIndex=r,n}return o(e,t),e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(t,e,a,r,n,i,s,o){var h=this.frames;h[t*=7]=e,h[t+1]=a,h[t+2]=r,h[t+3]=n,h[t+4]=i,h[t+5]=s,h[t+6]=o},e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.transformConstraints[this.transformConstraintIndex];if(h.active){var l=this.frames;if(a<l[0]){var c=h.data;switch(s){case r.bq.setup:return h.mixRotate=c.mixRotate,h.mixX=c.mixX,h.mixY=c.mixY,h.mixScaleX=c.mixScaleX,h.mixScaleY=c.mixScaleY,void(h.mixShearY=c.mixShearY);case r.bq.first:h.mixRotate+=(c.mixRotate-h.mixRotate)*i,h.mixX+=(c.mixX-h.mixX)*i,h.mixY+=(c.mixY-h.mixY)*i,h.mixScaleX+=(c.mixScaleX-h.mixScaleX)*i,h.mixScaleY+=(c.mixScaleY-h.mixScaleY)*i,h.mixShearY+=(c.mixShearY-h.mixShearY)*i}}else{var u,d,f,m,p,g,v=N.search(l,a,7),b=this.curves[v/7];switch(b){case 0:var y=l[v];u=l[v+1],d=l[v+2],f=l[v+3],m=l[v+4],p=l[v+5],g=l[v+6];var x=(a-y)/(l[v+7]-y);u+=(l[v+7+1]-u)*x,d+=(l[v+7+2]-d)*x,f+=(l[v+7+3]-f)*x,m+=(l[v+7+4]-m)*x,p+=(l[v+7+5]-p)*x,g+=(l[v+7+6]-g)*x;break;case 1:u=l[v+1],d=l[v+2],f=l[v+3],m=l[v+4],p=l[v+5],g=l[v+6];break;default:u=this.getBezierValue(a,v,1,b-2),d=this.getBezierValue(a,v,2,b+18-2),f=this.getBezierValue(a,v,3,b+36-2),m=this.getBezierValue(a,v,4,b+54-2),p=this.getBezierValue(a,v,5,b+72-2),g=this.getBezierValue(a,v,6,b+90-2)}if(s==r.bq.setup){c=h.data;h.mixRotate=c.mixRotate+(u-c.mixRotate)*i,h.mixX=c.mixX+(d-c.mixX)*i,h.mixY=c.mixY+(f-c.mixY)*i,h.mixScaleX=c.mixScaleX+(m-c.mixScaleX)*i,h.mixScaleY=c.mixScaleY+(p-c.mixScaleY)*i,h.mixShearY=c.mixShearY+(g-c.mixShearY)*i}else h.mixRotate+=(u-h.mixRotate)*i,h.mixX+=(d-h.mixX)*i,h.mixY+=(f-h.mixY)*i,h.mixScaleX+=(m-h.mixScaleX)*i,h.mixScaleY+=(p-h.mixScaleY)*i,h.mixShearY+=(g-h.mixShearY)*i}}},e}(W),ct=function(t){function e(e,a,r){var n=t.call(this,e,a,P+"|"+r)||this;return n.pathConstraintIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(a<this.frames[0])switch(s){case r.bq.setup:return void(h.position=h.data.position);case r.bq.first:h.position+=(h.data.position-h.position)*i}else{var l=this.getCurveValue(a);s==r.bq.setup?h.position=h.data.position+(l-h.data.position)*i:h.position+=(l-h.position)*i}},e}(L),ut=function(t){function e(e,a,r){var n=t.call(this,e,a,D+"|"+r)||this;return n.pathConstraintIndex=0,n.pathConstraintIndex=r,n}return o(e,t),e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(a<this.frames[0])switch(s){case r.bq.setup:return void(h.spacing=h.data.spacing);case r.bq.first:h.spacing+=(h.data.spacing-h.spacing)*i}else{var l=this.getCurveValue(a);s==r.bq.setup?h.spacing=h.data.spacing+(l-h.data.spacing)*i:h.spacing+=(l-h.spacing)*i}},e}(L),dt=function(t){function e(e,a,r){var n=t.call(this,e,a,[V+"|"+r])||this;return n.pathConstraintIndex=0,n.pathConstraintIndex=r,n}return o(e,t),e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(t,e,a,r,n){var i=this.frames;i[t<<=2]=e,i[t+1]=a,i[t+2]=r,i[t+3]=n},e.prototype.apply=function(t,e,a,n,i,s,o){var h=t.pathConstraints[this.pathConstraintIndex];if(h.active){var l=this.frames;if(a<l[0])switch(s){case r.bq.setup:return h.mixRotate=h.data.mixRotate,h.mixX=h.data.mixX,void(h.mixY=h.data.mixY);case r.bq.first:h.mixRotate+=(h.data.mixRotate-h.mixRotate)*i,h.mixX+=(h.data.mixX-h.mixX)*i,h.mixY+=(h.data.mixY-h.mixY)*i}else{var c,u,d,f=N.search(l,a,4),m=this.curves[f>>2];switch(m){case 0:var p=l[f];c=l[f+1],u=l[f+2],d=l[f+3];var g=(a-p)/(l[f+4]-p);c+=(l[f+4+1]-c)*g,u+=(l[f+4+2]-u)*g,d+=(l[f+4+3]-d)*g;break;case 1:c=l[f+1],u=l[f+2],d=l[f+3];break;default:c=this.getBezierValue(a,f,1,m-2),u=this.getBezierValue(a,f,2,m+18-2),d=this.getBezierValue(a,f,3,m+36-2)}if(s==r.bq.setup){var v=h.data;h.mixRotate=v.mixRotate+(c-v.mixRotate)*i,h.mixX=v.mixX+(u-v.mixX)*i,h.mixY=v.mixY+(d-v.mixY)*i}else h.mixRotate+=(c-h.mixRotate)*i,h.mixX+=(u-h.mixX)*i,h.mixY+=(d-h.mixY)*i}}},e}(W),ft=function(){function t(t){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new pt(this),this.propertyIDs=new r.PA,this.animationsChanged=!1,this.trackEntryPool=new r.Kg((function(){return new mt})),this.data=t}return t.emptyAnimation=function(){return St||(St=new y("<empty>",[],0)),St},t.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,a=0,r=e.length;a<r;a++){var n=e[a];if(n){n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast;var i=t*n.timeScale;if(n.delay>0){if(n.delay-=i,n.delay>0)continue;i=-n.delay,n.delay=0}var s=n.next;if(s){var o=n.trackLast-s.delay;if(o>=0){for(s.delay=0,s.trackTime+=0==n.timeScale?0:(o/n.timeScale+t)*s.timeScale,n.trackTime+=i,this.setCurrent(a,s,!0);s.mixingFrom;)s.mixTime+=t,s=s.mixingFrom;continue}}else if(n.trackLast>=n.trackEnd&&!n.mixingFrom){e[a]=null,this.queue.end(n),this.clearNext(n);continue}if(n.mixingFrom&&this.updateMixingFrom(n,t)){var h=n.mixingFrom;for(n.mixingFrom=null,h&&(h.mixingTo=null);h;)this.queue.end(h),h=h.mixingFrom}n.trackTime+=i}}this.queue.drain()},t.prototype.updateMixingFrom=function(t,e){var a=t.mixingFrom;if(!a)return!0;var r=this.updateMixingFrom(a,e);return a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=a.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=a.mixingFrom,a.mixingFrom&&(a.mixingFrom.mixingTo=t),t.interruptAlpha=a.interruptAlpha,this.queue.end(a)),r):(a.trackTime+=e*a.timeScale,t.mixTime+=e,!1)},t.prototype.apply=function(t){if(!t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,a=this.tracks,n=!1,i=0,s=a.length;i<s;i++){var o=a[i];if(o&&!(o.delay>0)){n=!0;var h=0==i?r.bq.first:o.mixBlend,l=o.alpha;o.mixingFrom?l*=this.applyMixingFrom(o,t,h):o.trackTime>=o.trackEnd&&!o.next&&(l=0);var c=o.animationLast,u=o.getAnimationTime(),d=u,f=e;o.reverse&&(d=o.animation.duration-d,f=null);var m=o.animation.timelines,p=m.length;if(0==i&&1==l||h==r.bq.add)for(var g=0;g<p;g++){r.cQ.webkit602BugfixHelper(l,h);var v=m[g];v instanceof nt?this.applyAttachmentTimeline(v,t,d,h,!0):v.apply(t,c,d,f,l,h,r.mJ.mixIn)}else{var b=o.timelineMode,y=o.timelinesRotation.length!=p<<1;y&&(o.timelinesRotation.length=p<<1);for(g=0;g<p;g++){var x=m[g],w=b[g]==bt?h:r.bq.setup;x instanceof Q?this.applyRotateTimeline(x,t,d,l,w,o.timelinesRotation,g<<1,y):x instanceof nt?this.applyAttachmentTimeline(x,t,d,h,!0):(r.cQ.webkit602BugfixHelper(l,h),x.apply(t,c,d,f,l,w,r.mJ.mixIn))}}this.queueEvents(o,u),e.length=0,o.nextAnimationLast=u,o.nextTrackLast=o.trackTime}}for(var k=this.unkeyedState+Mt,M=t.slots,I=0,S=t.slots.length;I<S;I++){var Y=M[I];if(Y.attachmentState==k){var A=Y.data.attachmentName;Y.setAttachment(A?t.getAttachment(Y.data.index,A):null)}}return this.unkeyedState+=2,this.queue.drain(),n},t.prototype.applyMixingFrom=function(t,e,a){var n=t.mixingFrom;n.mixingFrom&&this.applyMixingFrom(n,e,a);var i=0;0==t.mixDuration?(i=1,a==r.bq.first&&(a=r.bq.setup)):((i=t.mixTime/t.mixDuration)>1&&(i=1),a!=r.bq.first&&(a=n.mixBlend));var s=i<n.attachmentThreshold,o=i<n.drawOrderThreshold,h=n.animation.timelines,l=h.length,c=n.alpha*t.interruptAlpha,u=c*(1-i),d=n.animationLast,f=n.getAnimationTime(),m=f,p=null;if(n.reverse?m=n.animation.duration-m:i<n.eventThreshold&&(p=this.events),a==r.bq.add)for(var g=0;g<l;g++)h[g].apply(e,d,m,p,u,a,r.mJ.mixOut);else{var v=n.timelineMode,b=n.timelineHoldMix,y=n.timelinesRotation.length!=l<<1;y&&(n.timelinesRotation.length=l<<1),n.totalAlpha=0;for(g=0;g<l;g++){var x=h[g],w=r.mJ.mixOut,k=void 0,M=0;switch(v[g]){case bt:if(!o&&x instanceof ot)continue;k=a,M=u;break;case yt:k=r.bq.setup,M=u;break;case xt:k=a,M=c;break;case wt:k=r.bq.setup,M=c;break;default:k=r.bq.setup;var I=b[g];M=c*Math.max(0,1-I.mixTime/I.mixDuration)}n.totalAlpha+=M,x instanceof Q?this.applyRotateTimeline(x,e,m,M,k,n.timelinesRotation,g<<1,y):x instanceof nt?this.applyAttachmentTimeline(x,e,m,k,s):(r.cQ.webkit602BugfixHelper(M,a),o&&x instanceof ot&&k==r.bq.setup&&(w=r.mJ.mixIn),x.apply(e,d,m,p,M,k,w))}}return t.mixDuration>0&&this.queueEvents(n,f),this.events.length=0,n.nextAnimationLast=f,n.nextTrackLast=n.trackTime,i},t.prototype.applyAttachmentTimeline=function(t,e,a,n,i){var s=e.slots[t.slotIndex];s.bone.active&&(a<t.frames[0]?n!=r.bq.setup&&n!=r.bq.first||this.setAttachment(e,s,s.data.attachmentName,i):this.setAttachment(e,s,t.attachmentNames[N.search1(t.frames,a)],i),s.attachmentState<=this.unkeyedState&&(s.attachmentState=this.unkeyedState+Mt))},t.prototype.setAttachment=function(t,e,a,r){e.setAttachment(a?t.getAttachment(e.data.index,a):null),r&&(e.attachmentState=this.unkeyedState+It)},t.prototype.applyRotateTimeline=function(t,e,a,n,i,s,o,h){if(h&&(s[o]=0),1!=n){var l=e.bones[t.boneIndex];if(l.active){var c=0,u=0;if(a<t.frames[0])switch(i){case r.bq.setup:l.rotation=l.data.rotation;default:return;case r.bq.first:c=l.rotation,u=l.data.rotation}else c=i==r.bq.setup?l.data.rotation:l.rotation,u=l.data.rotation+t.getCurveValue(a);var d=0,f=u-c;if(0==(f-=360*(16384-(16384.499999999996-f/360|0))))d=s[o];else{var m=0,p=0;h?(m=0,p=f):(m=s[o],p=s[o+1]);var g=f>0,v=m>=0;r.M8.signum(p)!=r.M8.signum(f)&&Math.abs(p)<=90&&(Math.abs(m)>180&&(m+=360*r.M8.signum(m)),v=g),d=f+m-m%360,v!=g&&(d+=360*r.M8.signum(m)),s[o]=d}s[o+1]=f,l.rotation=c+d*n}}else t.apply(e,0,a,null,1,i,r.mJ.mixIn)},t.prototype.queueEvents=function(t,e){for(var a=t.animationStart,r=t.animationEnd,n=r-a,i=t.trackLast%n,s=this.events,o=0,h=s.length;o<h;o++){var l=s[o];if(l.time<i)break;l.time>r||this.queue.event(t,l)}for((t.loop?0==n||i>t.trackTime%n:e>=r&&t.animationLast<r)&&this.queue.complete(t);o<h;o++){var c=s[o];c.time<a||this.queue.event(t,c)}},t.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,a=this.tracks.length;e<a;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},t.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(e){this.queue.end(e),this.clearNext(e);for(var a=e;;){var r=a.mixingFrom;if(!r)break;this.queue.end(r),a.mixingFrom=null,a.mixingTo=null,a=r}this.tracks[e.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(t,e,a){var r=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,r&&(a&&this.queue.interrupt(r),e.mixingFrom=r,r.mixingTo=e,e.mixTime=0,r.mixingFrom&&r.mixDuration>0&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)},t.prototype.setAnimation=function(t,e,a){void 0===a&&(a=!1);var r=this.data.skeletonData.findAnimation(e);if(!r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,a)},t.prototype.setAnimationWith=function(t,e,a){if(void 0===a&&(a=!1),!e)throw new Error("animation cannot be null.");var r=!0,n=this.expandToIndex(t);n&&(-1==n.nextTrackLast?(this.tracks[t]=n.mixingFrom,this.queue.interrupt(n),this.queue.end(n),this.clearNext(n),n=n.mixingFrom,r=!1):this.clearNext(n));var i=this.trackEntry(t,e,a,n);return this.setCurrent(t,i,r),this.queue.drain(),i},t.prototype.addAnimation=function(t,e,a,r){void 0===a&&(a=!1),void 0===r&&(r=0);var n=this.data.skeletonData.findAnimation(e);if(!n)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,n,a,r)},t.prototype.addAnimationWith=function(t,e,a,r){if(void 0===a&&(a=!1),void 0===r&&(r=0),!e)throw new Error("animation cannot be null.");var n=this.expandToIndex(t);if(n)for(;n.next;)n=n.next;var i=this.trackEntry(t,e,a,n);return n?(n.next=i,i.previous=n,r<=0&&(r+=n.getTrackComplete()-i.mixDuration)):(this.setCurrent(t,i,!0),this.queue.drain()),i.delay=r,i},t.prototype.setEmptyAnimation=function(e,a){void 0===a&&(a=0);var r=this.setAnimationWith(e,t.emptyAnimation(),!1);return r.mixDuration=a,r.trackEnd=a,r},t.prototype.addEmptyAnimation=function(e,a,r){void 0===a&&(a=0),void 0===r&&(r=0);var n=this.addAnimationWith(e,t.emptyAnimation(),!1,r);return r<=0&&(n.delay+=n.mixDuration-a),n.mixDuration=a,n.trackEnd=a,n},t.prototype.setEmptyAnimations=function(t){void 0===t&&(t=0);var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var a=0,r=this.tracks.length;a<r;a++){var n=this.tracks[a];n&&this.setEmptyAnimation(n.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},t.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(r.cQ.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},t.prototype.trackEntry=function(t,e,a,n){var i=this.trackEntryPool.obtain();return i.trackIndex=t,i.animation=e,i.loop=a,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=n?this.data.getMix(n.animation,e):0,i.mixBlend=r.bq.replace,i},t.prototype.clearNext=function(t){for(var e=t.next;e;)this.queue.dispose(e),e=e.next;t.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=this.tracks,e=0,a=t.length;e<a;e++){var n=t[e];if(n){for(;n.mixingFrom;)n=n.mixingFrom;do{n.mixingTo&&n.mixBlend==r.bq.add||this.computeHold(n),n=n.mixingTo}while(n)}}},t.prototype.computeHold=function(t){var e=t.mixingTo,a=t.animation.timelines,r=t.animation.timelines.length,n=t.timelineMode;n.length=r;var i=t.timelineHoldMix;i.length=0;var s=this.propertyIDs;if(e&&e.holdPrevious)for(var o=0;o<r;o++)n[o]=s.addAll(a[o].getPropertyIds())?wt:xt;else t:for(o=0;o<r;o++){var h=a[o],l=h.getPropertyIds();if(s.addAll(l))if(!e||h instanceof nt||h instanceof ot||h instanceof st||!e.animation.hasTimeline(l))n[o]=yt;else{for(var c=e.mixingTo;c;c=c.mixingTo)if(!c.animation.hasTimeline(l)){if(t.mixDuration>0){n[o]=kt,i[o]=c;continue t}break}n[o]=wt}else n[o]=bt}},t.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},t.prototype.addListener=function(t){if(!t)throw new Error("listener cannot be null.");this.listeners.push(t)},t.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,a,r){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,a,r)},t.prototype.addAnimationByName=function(e,a,r,n){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,a,r,n)},t.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),mt=function(){function t(){this.mixBlend=r.bq.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var t=this.animationEnd-this.animationStart;if(0!=t){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),pt=function(){function t(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return t.prototype.start=function(t){this.objects.push(h.start),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.interrupt=function(t){this.objects.push(h.interrupt),this.objects.push(t)},t.prototype.end=function(t){this.objects.push(h.end),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.dispose=function(t){this.objects.push(h.dispose),this.objects.push(t)},t.prototype.complete=function(t){this.objects.push(h.complete),this.objects.push(t)},t.prototype.event=function(t,e){this.objects.push(h.event),this.objects.push(t),this.objects.push(e)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,a=0;a<t.length;a+=2){var r=t[a],n=t[a+1];switch(r){case h.start:null!=n.listener&&n.listener.start&&n.listener.start(n);for(var i=0;i<e.length;i++)e[i].start&&e[i].start(n);break;case h.interrupt:null!=n.listener&&n.listener.interrupt&&n.listener.interrupt(n);for(i=0;i<e.length;i++)e[i].interrupt&&e[i].interrupt(n);break;case h.end:null!=n.listener&&n.listener.end&&n.listener.end(n);for(i=0;i<e.length;i++)e[i].end&&e[i].end(n);case h.dispose:null!=n.listener&&n.listener.dispose&&n.listener.dispose(n);for(i=0;i<e.length;i++)e[i].dispose&&e[i].dispose(n);this.animState.trackEntryPool.free(n);break;case h.complete:null!=n.listener&&n.listener.complete&&n.listener.complete(n);for(i=0;i<e.length;i++)e[i].complete&&e[i].complete(n);break;case h.event:var s=t[2+a++];null!=n.listener&&n.listener.event&&n.listener.event(n,s);for(i=0;i<e.length;i++)e[i].event&&e[i].event(n,s)}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}();!function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(h||(h={}));var gt,vt=function(){function t(){}return t.prototype.start=function(t){},t.prototype.interrupt=function(t){},t.prototype.end=function(t){},t.prototype.dispose=function(t){},t.prototype.complete=function(t){},t.prototype.event=function(t,e){},t}(),bt=0,yt=1,xt=2,wt=3,kt=4,Mt=1,It=2,St=null,Yt=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,a){var r=this.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: "+t);var n=this.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: "+e);this.setMixWith(r,n,a)},t.prototype.setMixWith=function(t,e,a){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var r=t.name+"."+e.name;this.animationToMixTime[r]=a},t.prototype.getMix=function(t,e){var a=t.name+"."+e.name,r=this.animationToMixTime[a];return void 0===r?this.defaultMix:r},t}(),At=function(){function t(t){this.atlas=t}return t.prototype.newRegionAttachment=function(t,e,a){var r=this.atlas.findRegion(a);if(null==r)throw new Error("Region not found in atlas: "+a+" (region attachment: "+e+")");var n=new g(e);return n.region=r,n},t.prototype.newMeshAttachment=function(t,e,a){var r=this.atlas.findRegion(a);if(null==r)throw new Error("Region not found in atlas: "+a+" (mesh attachment: "+e+")");var n=new f(e);return n.region=r,n},t.prototype.newBoundingBoxAttachment=function(t,e){return new u(e)},t.prototype.newPathAttachment=function(t,e){return new m(e)},t.prototype.newPointAttachment=function(t,e){return new p(e)},t.prototype.newClippingAttachment=function(t,e){return new d(e)},t}(),Xt=function(){function t(t,e,a){if(this.matrix=new n.y3,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=a,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(t,e,a,n,i,s,o){this.ax=t,this.ay=e,this.arotation=a,this.ascaleX=n,this.ascaleY=i,this.ashearX=s,this.ashearY=o;var h=this.parent,l=this.matrix,c=this.skeleton.scaleX,u=r.Xd.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(!h){var d=this.skeleton,f=a+90+o;return l.a=r.M8.cosDeg(a+s)*n*c,l.c=r.M8.cosDeg(f)*i*c,l.b=r.M8.sinDeg(a+s)*n*u,l.d=r.M8.sinDeg(f)*i*u,l.tx=t*c+d.x,void(l.ty=e*u+d.y)}var m=h.matrix.a,p=h.matrix.c,g=h.matrix.b,v=h.matrix.d;switch(l.tx=m*t+p*e+h.matrix.tx,l.ty=g*t+v*e+h.matrix.ty,this.data.transformMode){case r.Qe.Normal:f=a+90+o;var b=r.M8.cosDeg(a+s)*n,y=r.M8.cosDeg(f)*i,x=r.M8.sinDeg(a+s)*n,w=r.M8.sinDeg(f)*i;return l.a=m*b+p*x,l.c=m*y+p*w,l.b=g*b+v*x,void(l.d=g*y+v*w);case r.Qe.OnlyTranslation:f=a+90+o;l.a=r.M8.cosDeg(a+s)*n,l.c=r.M8.cosDeg(f)*i,l.b=r.M8.sinDeg(a+s)*n,l.d=r.M8.sinDeg(f)*i;break;case r.Qe.NoRotationOrReflection:var k=0;(S=m*m+g*g)>1e-4?(S=Math.abs(m*v-p*g)/S,m/=this.skeleton.scaleX,p=(g/=this.skeleton.scaleY)*S,v=m*S,k=Math.atan2(g,m)*r.M8.radDeg):(m=0,g=0,k=90-Math.atan2(v,p)*r.M8.radDeg);var M=a+s-k,I=a+o-k+90;b=r.M8.cosDeg(M)*n,y=r.M8.cosDeg(I)*i,x=r.M8.sinDeg(M)*n,w=r.M8.sinDeg(I)*i;l.a=m*b-p*x,l.c=m*y-p*w,l.b=g*b+v*x,l.d=g*y+v*w;break;case r.Qe.NoScale:case r.Qe.NoScaleOrReflection:var S,Y=r.M8.cosDeg(a),A=r.M8.sinDeg(a),X=(m*Y+p*A)/c,F=(g*Y+v*A)/u;(S=Math.sqrt(X*X+F*F))>1e-5&&(S=1/S),X*=S,F*=S,S=Math.sqrt(X*X+F*F),this.data.transformMode==r.Qe.NoScale&&m*v-p*g<0!=(r.Xd.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(S=-S);var C=Math.PI/2+Math.atan2(F,X),T=Math.cos(C)*S,q=Math.sin(C)*S;b=r.M8.cosDeg(s)*n,y=r.M8.cosDeg(90+o)*i,x=r.M8.sinDeg(s)*n,w=r.M8.sinDeg(90+o)*i;l.a=X*b+T*x,l.c=X*y+T*w,l.b=F*b+q*x,l.d=F*y+q*w}l.a*=c,l.c*=c,l.b*=u,l.d*=u},t.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*r.M8.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*r.M8.radDeg},t.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.b*t.b)},t.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.c*t.c+t.d*t.d)},t.prototype.updateAppliedTransform=function(){var t=this.parent,e=this.matrix;if(!t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*r.M8.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*r.M8.radDeg);var a=t.matrix,n=1/(a.a*a.d-a.b*a.c),i=e.tx-a.tx,s=e.ty-a.ty;this.ax=i*a.d*n-s*a.c*n,this.ay=s*a.a*n-i*a.b*n;var o=n*a.d,h=n*a.a,l=n*a.c,c=n*a.b,u=o*e.a-l*e.b,d=o*e.c-l*e.d,f=h*e.b-c*e.a,m=h*e.d-c*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(u*u+f*f),this.ascaleX>1e-4){var p=u*m-d*f;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(u*d+f*m,p)*r.M8.radDeg,this.arotation=Math.atan2(f,u)*r.M8.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(d*d+m*m),this.ashearY=0,this.arotation=90-Math.atan2(m,d)*r.M8.radDeg},t.prototype.worldToLocal=function(t){var e=this.matrix,a=e.a,r=e.c,n=e.b,i=e.d,s=1/(a*i-r*n),o=t.x-e.tx,h=t.y-e.ty;return t.x=o*i*s-h*r*s,t.y=h*a*s-o*n*s,t},t.prototype.localToWorld=function(t){var e=this.matrix,a=t.x,r=t.y;return t.x=a*e.a+r*e.c+e.tx,t.y=a*e.b+r*e.d+e.ty,t},t.prototype.worldToLocalRotation=function(t){var e=r.M8.sinDeg(t),a=r.M8.cosDeg(t),n=this.matrix;return Math.atan2(n.a*e-n.b*a,n.d*a-n.c*e)*r.M8.radDeg},t.prototype.localToWorldRotation=function(t){t-=this.rotation-this.shearX;var e=r.M8.sinDeg(t),a=r.M8.cosDeg(t),n=this.matrix;return Math.atan2(a*n.b+e*n.d,a*n.a+e*n.c)*r.M8.radDeg},t.prototype.rotateWorld=function(t){var e=this.matrix,a=e.a,n=e.c,i=e.b,s=e.d,o=r.M8.cosDeg(t),h=r.M8.sinDeg(t);e.a=o*a-h*i,e.c=o*n-h*s,e.b=h*a+o*i,e.d=h*n+o*s},t}(),Ft=function(t,e,a){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=r.Qe.Normal,this.skinRequired=!1,this.color=new r.Il,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=a},Ct=function(t,e,a){this.name=t,this.order=e,this.skinRequired=a},Tt=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e},qt=function(t){this.name=t},Bt=function(){function t(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var a=0;a<t.bones.length;a++)this.bones.push(e.findBone(t.bones[a].name));this.target=e.findBone(t.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(0!=this.mix){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}},t.prototype.apply1=function(t,e,a,n,i,s,o){var h=t.parent.matrix,l=h.a,c=h.c,u=h.b,d=h.d,f=-t.ashearX-t.arotation,m=0,p=0;switch(t.data.transformMode){case r.Qe.OnlyTranslation:m=e-t.worldX,p=a-t.worldY;break;case r.Qe.NoRotationOrReflection:var g=Math.abs(l*d-c*u)/(l*l+u*u),v=l/t.skeleton.scaleX,b=u/t.skeleton.scaleY;c=-b*g*t.skeleton.scaleX,d=v*g*t.skeleton.scaleY,f+=Math.atan2(b,v)*r.M8.radDeg;default:var y=e-h.tx,x=a-h.ty,w=l*d-c*u;m=(y*d-x*c)/w-t.ax,p=(x*l-y*u)/w-t.ay}f+=Math.atan2(p,m)*r.M8.radDeg,t.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var k=t.ascaleX,M=t.ascaleY;if(n||i){switch(t.data.transformMode){case r.Qe.NoScale:case r.Qe.NoScaleOrReflection:m=e-t.worldX,p=a-t.worldY}var I=t.data.length*k,S=Math.sqrt(m*m+p*p);if(n&&S<I||i&&S>I&&I>1e-4)k*=g=(S/I-1)*o+1,s&&(M*=g)}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+f*o,k,M,t.ashearX,t.ashearY)},t.prototype.apply2=function(t,e,a,n,i,s,o,h,l){var c=t.ax,u=t.ay,d=t.ascaleX,f=t.ascaleY,m=d,p=f,g=e.ascaleX,v=t.matrix,b=0,y=0,x=0;d<0?(d=-d,b=180,x=-1):(b=0,x=1),f<0&&(f=-f,x=-x),g<0?(g=-g,y=180):y=0;var w=e.ax,k=0,M=0,I=0,S=v.a,Y=v.c,A=v.b,X=v.d,F=Math.abs(d-f)<=1e-4;!F||s?(k=0,M=S*w+v.tx,I=A*w+v.ty):(M=S*w+Y*(k=e.ay)+v.tx,I=A*w+X*k+v.ty);var C=t.parent.matrix;S=C.a,Y=C.c,A=C.b;var T,q,B=1/(S*(X=C.d)-Y*A),E=M-C.tx,R=I-C.ty,P=(E*X-R*Y)*B-c,D=(R*S-E*A)*B-u,V=Math.sqrt(P*P+D*D),N=e.data.length*g;if(V<1e-4)return this.apply1(t,a,n,!1,s,!1,l),void e.updateWorldTransformWith(w,k,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var W=((E=a-C.tx)*X-(R=n-C.ty)*Y)*B-c,L=(R*S-E*A)*B-u,O=W*W+L*L;if(0!=h){h*=d*(g+1)*.5;var Q=Math.sqrt(O),U=Q-V-N*d+h;if(U>0){var z=Math.min(1,U/(2*h))-1;O=(W-=(z=(U-h*(1-z*z))/Q)*W)*W+(L-=z*L)*L}}t:if(F){var _=(O-V*V-(N*=d)*N)/(2*V*N);_<-1?(_=-1,q=Math.PI*i):_>1?(_=1,q=0,s&&(m*=S=(Math.sqrt(O)/(V+N)-1)*l+1,o&&(p*=S))):q=Math.acos(_)*i,S=V+N*_,Y=N*Math.sin(q),T=Math.atan2(L*S-W*Y,W*S+L*Y)}else{var j=(S=d*N)*S,J=(Y=f*N)*Y,G=Math.atan2(L,W),H=-2*J*V,K=J-j;if((X=H*H-4*K*(A=J*V*V+j*O-j*J))>=0){var $=Math.sqrt(X);H<0&&($=-$);var Z=($=.5*-(H+$))/K,tt=A/$,et=Math.abs(Z)<Math.abs(tt)?Z:tt;if(et*et<=O){R=Math.sqrt(O-et*et)*i,T=G-Math.atan2(R,et),q=Math.atan2(R/f,(et-V)/d);break t}}var at=r.M8.PI,rt=V-S,nt=rt*rt,it=0,st=0,ot=V+S,ht=ot*ot,lt=0;(A=-S*V/(j-J))>=-1&&A<=1&&(A=Math.acos(A),(X=(E=S*Math.cos(A)+V)*E+(R=Y*Math.sin(A))*R)<nt&&(at=A,nt=X,rt=E,it=R),X>ht&&(st=A,ht=X,ot=E,lt=R)),O<=.5*(nt+ht)?(T=G-Math.atan2(it*i,rt),q=at*i):(T=G-Math.atan2(lt*i,ot),q=st*i)}var ct=Math.atan2(k,w)*x,ut=t.arotation;(T=(T-ct)*r.M8.radDeg+b-ut)>180?T-=360:T<-180&&(T+=360),t.updateWorldTransformWith(c,u,ut+T*l,m,p,0,0),ut=e.arotation,(q=((q+ct)*r.M8.radDeg-e.ashearX)*x+y-ut)>180?q-=360:q<-180&&(q+=360),e.updateWorldTransformWith(w,k,ut+q*l,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)},t}(),Et=function(t){function e(e){var a=t.call(this,e,0,!1)||this;return a.bones=new Array,a.bendDirection=1,a.compress=!1,a.stretch=!1,a.uniform=!1,a.mix=1,a.softness=0,a}return o(e,t),e}(Ct),Rt=function(t){function e(e){var a=t.call(this,e,0,!1)||this;return a.bones=new Array,a.mixRotate=0,a.mixX=0,a.mixY=0,a}return o(e,t),e}(Ct);!function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"}(gt||(gt={}));var Pt=function(){function t(t,e){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var a=0,r=t.bones.length;a<r;a++)this.bones.push(e.findBone(t.bones[a].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof m){var a=this.mixRotate,n=this.mixX,i=this.mixY;if(0!=a||0!=n||0!=i){var s=this.data,o=s.rotateMode==r.YK.Tangent,h=s.rotateMode==r.YK.ChainScale,l=this.bones.length,c=o?l:l+1,u=this.bones,d=r.cQ.setArraySize(this.spaces,c),f=h?this.lengths=r.cQ.setArraySize(this.lengths,l):null,p=this.spacing;switch(s.spacingMode){case gt.Percent:if(h)for(var g=0,v=c-1;g<v;g++){if((M=(T=u[g]).data.length)<t.epsilon)f[g]=0;else{var b=M*T.matrix.a,y=M*T.matrix.b;f[g]=Math.sqrt(b*b+y*y)}}r.cQ.arrayFill(d,1,c,p);break;case gt.Proportional:var x=0;for(g=0,v=c-1;g<v;){if((M=(T=u[g]).data.length)<t.epsilon)h&&(f[g]=0),d[++g]=p;else{b=M*T.matrix.a,y=M*T.matrix.b;var w=Math.sqrt(b*b+y*y);h&&(f[g]=w),d[++g]=w,x+=w}}if(x>0){x=c/x*p;for(g=1;g<c;g++)d[g]*=x}break;default:var k=s.spacingMode==gt.Length;for(g=0,v=c-1;g<v;){var M;if((M=(T=u[g]).data.length)<t.epsilon)h&&(f[g]=0),d[++g]=p;else{b=M*T.matrix.a,y=M*T.matrix.b;var I=Math.sqrt(b*b+y*y);h&&(f[g]=I),d[++g]=(k?M+p:p)*I/M}}}var S=this.computeWorldPositions(e,c,o),Y=S[0],A=S[1],X=s.offsetRotation,F=!1;if(0==X)F=s.rotateMode==r.YK.Chain;else F=!1,X*=(C=this.target.bone.matrix).a*C.d-C.b*C.c>0?r.M8.degRad:-r.M8.degRad;g=0;for(var C=3;g<l;g++,C+=3){var T,q=(T=u[g]).matrix;q.tx+=(Y-q.tx)*n,q.ty+=(A-q.ty)*i;var B=(b=S[C])-Y,E=(y=S[C+1])-A;if(h){var R=f[g];if(0!=R){var P=(Math.sqrt(B*B+E*E)/R-1)*a+1;q.a*=P,q.b*=P}}if(Y=b,A=y,a>0){var D=q.a,V=q.c,N=q.b,W=q.d,L=0,O=0,Q=0;if(L=o?S[C-1]:0==d[g+1]?S[C+2]:Math.atan2(E,B),L-=Math.atan2(N,D),F){O=Math.cos(L),Q=Math.sin(L);var U=T.data.length;Y+=(U*(O*D-Q*N)-B)*a,A+=(U*(Q*D+O*N)-E)*a}else L+=X;L>r.M8.PI?L-=r.M8.PI2:L<-r.M8.PI&&(L+=r.M8.PI2),L*=a,O=Math.cos(L),Q=Math.sin(L),q.a=O*D-Q*N,q.c=O*V-Q*W,q.b=Q*D+O*N,q.d=Q*V+O*W}T.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,a,n){var i=this.target,s=this.position,o=this.spaces,h=r.cQ.setArraySize(this.positions,3*a+2),l=null,c=e.closed,u=e.worldVerticesLength,d=u/6,f=t.NONE;if(!e.constantSpeed){var m,p=e.lengths,g=p[d-=c?1:2];switch(this.data.positionMode==r.T.Percent&&(s*=g),this.data.spacingMode){case gt.Percent:m=g;break;case gt.Proportional:m=g/a;break;default:m=1}l=r.cQ.setArraySize(this.world,8);for(var v=0,b=0,y=0;v<a;v++,b+=3){var x=s+=z=o[v]*m;if(c)(x%=g)<0&&(x+=g),y=0;else{if(x<0){f!=t.BEFORE&&(f=t.BEFORE,e.computeWorldVertices(i,2,4,l,0,2)),this.addBeforePosition(x,l,0,h,b);continue}if(x>g){f!=t.AFTER&&(f=t.AFTER,e.computeWorldVertices(i,u-6,4,l,0,2)),this.addAfterPosition(x-g,l,0,h,b);continue}}for(;;y++){var w=p[y];if(!(x>w)){if(0==y)x/=w;else x=(x-(G=p[y-1]))/(w-G);break}}y!=f&&(f=y,c&&y==d?(e.computeWorldVertices(i,u-4,4,l,0,2),e.computeWorldVertices(i,0,4,l,4,2)):e.computeWorldVertices(i,6*y+2,8,l,0,2)),this.addCurvePosition(x,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],h,b,n||v>0&&0==z)}return h}c?(u+=2,l=r.cQ.setArraySize(this.world,u),e.computeWorldVertices(i,2,u-4,l,0,2),e.computeWorldVertices(i,0,2,l,u-4,2),l[u-2]=l[0],l[u-1]=l[1]):(d--,u-=4,l=r.cQ.setArraySize(this.world,u),e.computeWorldVertices(i,2,u,l,0,2));for(var k=r.cQ.setArraySize(this.curves,d),M=0,I=l[0],S=l[1],Y=0,A=0,X=0,F=0,C=0,T=0,q=0,B=0,E=0,R=0,P=0,D=0,V=0,N=0,W=(v=0,2);v<d;v++,W+=6)Y=l[W],A=l[W+1],X=l[W+2],F=l[W+3],P=2*(q=.1875*(I-2*Y+X))+(E=.09375*(3*(Y-X)-I+(C=l[W+4]))),D=2*(B=.1875*(S-2*A+F))+(R=.09375*(3*(A-F)-S+(T=l[W+5]))),V=.75*(Y-I)+q+.16666667*E,N=.75*(A-S)+B+.16666667*R,M+=Math.sqrt(V*V+N*N),V+=P,N+=D,P+=E,D+=R,M+=Math.sqrt(V*V+N*N),V+=P,N+=D,M+=Math.sqrt(V*V+N*N),V+=P+E,N+=D+R,M+=Math.sqrt(V*V+N*N),k[v]=M,I=C,S=T;this.data.positionMode==r.T.Percent&&(s*=M);var L=0;switch(this.data.spacingMode){case gt.Percent:L=M;break;case gt.Proportional:L=M/a;break;default:L=1}for(var O=this.segments,Q=0,U=(v=0,b=0,y=0,0);v<a;v++,b+=3){var z;x=s+=z=o[v]*L;if(c)(x%=M)<0&&(x+=M),y=0;else{if(x<0){this.addBeforePosition(x,l,0,h,b);continue}if(x>M){this.addAfterPosition(x-M,l,u-4,h,b);continue}}for(;;y++){var _=k[y];if(!(x>_)){if(0==y)x/=_;else x=(x-(G=k[y-1]))/(_-G);break}}if(y!=f){f=y;var j=6*y;for(I=l[j],S=l[j+1],Y=l[j+2],A=l[j+3],X=l[j+4],F=l[j+5],P=2*(q=.03*(I-2*Y+X))+(E=.006*(3*(Y-X)-I+(C=l[j+6]))),D=2*(B=.03*(S-2*A+F))+(R=.006*(3*(A-F)-S+(T=l[j+7]))),V=.3*(Y-I)+q+.16666667*E,N=.3*(A-S)+B+.16666667*R,Q=Math.sqrt(V*V+N*N),O[0]=Q,j=1;j<8;j++)V+=P,N+=D,P+=E,D+=R,Q+=Math.sqrt(V*V+N*N),O[j]=Q;V+=P,N+=D,Q+=Math.sqrt(V*V+N*N),O[8]=Q,V+=P+E,N+=D+R,Q+=Math.sqrt(V*V+N*N),O[9]=Q,U=0}for(x*=Q;;U++){var J=O[U];if(!(x>J)){var G;if(0==U)x/=J;else x=U+(x-(G=O[U-1]))/(J-G);break}}this.addCurvePosition(.1*x,I,S,Y,A,X,F,C,T,h,b,n||v>0&&0==z)}return h},t.prototype.addBeforePosition=function(t,e,a,r,n){var i=e[a],s=e[a+1],o=e[a+2]-i,h=e[a+3]-s,l=Math.atan2(h,o);r[n]=i+t*Math.cos(l),r[n+1]=s+t*Math.sin(l),r[n+2]=l},t.prototype.addAfterPosition=function(t,e,a,r,n){var i=e[a+2],s=e[a+3],o=i-e[a],h=s-e[a+1],l=Math.atan2(h,o);r[n]=i+t*Math.cos(l),r[n+1]=s+t*Math.sin(l),r[n+2]=l},t.prototype.addCurvePosition=function(t,e,a,r,n,i,s,o,h,l,c,u){if(0==t||isNaN(t))return l[c]=e,l[c+1]=a,void(l[c+2]=Math.atan2(n-a,r-e));var d=t*t,f=d*t,m=1-t,p=m*m,g=p*m,v=m*t,b=3*v,y=m*b,x=b*t,w=e*g+r*y+i*x+o*f,k=a*g+n*y+s*x+h*f;l[c]=w,l[c+1]=k,u&&(l[c+2]=t<.001?Math.atan2(n-a,r-e):Math.atan2(k-(a*p+n*v*2+s*d),w-(e*p+r*v*2+i*d)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),Dt=function(){function t(t,e){if(this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new r.Il,this.darkColor=null==t.darkColor?null:new r.Il,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),Vt=function(){function t(t,e){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new r.FM,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY,this.bones=new Array;for(var a=0;a<t.bones.length;a++)this.bones.push(e.findBone(t.bones[a].name));this.target=e.findBone(t.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleX&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var t=this.mixRotate,e=this.mixX,a=this.mixY,n=this.mixScaleX,i=this.mixScaleY,s=this.mixShearY,o=0!=e||0!=a,h=this.target,l=h.matrix,c=l.a,u=l.c,d=l.b,f=l.d,m=c*f-u*d>0?r.M8.degRad:-r.M8.degRad,p=this.data.offsetRotation*m,g=this.data.offsetShearY*m,v=this.bones,b=0,y=v.length;b<y;b++){var x=v[b],w=x.matrix;if(0!=t){var k=w.a,M=w.c,I=w.b,S=w.d;(F=Math.atan2(d,c)-Math.atan2(I,k)+p)>r.M8.PI?F-=r.M8.PI2:F<-r.M8.PI&&(F+=r.M8.PI2),F*=t;var Y=Math.cos(F),A=Math.sin(F);w.a=Y*k-A*I,w.c=Y*M-A*S,w.b=A*k+Y*I,w.d=A*M+Y*S}if(o){var X=this.temp;h.localToWorld(X.set(this.data.offsetX,this.data.offsetY)),w.tx+=(X.x-w.tx)*e,w.ty+=(X.y-w.ty)*a}if(0!=n)0!=(T=Math.sqrt(w.a*w.a+w.b*w.b))&&(T=(T+(Math.sqrt(c*c+d*d)-T+this.data.offsetScaleX)*n)/T),w.a*=T,w.b*=T;if(0!=i)0!=(T=Math.sqrt(w.c*w.c+w.d*w.d))&&(T=(T+(Math.sqrt(u*u+f*f)-T+this.data.offsetScaleY)*i)/T),w.c*=T,w.d*=T;if(s>0){M=w.c,S=w.d;var F,C=Math.atan2(S,M);(F=Math.atan2(f,u)-Math.atan2(d,c)-(C-Math.atan2(w.b,w.a)))>r.M8.PI?F-=r.M8.PI2:F<-r.M8.PI&&(F+=r.M8.PI2),F=C+(F+g)*s;var T=Math.sqrt(M*M+S*S);w.c=Math.cos(F)*T,w.d=Math.sin(F)*T}x.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var t=this.mixRotate,e=this.mixX,a=this.mixY,n=this.mixScaleX,i=this.mixScaleY,s=this.mixShearY,o=0!=e||0!=a,h=this.target,l=h.matrix,c=l.a,u=l.c,d=l.b,f=l.d,m=c*f-u*d>0?r.M8.degRad:-r.M8.degRad,p=this.data.offsetRotation*m,g=this.data.offsetShearY*m,v=this.bones,b=0,y=v.length;b<y;b++){var x=v[b],w=x.matrix;if(0!=t){var k=w.a,M=w.c,I=w.b,S=w.d;(C=Math.atan2(d,c)+p)>r.M8.PI?C-=r.M8.PI2:C<-r.M8.PI&&(C+=r.M8.PI2),C*=t;var Y=Math.cos(C),A=Math.sin(C);w.a=Y*k-A*I,w.c=Y*M-A*S,w.b=A*k+Y*I,w.d=A*M+Y*S}if(o){var X=this.temp;h.localToWorld(X.set(this.data.offsetX,this.data.offsetY)),w.tx+=X.x*e,w.ty+=X.y*a}if(0!=n){var F=(Math.sqrt(c*c+d*d)-1+this.data.offsetScaleX)*n+1;w.a*=F,w.b*=F}if(0!=i){F=(Math.sqrt(u*u+f*f)-1+this.data.offsetScaleY)*i+1;w.c*=F,w.d*=F}if(s>0){var C;(C=Math.atan2(f,u)-Math.atan2(d,c))>r.M8.PI?C-=r.M8.PI2:C<-r.M8.PI&&(C+=r.M8.PI2);M=w.c,S=w.d;C=Math.atan2(S,M)+(C-r.M8.PI/2+g)*s;F=Math.sqrt(M*M+S*S);w.c=Math.cos(C)*F,w.d=Math.sin(C)*F}x.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var t=this.mixRotate,e=this.mixX,a=this.mixY,r=this.mixScaleX,n=this.mixScaleY,i=this.mixShearY,s=this.target,o=this.bones,h=0,l=o.length;h<l;h++){var c=o[h],u=c.arotation;if(0!=t){var d=s.arotation-u+this.data.offsetRotation;u+=(d-=360*(16384-(16384.499999999996-d/360|0)))*t}var f=c.ax,m=c.ay;f+=(s.ax-f+this.data.offsetX)*e,m+=(s.ay-m+this.data.offsetY)*a;var p=c.ascaleX,g=c.ascaleY;0!=r&&0!=p&&(p=(p+(s.ascaleX-p+this.data.offsetScaleX)*r)/p),0!=n&&0!=g&&(g=(g+(s.ascaleY-g+this.data.offsetScaleY)*n)/g);var v=c.ashearY;if(0!=i){d=s.ashearY-v+this.data.offsetShearY;v+=(d-=360*(16384-(16384.499999999996-d/360|0)))*i}c.updateWorldTransformWith(f,m,u,p,g,c.ashearX,v)}},t.prototype.applyRelativeLocal=function(){for(var t=this.mixRotate,e=this.mixX,a=this.mixY,r=this.mixScaleX,n=this.mixScaleY,i=this.mixShearY,s=this.target,o=this.bones,h=0,l=o.length;h<l;h++){var c=o[h],u=c.arotation+(s.arotation+this.data.offsetRotation)*t,d=c.ax+(s.ax+this.data.offsetX)*e,f=c.ay+(s.ay+this.data.offsetY)*a,m=c.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*r)+1,p=c.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*n)+1,g=c.ashearY+(s.ashearY+this.data.offsetShearY)*i;c.updateWorldTransformWith(d,f,u,m,p,c.ashearX,g)}},t}(),Nt=function(){function t(t){if(this._updateCache=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var a=t.bones[e],n=void 0;if(a.parent){var i=this.bones[a.parent.index];n=new Xt(a,this,i),i.children.push(n)}else n=new Xt(a,this,null);this.bones.push(n)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var s=t.slots[e],o=(n=this.bones[s.boneData.index],new Dt(s,n));this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var h=t.ikConstraints[e];this.ikConstraints.push(new Bt(h,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var l=t.transformConstraints[e];this.transformConstraints.push(new Vt(l,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var c=t.pathConstraints[e];this.pathConstraints.push(new Pt(c,this))}this.color=new r.Il(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0;for(var t=this.bones,e=0,a=t.length;e<a;e++){(n=t[e]).sorted=n.data.skinRequired,n.active=!n.sorted}if(this.skin){var r=this.skin.bones;for(e=0,a=this.skin.bones.length;e<a;e++){var n=this.bones[r[e].index];do{n.sorted=!1,n.active=!0,n=n.parent}while(n)}}var i=this.ikConstraints,s=this.transformConstraints,o=this.pathConstraints,h=i.length,l=s.length,c=o.length,u=h+l+c;t:for(e=0;e<u;e++){for(var d=0;d<h;d++){if((f=i[d]).data.order==e){this.sortIkConstraint(f);continue t}}for(d=0;d<l;d++){if((f=s[d]).data.order==e){this.sortTransformConstraint(f);continue t}}for(d=0;d<c;d++){var f;if((f=o[d]).data.order==e){this.sortPathConstraint(f);continue t}}}for(e=0,a=t.length;e<a;e++)this.sortBone(t[e])},t.prototype.sortIkConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&r.cQ.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target;this.sortBone(e);var a=t.bones,n=a[0];if(this.sortBone(n),1==a.length)this._updateCache.push(t),this.sortReset(n.children);else{var i=a[a.length-1];this.sortBone(i),this._updateCache.push(t),this.sortReset(n.children),i.sorted=!0}}},t.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin&&r.cQ.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,a=e.data.index,n=e.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,a,n),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,a,n);for(var i=0,s=this.data.skins.length;i<s;i++)this.sortPathConstraintAttachment(this.data.skins[i],a,n);var o=e.getAttachment();o instanceof m&&this.sortPathConstraintAttachmentWith(o,n);var h=t.bones,l=h.length;for(i=0;i<l;i++)this.sortBone(h[i]);this._updateCache.push(t);for(i=0;i<l;i++)this.sortReset(h[i].children);for(i=0;i<l;i++)h[i].sorted=!0}},t.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&r.cQ.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,a=e.length;if(t.data.local)for(var n=0;n<a;n++){var i=e[n];this.sortBone(i.parent),this.sortBone(i)}else for(n=0;n<a;n++)this.sortBone(e[n]);this._updateCache.push(t);for(n=0;n<a;n++)this.sortReset(e[n].children);for(n=0;n<a;n++)e[n].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(t,e,a){var r=t.attachments[e];if(r)for(var n in r)this.sortPathConstraintAttachmentWith(r[n],a)},t.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof m){var a=t.bones;if(a)for(var r=this.bones,n=0,i=a.length;n<i;){var s=a[n++];for(s+=n;n<s;)this.sortBone(r[a[n++]])}else this.sortBone(e)}},t.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},t.prototype.sortReset=function(t){for(var e=0,a=t.length;e<a;e++){var r=t[e];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var t=this.bones,e=0,a=t.length;e<a;e++){var r=t[e];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY}var n=this._updateCache;for(e=0,a=n.length;e<a;e++)n[e].update()},t.prototype.updateWorldTransformWith=function(t){var e=this.getRootBone(),a=t.matrix.a,n=t.matrix.c,i=t.matrix.b,s=t.matrix.d;e.matrix.tx=a*this.x+n*this.y+t.worldX,e.matrix.ty=i*this.x+s*this.y+t.worldY;var o=e.rotation+90+e.shearY,h=r.M8.cosDeg(e.rotation+e.shearX)*e.scaleX,l=r.M8.cosDeg(o)*e.scaleY,c=r.M8.sinDeg(e.rotation+e.shearX)*e.scaleX,u=r.M8.sinDeg(o)*e.scaleY,d=this.scaleX,f=r.Xd.yDown?-this.scaleY:this.scaleY;e.matrix.a=(a*h+n*c)*d,e.matrix.c=(a*l+n*u)*d,e.matrix.b=(i*h+s*c)*f,e.matrix.d=(i*l+s*u)*f;for(var m=this._updateCache,p=0,g=m.length;p<g;p++){var v=m[p];v!=e&&v.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,a=t.length;e<a;e++)t[e].setToSetupPose();var r=this.ikConstraints;for(e=0,a=r.length;e<a;e++){(o=r[e]).mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}var n=this.transformConstraints;for(e=0,a=n.length;e<a;e++){var i=(o=n[e]).data;o.mixRotate=i.mixRotate,o.mixX=i.mixX,o.mixY=i.mixY,o.mixScaleX=i.mixScaleX,o.mixScaleY=i.mixScaleY,o.mixShearY=i.mixShearY}var s=this.pathConstraints;for(e=0,a=s.length;e<a;e++){var o;i=(o=s[e]).data;o.position=i.position,o.spacing=i.spacing,o.mixRotate=i.mixRotate,o.mixX=i.mixX,o.mixY=i.mixY}},t.prototype.setSlotsToSetupPose=function(){var t=this.slots;r.cQ.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,a=t.length;e<a;e++)t[e].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,a=0,r=e.length;a<r;a++){var n=e[a];if(n.data.name==t)return n}return null},t.prototype.findBoneIndex=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,a=0,r=e.length;a<r;a++)if(e[a].data.name==t)return a;return-1},t.prototype.findSlot=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,a=0,r=e.length;a<r;a++){var n=e[a];if(n.data.name==t)return n}return null},t.prototype.findSlotIndex=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,a=0,r=e.length;a<r;a++)if(e[a].data.name==t)return a;return-1},t.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(!e)throw new Error("Skin not found: "+t);this.setSkin(e)},t.prototype.setSkin=function(t){if(t!=this.skin){if(t)if(this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,a=0,r=e.length;a<r;a++){var n=e[a],i=n.data.attachmentName;if(i){var s=t.getAttachment(a,i);s&&n.setAttachment(s)}}this.skin=t,this.updateCache()}},t.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},t.prototype.getAttachment=function(t,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){var a=this.skin.getAttachment(t,e);if(a)return a}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},t.prototype.setAttachment=function(t,e){if(!t)throw new Error("slotName cannot be null.");for(var a=this.slots,r=0,n=a.length;r<n;r++){var i=a[r];if(i.data.name==t){var s=null;if(e&&!(s=this.getAttachment(r,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void i.setAttachment(s)}}throw new Error("Slot not found: "+t)},t.prototype.findIkConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,a=0,r=e.length;a<r;a++){var n=e[a];if(n.data.name==t)return n}return null},t.prototype.findTransformConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,a=0,r=e.length;a<r;a++){var n=e[a];if(n.data.name==t)return n}return null},t.prototype.findPathConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,a=0,r=e.length;a<r;a++){var n=e[a];if(n.data.name==t)return n}return null},t.prototype.getBounds=function(t,e,a){if(void 0===a&&(a=new Array(2)),!t)throw new Error("offset cannot be null.");if(!e)throw new Error("size cannot be null.");for(var n=this.drawOrder,i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,l=0,c=n.length;l<c;l++){var u=n[l];if(u.bone.active){var d=0,m=null,p=u.getAttachment();if(p instanceof g)d=8,m=r.cQ.setArraySize(a,d,0),p.computeWorldVertices(u.bone,m,0,2);else if(p instanceof f){var v=p;d=v.worldVerticesLength,m=r.cQ.setArraySize(a,d,0),v.computeWorldVertices(u,0,d,m,0,2)}if(m)for(var b=0,y=m.length;b<y;b+=2){var x=m[b],w=m[b+1];i=Math.min(i,x),s=Math.min(s,w),o=Math.max(o,x),h=Math.max(h,w)}}}t.set(i,s),e.set(o-i,h-s)},t.prototype.update=function(t){this.time+=t},Object.defineProperty(t.prototype,"flipX",{get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),Wt=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,a=0,r=e.length;a<r;a++){var n=e[a];if(n.name==t)return n}return null},t.prototype.findBoneIndex=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,a=0,r=e.length;a<r;a++)if(e[a].name==t)return a;return-1},t.prototype.findSlot=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,a=0,r=e.length;a<r;a++){var n=e[a];if(n.name==t)return n}return null},t.prototype.findSlotIndex=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,a=0,r=e.length;a<r;a++)if(e[a].name==t)return a;return-1},t.prototype.findSkin=function(t){if(!t)throw new Error("skinName cannot be null.");for(var e=this.skins,a=0,r=e.length;a<r;a++){var n=e[a];if(n.name==t)return n}return null},t.prototype.findEvent=function(t){if(!t)throw new Error("eventDataName cannot be null.");for(var e=this.events,a=0,r=e.length;a<r;a++){var n=e[a];if(n.name==t)return n}return null},t.prototype.findAnimation=function(t){if(!t)throw new Error("animationName cannot be null.");for(var e=this.animations,a=0,r=e.length;a<r;a++){var n=e[a];if(n.name==t)return n}return null},t.prototype.findIkConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,a=0,r=e.length;a<r;a++){var n=e[a];if(n.name==t)return n}return null},t.prototype.findTransformConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,a=0,r=e.length;a<r;a++){var n=e[a];if(n.name==t)return n}return null},t.prototype.findPathConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,a=0,r=e.length;a<r;a++){var n=e[a];if(n.name==t)return n}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,a=0,r=e.length;a<r;a++)if(e[a].name==t)return a;return-1},t}(),Lt=function(t,e,a){if(this.color=new r.Il(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");if(!a)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=a},Ot=function(t){function e(e){var a=t.call(this,e,0,!1)||this;return a.bones=new Array,a.mixRotate=0,a.mixX=0,a.mixY=0,a.mixScaleX=0,a.mixScaleY=0,a.mixShearY=0,a.offsetRotation=0,a.offsetX=0,a.offsetY=0,a.offsetScaleX=0,a.offsetScaleY=0,a.offsetShearY=0,a.relative=!1,a.local=!1,a}return o(e,t),e}(Ct),Qt=function(t,e,a){this.slotIndex=t,this.name=e,this.attachment=a},Ut=function(){function t(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!t)throw new Error("name cannot be null.");this.name=t}return t.prototype.setAttachment=function(t,e,a){if(!a)throw new Error("attachment cannot be null.");var r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=a},t.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var a=t.bones[e],r=!1,n=0;n<this.bones.length;n++)if(this.bones[n]==a){r=!0;break}r||this.bones.push(a)}for(e=0;e<t.constraints.length;e++){var i=t.constraints[e];for(r=!1,n=0;n<this.constraints.length;n++)if(this.constraints[n]==i){r=!0;break}r||this.constraints.push(i)}var s=t.getAttachments();for(e=0;e<s.length;e++){var o=s[e];this.setAttachment(o.slotIndex,o.name,o.attachment)}},t.prototype.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var a=t.bones[e],r=!1,n=0;n<this.bones.length;n++)if(this.bones[n]==a){r=!0;break}r||this.bones.push(a)}for(e=0;e<t.constraints.length;e++){var i=t.constraints[e];for(r=!1,n=0;n<this.constraints.length;n++)if(this.constraints[n]==i){r=!0;break}r||this.constraints.push(i)}var s=t.getAttachments();for(e=0;e<s.length;e++){var o=s[e];o.attachment&&(o.attachment instanceof f?(o.attachment=o.attachment.newLinkedMesh(),this.setAttachment(o.slotIndex,o.name,o.attachment)):(o.attachment=o.attachment.copy(),this.setAttachment(o.slotIndex,o.name,o.attachment)))}},t.prototype.getAttachment=function(t,e){var a=this.attachments[t];return a?a[e]:null},t.prototype.removeAttachment=function(t,e){var a=this.attachments[t];a&&(a[e]=null)},t.prototype.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var a=this.attachments[e];if(a)for(var r in a){var n=a[r];n&&t.push(new Qt(e,r,n))}}return t},t.prototype.getAttachmentsForSlot=function(t,e){var a=this.attachments[t];if(a)for(var r in a){var n=a[r];n&&e.push(new Qt(t,r,n))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(t,e){for(var a=0,r=0;r<t.slots.length;r++){var n=t.slots[r],i=n.getAttachment();if(i&&a<e.attachments.length){var s=e.attachments[a];for(var o in s){if(i==s[o]){var h=this.getAttachment(a,o);h&&n.setAttachment(h);break}}}a++}},t}(),zt=function(){function t(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return t.prototype.readSkeletonData=function(e){var a=this.scale,n=new Wt;n.name="";var i=new r.YT(e),s=i.readInt32(),o=i.readInt32();if(n.hash=0==o&&0==s?null:o.toString(16)+s.toString(16),n.version=i.readString(),"4.0"!==n.version.substr(0,3)){var h="Spine 4.0 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(h)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var c=0;c=i.readInt(!0);for(var u=0;u<c;u++)i.strings.push(i.readString());c=i.readInt(!0);for(u=0;u<c;u++){var d=i.readString(),f=0==u?null:n.bones[i.readInt(!0)];(g=new Ft(u,d,f)).rotation=i.readFloat(),g.x=i.readFloat()*a,g.y=i.readFloat()*a,g.scaleX=i.readFloat(),g.scaleY=i.readFloat(),g.shearX=i.readFloat(),g.shearY=i.readFloat(),g.length=i.readFloat()*a,g.transformMode=i.readInt(!0),g.skinRequired=i.readBoolean(),l&&r.Il.rgba8888ToColor(g.color,i.readInt32()),n.bones.push(g)}c=i.readInt(!0);for(u=0;u<c;u++){var m=i.readString(),p=n.bones[i.readInt(!0)],g=new Lt(u,m,p);r.Il.rgba8888ToColor(g.color,i.readInt32());var v=i.readInt32();-1!=v&&r.Il.rgb888ToColor(g.darkColor=new r.Il,v),g.attachmentName=i.readStringRef(),g.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(g)}c=i.readInt(!0);u=0;for(var b=void 0;u<c;u++){(g=new Et(i.readString())).order=i.readInt(!0),g.skinRequired=i.readBoolean(),b=i.readInt(!0);for(var y=0;y<b;y++)g.bones.push(n.bones[i.readInt(!0)]);g.target=n.bones[i.readInt(!0)],g.mix=i.readFloat(),g.softness=i.readFloat()*a,g.bendDirection=i.readByte(),g.compress=i.readBoolean(),g.stretch=i.readBoolean(),g.uniform=i.readBoolean(),n.ikConstraints.push(g)}c=i.readInt(!0);for(u=0,b=void 0;u<c;u++){(g=new Ot(i.readString())).order=i.readInt(!0),g.skinRequired=i.readBoolean(),b=i.readInt(!0);for(y=0;y<b;y++)g.bones.push(n.bones[i.readInt(!0)]);g.target=n.bones[i.readInt(!0)],g.local=i.readBoolean(),g.relative=i.readBoolean(),g.offsetRotation=i.readFloat(),g.offsetX=i.readFloat()*a,g.offsetY=i.readFloat()*a,g.offsetScaleX=i.readFloat(),g.offsetScaleY=i.readFloat(),g.offsetShearY=i.readFloat(),g.mixRotate=i.readFloat(),g.mixX=i.readFloat(),g.mixY=i.readFloat(),g.mixScaleX=i.readFloat(),g.mixScaleY=i.readFloat(),g.mixShearY=i.readFloat(),n.transformConstraints.push(g)}c=i.readInt(!0);for(u=0,b=void 0;u<c;u++){(g=new Rt(i.readString())).order=i.readInt(!0),g.skinRequired=i.readBoolean(),b=i.readInt(!0);for(y=0;y<b;y++)g.bones.push(n.bones[i.readInt(!0)]);g.target=n.slots[i.readInt(!0)],g.positionMode=i.readInt(!0),g.spacingMode=i.readInt(!0),g.rotateMode=i.readInt(!0),g.offsetRotation=i.readFloat(),g.position=i.readFloat(),g.positionMode==r.T.Fixed&&(g.position*=a),g.spacing=i.readFloat(),g.spacingMode!=gt.Length&&g.spacingMode!=gt.Fixed||(g.spacing*=a),g.mixRotate=i.readFloat(),g.mixX=i.readFloat(),g.mixY=i.readFloat(),n.pathConstraints.push(g)}var x=this.readSkin(i,n,!0,l);x&&(n.defaultSkin=x,n.skins.push(x));u=n.skins.length;for(r.cQ.setArraySize(n.skins,c=u+i.readInt(!0));u<c;u++)n.skins[u]=this.readSkin(i,n,!1,l);c=this.linkedMeshes.length;for(u=0;u<c;u++){var w=this.linkedMeshes[u],k=(w.skin?n.findSkin(w.skin):n.defaultSkin).getAttachment(w.slotIndex,w.parent);w.mesh.deformAttachment=w.inheritDeform?k:w.mesh,w.mesh.setParentMesh(k)}this.linkedMeshes.length=0,c=i.readInt(!0);for(u=0;u<c;u++){(g=new qt(i.readStringRef())).intValue=i.readInt(!1),g.floatValue=i.readFloat(),g.stringValue=i.readString(),g.audioPath=i.readString(),g.audioPath&&(g.volume=i.readFloat(),g.balance=i.readFloat()),n.events.push(g)}c=i.readInt(!0);for(u=0;u<c;u++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(t,e,a,r){var n=null,i=0;if(a){if(0==(i=t.readInt(!0)))return null;n=new Ut("default")}else{(n=new Ut(t.readStringRef())).bones.length=t.readInt(!0);for(var s=0,o=n.bones.length;s<o;s++)n.bones[s]=e.bones[t.readInt(!0)];for(s=0,o=t.readInt(!0);s<o;s++)n.constraints.push(e.ikConstraints[t.readInt(!0)]);for(s=0,o=t.readInt(!0);s<o;s++)n.constraints.push(e.transformConstraints[t.readInt(!0)]);for(s=0,o=t.readInt(!0);s<o;s++)n.constraints.push(e.pathConstraints[t.readInt(!0)]);i=t.readInt(!0)}for(s=0;s<i;s++)for(var h=t.readInt(!0),l=0,c=t.readInt(!0);l<c;l++){var u=t.readStringRef(),d=this.readAttachment(t,e,n,h,u,r);d&&n.setAttachment(h,u,d)}return n},t.prototype.readAttachment=function(t,e,a,n,i,s){var o=this.scale,h=t.readStringRef();switch(h||(h=i),t.readByte()){case r.sf.Region:var l=t.readStringRef(),c=t.readFloat(),u=t.readFloat(),d=t.readFloat(),f=t.readFloat(),m=t.readFloat(),p=t.readFloat(),g=t.readFloat(),v=t.readInt32();l||(l=h);var b=this.attachmentLoader.newRegionAttachment(a,h,l);return b?(b.path=l,b.x=u*o,b.y=d*o,b.scaleX=f,b.scaleY=m,b.rotation=c,b.width=p*o,b.height=g*o,r.Il.rgba8888ToColor(b.color,v),b):null;case r.sf.BoundingBox:var y=t.readInt(!0),x=this.readVertices(t,y),w=(v=s?t.readInt32():0,this.attachmentLoader.newBoundingBoxAttachment(a,h));return w?(w.worldVerticesLength=y<<1,w.vertices=x.vertices,w.bones=x.bones,s&&r.Il.rgba8888ToColor(w.color,v),w):null;case r.sf.Mesh:l=t.readStringRef(),v=t.readInt32(),y=t.readInt(!0);var k=this.readFloatArray(t,y<<1,1),M=this.readShortArray(t),I=(x=this.readVertices(t,y),t.readInt(!0)),S=null;p=0,g=0;return s&&(S=this.readShortArray(t),p=t.readFloat(),g=t.readFloat()),l||(l=h),(Y=this.attachmentLoader.newMeshAttachment(a,h,l))?(Y.path=l,r.Il.rgba8888ToColor(Y.color,v),Y.bones=x.bones,Y.vertices=x.vertices,Y.worldVerticesLength=y<<1,Y.triangles=M,Y.regionUVs=new Float32Array(k),Y.hullLength=I<<1,s&&(Y.edges=S,Y.width=p*o,Y.height=g*o),Y):null;case r.sf.LinkedMesh:l=t.readStringRef(),v=t.readInt32();var Y,A=t.readStringRef(),X=t.readStringRef(),F=t.readBoolean();p=0,g=0;return s&&(p=t.readFloat(),g=t.readFloat()),l||(l=h),(Y=this.attachmentLoader.newMeshAttachment(a,h,l))?(Y.path=l,r.Il.rgba8888ToColor(Y.color,v),s&&(Y.width=p*o,Y.height=g*o),this.linkedMeshes.push(new _t(Y,A,n,X,F)),Y):null;case r.sf.Path:for(var C=t.readBoolean(),T=t.readBoolean(),q=(y=t.readInt(!0),x=this.readVertices(t,y),r.cQ.newArray(y/3,0)),B=0,E=q.length;B<E;B++)q[B]=t.readFloat()*o;v=s?t.readInt32():0;return(l=this.attachmentLoader.newPathAttachment(a,h))?(l.closed=C,l.constantSpeed=T,l.worldVerticesLength=y<<1,l.vertices=x.vertices,l.bones=x.bones,l.lengths=q,s&&r.Il.rgba8888ToColor(l.color,v),l):null;case r.sf.Point:c=t.readFloat(),u=t.readFloat(),d=t.readFloat(),v=s?t.readInt32():0;var R=this.attachmentLoader.newPointAttachment(a,h);return R?(R.x=u*o,R.y=d*o,R.rotation=c,s&&r.Il.rgba8888ToColor(R.color,v),R):null;case r.sf.Clipping:var P=t.readInt(!0),D=(y=t.readInt(!0),x=this.readVertices(t,y),v=s?t.readInt32():0,this.attachmentLoader.newClippingAttachment(a,h));return D?(D.endSlot=e.slots[P],D.worldVerticesLength=y<<1,D.vertices=x.vertices,D.bones=x.bones,s&&r.Il.rgba8888ToColor(D.color,v),D):null}return null},t.prototype.readVertices=function(t,e){var a=this.scale,n=e<<1,i=new jt;if(!t.readBoolean())return i.vertices=this.readFloatArray(t,n,a),i;for(var s=new Array,o=new Array,h=0;h<e;h++){var l=t.readInt(!0);o.push(l);for(var c=0;c<l;c++)o.push(t.readInt(!0)),s.push(t.readFloat()*a),s.push(t.readFloat()*a),s.push(t.readFloat())}return i.vertices=r.cQ.toFloatArray(s),i.bones=o,i},t.prototype.readFloatArray=function(t,e,a){var r=new Array(e);if(1==a)for(var n=0;n<e;n++)r[n]=t.readFloat();else for(n=0;n<e;n++)r[n]=t.readFloat()*a;return r},t.prototype.readShortArray=function(t){for(var e=t.readInt(!0),a=new Array(e),r=0;r<e;r++)a[r]=t.readShort();return a},t.prototype.readAnimation=function(t,e,a){t.readInt(!0);for(var n=new Array,i=this.scale,s=0,o=t.readInt(!0);s<o;s++)for(var h=t.readInt(!0),l=0,c=t.readInt(!0);l<c;l++){var u=t.readByte(),d=(D=t.readInt(!0))-1;switch(u){case oe:for(var f=new nt(D,h),m=0;m<D;m++)f.setFrame(m,t.readFloat(),t.readStringRef());n.push(f);break;case he:for(var p=t.readInt(!0),g=(f=new Z(D,p,h),t.readFloat()),v=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,w=t.readUnsignedByte()/255,k=(m=0,0);f.setFrame(m,g,v,b,x,w),m!=d;m++){var M=t.readFloat(),I=t.readUnsignedByte()/255,S=t.readUnsignedByte()/255,Y=t.readUnsignedByte()/255,A=t.readUnsignedByte()/255;switch(t.readByte()){case ge:f.setStepped(m);break;case ve:Ht(t,f,k++,m,0,g,M,v,I,1),Ht(t,f,k++,m,1,g,M,b,S,1),Ht(t,f,k++,m,2,g,M,x,Y,1),Ht(t,f,k++,m,3,g,M,w,A,1)}g=M,v=I,b=S,x=Y,w=A}n.push(f);break;case le:for(p=t.readInt(!0),f=new tt(D,p,h),g=t.readFloat(),v=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,m=0,k=0;f.setFrame(m,g,v,b,x),m!=d;m++){M=t.readFloat(),I=t.readUnsignedByte()/255,S=t.readUnsignedByte()/255,Y=t.readUnsignedByte()/255;switch(t.readByte()){case ge:f.setStepped(m);break;case ve:Ht(t,f,k++,m,0,g,M,v,I,1),Ht(t,f,k++,m,1,g,M,b,S,1),Ht(t,f,k++,m,2,g,M,x,Y,1)}g=M,v=I,b=S,x=Y}n.push(f);break;case ce:for(p=t.readInt(!0),f=new at(D,p,h),g=t.readFloat(),v=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,w=t.readUnsignedByte()/255,I=t.readUnsignedByte()/255,S=t.readUnsignedByte()/255,Y=t.readUnsignedByte()/255,m=0,k=0;f.setFrame(m,g,v,b,x,w,I,S,Y),m!=d;m++){M=t.readFloat();var X=t.readUnsignedByte()/255,F=t.readUnsignedByte()/255,C=t.readUnsignedByte()/255,T=t.readUnsignedByte()/255,q=t.readUnsignedByte()/255,B=t.readUnsignedByte()/255,E=t.readUnsignedByte()/255;switch(t.readByte()){case ge:f.setStepped(m);break;case ve:Ht(t,f,k++,m,0,g,M,v,X,1),Ht(t,f,k++,m,1,g,M,b,F,1),Ht(t,f,k++,m,2,g,M,x,C,1),Ht(t,f,k++,m,3,g,M,w,T,1),Ht(t,f,k++,m,4,g,M,I,q,1),Ht(t,f,k++,m,5,g,M,S,B,1),Ht(t,f,k++,m,6,g,M,Y,E,1)}g=M,v=X,b=F,x=C,w=T,I=q,S=B,Y=E}n.push(f);break;case ue:for(p=t.readInt(!0),f=new rt(D,p,h),g=t.readFloat(),v=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,I=t.readUnsignedByte()/255,S=t.readUnsignedByte()/255,Y=t.readUnsignedByte()/255,m=0,k=0;f.setFrame(m,g,v,b,x,I,S,Y),m!=d;m++){M=t.readFloat(),X=t.readUnsignedByte()/255,F=t.readUnsignedByte()/255,C=t.readUnsignedByte()/255,q=t.readUnsignedByte()/255,B=t.readUnsignedByte()/255,E=t.readUnsignedByte()/255;switch(t.readByte()){case ge:f.setStepped(m);break;case ve:Ht(t,f,k++,m,0,g,M,v,X,1),Ht(t,f,k++,m,1,g,M,b,F,1),Ht(t,f,k++,m,2,g,M,x,C,1),Ht(t,f,k++,m,3,g,M,I,q,1),Ht(t,f,k++,m,4,g,M,S,B,1),Ht(t,f,k++,m,5,g,M,Y,E,1)}g=M,v=X,b=F,x=C,I=q,S=B,Y=E}n.push(f);break;case de:for(f=new et(D,t.readInt(!0),h),g=t.readFloat(),w=t.readUnsignedByte()/255,m=0,k=0;f.setFrame(m,g,w),m!=d;m++){M=t.readFloat(),A=t.readUnsignedByte()/255;switch(t.readByte()){case ge:f.setStepped(m);break;case ve:Ht(t,f,k++,m,0,g,M,w,A,1)}g=M,w=A}n.push(f)}}for(s=0,o=t.readInt(!0);s<o;s++){var R=t.readInt(!0);for(l=0,c=t.readInt(!0);l<c;l++){var P=t.readByte(),D=t.readInt(!0);p=t.readInt(!0);switch(P){case Kt:n.push(Jt(t,new Q(D,p,R),1));break;case $t:n.push(Gt(t,new U(D,p,R),i));break;case Zt:n.push(Jt(t,new z(D,p,R),i));break;case te:n.push(Jt(t,new _(D,p,R),i));break;case ee:n.push(Gt(t,new j(D,p,R),1));break;case ae:n.push(Jt(t,new J(D,p,R),1));break;case re:n.push(Jt(t,new G(D,p,R),1));break;case ne:n.push(Gt(t,new H(D,p,R),1));break;case ie:n.push(Jt(t,new K(D,p,R),1));break;case se:n.push(Jt(t,new $(D,p,R),1))}}}for(s=0,o=t.readInt(!0);s<o;s++){var V=t.readInt(!0),N=(d=(D=t.readInt(!0))-1,f=new ht(D,t.readInt(!0),V),g=t.readFloat(),t.readFloat()),W=t.readFloat()*i;for(m=0,k=0;f.setFrame(m,g,N,W,t.readByte(),t.readBoolean(),t.readBoolean()),m!=d;m++){M=t.readFloat();var L=t.readFloat(),O=t.readFloat()*i;switch(t.readByte()){case ge:f.setStepped(m);break;case ve:Ht(t,f,k++,m,0,g,M,N,L,1),Ht(t,f,k++,m,1,g,M,W,O,i)}g=M,N=L,W=O}n.push(f)}for(s=0,o=t.readInt(!0);s<o;s++){V=t.readInt(!0),d=(D=t.readInt(!0))-1,f=new lt(D,t.readInt(!0),V),g=t.readFloat();var ft=t.readFloat(),mt=t.readFloat(),pt=t.readFloat(),vt=t.readFloat(),bt=t.readFloat(),yt=t.readFloat();for(m=0,k=0;f.setFrame(m,g,ft,mt,pt,vt,bt,yt),m!=d;m++){M=t.readFloat();var xt=t.readFloat(),wt=t.readFloat(),kt=t.readFloat(),Mt=t.readFloat(),It=t.readFloat(),St=t.readFloat();switch(t.readByte()){case ge:f.setStepped(m);break;case ve:Ht(t,f,k++,m,0,g,M,ft,xt,1),Ht(t,f,k++,m,1,g,M,mt,wt,1),Ht(t,f,k++,m,2,g,M,pt,kt,1),Ht(t,f,k++,m,3,g,M,vt,Mt,1),Ht(t,f,k++,m,4,g,M,bt,It,1),Ht(t,f,k++,m,5,g,M,yt,St,1)}g=M,ft=xt,mt=wt,pt=kt,vt=Mt,bt=It,yt=St}n.push(f)}for(s=0,o=t.readInt(!0);s<o;s++){V=t.readInt(!0);var Yt=a.pathConstraints[V];for(l=0,c=t.readInt(!0);l<c;l++)switch(t.readByte()){case fe:n.push(Jt(t,new ct(t.readInt(!0),t.readInt(!0),V),Yt.positionMode==r.T.Fixed?i:1));break;case me:n.push(Jt(t,new ut(t.readInt(!0),t.readInt(!0),V),Yt.spacingMode==gt.Length||Yt.spacingMode==gt.Fixed?i:1));break;case pe:for(f=new dt(t.readInt(!0),t.readInt(!0),V),g=t.readFloat(),ft=t.readFloat(),mt=t.readFloat(),pt=t.readFloat(),m=0,k=0,d=f.getFrameCount()-1;f.setFrame(m,g,ft,mt,pt),m!=d;m++){M=t.readFloat(),xt=t.readFloat(),wt=t.readFloat(),kt=t.readFloat();switch(t.readByte()){case ge:f.setStepped(m);break;case ve:Ht(t,f,k++,m,0,g,M,ft,xt,1),Ht(t,f,k++,m,1,g,M,mt,wt,1),Ht(t,f,k++,m,2,g,M,pt,kt,1)}g=M,ft=xt,mt=wt,pt=kt}n.push(f)}}for(s=0,o=t.readInt(!0);s<o;s++){var At=a.skins[t.readInt(!0)];for(l=0,c=t.readInt(!0);l<c;l++){h=t.readInt(!0);for(var Xt=0,Ft=t.readInt(!0);Xt<Ft;Xt++){var Ct=t.readStringRef(),qt=At.getAttachment(h,Ct),Bt=qt.bones,Et=qt.vertices,Rt=Bt?Et.length/3*2:Et.length;for(d=(D=t.readInt(!0))-1,p=t.readInt(!0),f=new it(D,p,h,qt),g=t.readFloat(),m=0,k=0;;m++){var Pt=void 0,Dt=t.readInt(!0);if(0==Dt)Pt=Bt?r.cQ.newFloatArray(Rt):Et;else{Pt=r.cQ.newFloatArray(Rt);var Vt=t.readInt(!0);if(Dt+=Vt,1==i)for(var Nt=Vt;Nt<Dt;Nt++)Pt[Nt]=t.readFloat();else for(Nt=Vt;Nt<Dt;Nt++)Pt[Nt]=t.readFloat()*i;if(!Bt){Nt=0;for(var Wt=Pt.length;Nt<Wt;Nt++)Pt[Nt]+=Et[Nt]}}if(f.setFrame(m,g,Pt),m==d)break;M=t.readFloat();switch(t.readByte()){case ge:f.setStepped(m);break;case ve:Ht(t,f,k++,m,0,g,M,0,1,1)}g=M}n.push(f)}}}var Lt=t.readInt(!0);if(Lt>0){f=new ot(Lt);var Ot=a.slots.length;for(s=0;s<Lt;s++){g=t.readFloat();var Qt=t.readInt(!0),Ut=r.cQ.newArray(Ot,0);for(l=Ot-1;l>=0;l--)Ut[l]=-1;var zt=r.cQ.newArray(Ot-Qt,0),_t=0,jt=0;for(l=0;l<Qt;l++){for(h=t.readInt(!0);_t!=h;)zt[jt++]=_t++;Ut[_t+t.readInt(!0)]=_t++}for(;_t<Ot;)zt[jt++]=_t++;for(l=Ot-1;l>=0;l--)-1==Ut[l]&&(Ut[l]=zt[--jt]);f.setFrame(s,g,Ut)}n.push(f)}var be=t.readInt(!0);if(be>0){for(f=new st(be),s=0;s<be;s++){g=t.readFloat();var ye=a.events[t.readInt(!0)],xe=new Tt(g,ye);xe.intValue=t.readInt(!1),xe.floatValue=t.readFloat(),xe.stringValue=t.readBoolean()?t.readString():ye.stringValue,xe.data.audioPath&&(xe.volume=t.readFloat(),xe.balance=t.readFloat()),f.setFrame(s,xe)}n.push(f)}var we=0;for(s=0,o=n.length;s<o;s++)we=Math.max(we,n[s].getDuration());return new y(e,n,we)},t.BlendModeValues=[i.T$.NORMAL,i.T$.ADD,i.T$.MULTIPLY,i.T$.SCREEN],t}(),_t=function(t,e,a,r,n){this.mesh=t,this.skin=e,this.slotIndex=a,this.parent=r,this.inheritDeform=n},jt=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.bones=t,this.vertices=e};function Jt(t,e,a){for(var r=t.readFloat(),n=t.readFloat()*a,i=0,s=0,o=e.getFrameCount()-1;e.setFrame(i,r,n),i!=o;i++){var h=t.readFloat(),l=t.readFloat()*a;switch(t.readByte()){case ge:e.setStepped(i);break;case ve:Ht(t,e,s++,i,0,r,h,n,l,a)}r=h,n=l}return e}function Gt(t,e,a){for(var r=t.readFloat(),n=t.readFloat()*a,i=t.readFloat()*a,s=0,o=0,h=e.getFrameCount()-1;e.setFrame(s,r,n,i),s!=h;s++){var l=t.readFloat(),c=t.readFloat()*a,u=t.readFloat()*a;switch(t.readByte()){case ge:e.setStepped(s);break;case ve:Ht(t,e,o++,s,0,r,l,n,c,a),Ht(t,e,o++,s,1,r,l,i,u,a)}r=l,n=c,i=u}return e}function Ht(t,e,a,r,n,i,s,o,h,l){e.setBezier(a,r,n,i,o,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,s,h)}var Kt=0,$t=1,Zt=2,te=3,ee=4,ae=5,re=6,ne=7,ie=8,se=9,oe=0,he=1,le=2,ce=3,ue=4,de=5,fe=0,me=1,pe=2,ge=1,ve=2,be=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new r.Kg((function(){return r.cQ.newFloatArray(16)}))}return t.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var a=this.boundingBoxes,n=this.polygons,i=this.polygonPool,s=t.slots,o=s.length;a.length=0,i.freeAll(n),n.length=0;for(var h=0;h<o;h++){var l=s[h];if(l.bone.active){var c=l.getAttachment();if(c instanceof u){var d=c;a.push(d);var f=i.obtain();f.length!=d.worldVerticesLength&&(f=r.cQ.newFloatArray(d.worldVerticesLength)),n.push(f),d.computeWorldVertices(l,0,d.worldVerticesLength,f,0,2)}}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=this.polygons,i=0,s=n.length;i<s;i++)for(var o=n[i],h=o,l=0,c=o.length;l<c;l+=2){var u=h[l],d=h[l+1];t=Math.min(t,u),e=Math.min(e,d),a=Math.max(a,u),r=Math.max(r,d)}this.minX=t,this.minY=e,this.maxX=a,this.maxY=r},t.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},t.prototype.aabbIntersectsSegment=function(t,e,a,r){var n=this.minX,i=this.minY,s=this.maxX,o=this.maxY;if(t<=n&&a<=n||e<=i&&r<=i||t>=s&&a>=s||e>=o&&r>=o)return!1;var h=(r-e)/(a-t),l=h*(n-t)+e;if(l>i&&l<o)return!0;if((l=h*(s-t)+e)>i&&l<o)return!0;var c=(i-e)/h+t;return c>n&&c<s||(c=(o-e)/h+t)>n&&c<s},t.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.containsPoint=function(t,e){for(var a=this.polygons,r=0,n=a.length;r<n;r++)if(this.containsPointPolygon(a[r],t,e))return this.boundingBoxes[r];return null},t.prototype.containsPointPolygon=function(t,e,a){for(var r=t,n=t.length,i=n-2,s=!1,o=0;o<n;o+=2){var h=r[o+1],l=r[i+1];if(h<a&&l>=a||l<a&&h>=a){var c=r[o];c+(a-h)/(l-h)*(r[i]-c)<e&&(s=!s)}i=o}return s},t.prototype.intersectsSegment=function(t,e,a,r){for(var n=this.polygons,i=0,s=n.length;i<s;i++)if(this.intersectsSegmentPolygon(n[i],t,e,a,r))return this.boundingBoxes[i];return null},t.prototype.intersectsSegmentPolygon=function(t,e,a,r,n){for(var i=t,s=t.length,o=e-r,h=a-n,l=e*n-a*r,c=i[s-2],u=i[s-1],d=0;d<s;d+=2){var f=i[d],m=i[d+1],p=c*m-u*f,g=c-f,v=u-m,b=o*v-h*g,y=(l*g-o*p)/b;if((y>=c&&y<=f||y>=f&&y<=c)&&(y>=e&&y<=r||y>=r&&y<=e)){var x=(l*v-h*p)/b;if((x>=u&&x<=m||x>=m&&x<=u)&&(x>=a&&x<=n||x>=n&&x<=a))return!0}c=f,u=m}return!1},t.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),ye=function(){function t(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return t.prototype.readSkeletonData=function(e){var a=this.scale,n=new Wt,i="string"===typeof e?JSON.parse(e):e,s=i.skeleton;if(s){if(n.hash=s.hash,n.version=s.spine,"4.0"!==n.version.substr(0,3)){var o="Spine 4.0 loader cant load version "+s.spine+". Please configure your pixi-spine bundle";console.error(o)}n.x=s.x,n.y=s.y,n.width=s.width,n.height=s.height,n.fps=s.fps,n.imagesPath=s.images}if(i.bones)for(var h=0;h<i.bones.length;h++){var l=i.bones[h],c=null,u=Ie(l,"parent",null);if(null!=u&&null==(c=n.findBone(u)))throw new Error("Parent bone not found: "+u);(g=new Ft(n.bones.length,l.name,c)).length=Ie(l,"length",0)*a,g.x=Ie(l,"x",0)*a,g.y=Ie(l,"y",0)*a,g.rotation=Ie(l,"rotation",0),g.scaleX=Ie(l,"scaleX",1),g.scaleY=Ie(l,"scaleY",1),g.shearX=Ie(l,"shearX",0),g.shearY=Ie(l,"shearY",0),g.transformMode=r.cQ.enumValue(r.Qe,Ie(l,"transform","Normal")),g.skinRequired=Ie(l,"skin",!1),(p=Ie(l,"color",null))&&g.color.setFromString(p),n.bones.push(g)}if(i.slots)for(h=0;h<i.slots.length;h++){var d=(Y=i.slots[h]).name,f=Y.bone,m=n.findBone(f);if(null==m)throw new Error("Slot bone not found: "+f);var p,g=new Lt(n.slots.length,d,m);(p=Ie(Y,"color",null))&&g.color.setFromString(p);var v=Ie(Y,"dark",null);v&&(g.darkColor=r.Il.fromString(v)),g.attachmentName=Ie(Y,"attachment",null),g.blendMode=t.blendModeFromString(Ie(Y,"blend","normal")),n.slots.push(g)}if(i.ik)for(h=0;h<i.ik.length;h++){var b=i.ik[h];(g=new Et(b.name)).order=Ie(b,"order",0),g.skinRequired=Ie(b,"skin",!1);for(var y=0;y<b.bones.length;y++){f=b.bones[y];if(null==(M=n.findBone(f)))throw new Error("IK bone not found: "+f);g.bones.push(M)}g.target=n.findBone(b.target),g.mix=Ie(b,"mix",1),g.softness=Ie(b,"softness",0)*a,g.bendDirection=Ie(b,"bendPositive",!0)?1:-1,g.compress=Ie(b,"compress",!1),g.stretch=Ie(b,"stretch",!1),g.uniform=Ie(b,"uniform",!1),n.ikConstraints.push(g)}if(i.transform)for(h=0;h<i.transform.length;h++){b=i.transform[h];(g=new Ot(b.name)).order=Ie(b,"order",0),g.skinRequired=Ie(b,"skin",!1);for(y=0;y<b.bones.length;y++){f=b.bones[y];if(null==(M=n.findBone(f)))throw new Error("Transform constraint bone not found: "+f);g.bones.push(M)}var x=b.target;if(g.target=n.findBone(x),null==g.target)throw new Error("Transform constraint target bone not found: "+x);g.local=Ie(b,"local",!1),g.relative=Ie(b,"relative",!1),g.offsetRotation=Ie(b,"rotation",0),g.offsetX=Ie(b,"x",0)*a,g.offsetY=Ie(b,"y",0)*a,g.offsetScaleX=Ie(b,"scaleX",0),g.offsetScaleY=Ie(b,"scaleY",0),g.offsetShearY=Ie(b,"shearY",0),g.mixRotate=Ie(b,"mixRotate",1),g.mixX=Ie(b,"mixX",1),g.mixY=Ie(b,"mixY",g.mixX),g.mixScaleX=Ie(b,"mixScaleX",1),g.mixScaleY=Ie(b,"mixScaleY",g.mixScaleX),g.mixShearY=Ie(b,"mixShearY",1),n.transformConstraints.push(g)}if(i.path)for(h=0;h<i.path.length;h++){b=i.path[h];(g=new Rt(b.name)).order=Ie(b,"order",0),g.skinRequired=Ie(b,"skin",!1);for(y=0;y<b.bones.length;y++){f=b.bones[y];if(null==(M=n.findBone(f)))throw new Error("Transform constraint bone not found: "+f);g.bones.push(M)}x=b.target;if(g.target=n.findSlot(x),null==g.target)throw new Error("Path target slot not found: "+x);g.positionMode=r.cQ.enumValue(r.T,Ie(b,"positionMode","Percent")),g.spacingMode=r.cQ.enumValue(gt,Ie(b,"spacingMode","Length")),g.rotateMode=r.cQ.enumValue(r.YK,Ie(b,"rotateMode","Tangent")),g.offsetRotation=Ie(b,"rotation",0),g.position=Ie(b,"position",0),g.positionMode==r.T.Fixed&&(g.position*=a),g.spacing=Ie(b,"spacing",0),g.spacingMode!=gt.Length&&g.spacingMode!=gt.Fixed||(g.spacing*=a),g.mixRotate=Ie(b,"mixRotate",1),g.mixX=Ie(b,"mixX",1),g.mixY=Ie(b,"mixY",g.mixX),n.pathConstraints.push(g)}if(i.skins)for(h=0;h<i.skins.length;h++){var w=i.skins[h],k=new Ut(w.name);if(w.bones)for(y=0;y<w.bones.length;y++){var M;if(null==(M=n.findBone(w.bones[y])))throw new Error("Skin bone not found: "+w.bones[h]);k.bones.push(M)}if(w.ik)for(y=0;y<w.ik.length;y++){if(null==(I=n.findIkConstraint(w.ik[y])))throw new Error("Skin IK constraint not found: "+w.ik[h]);k.constraints.push(I)}if(w.transform)for(y=0;y<w.transform.length;y++){if(null==(I=n.findTransformConstraint(w.transform[y])))throw new Error("Skin transform constraint not found: "+w.transform[h]);k.constraints.push(I)}if(w.path)for(y=0;y<w.path.length;y++){var I;if(null==(I=n.findPathConstraint(w.path[y])))throw new Error("Skin path constraint not found: "+w.path[h]);k.constraints.push(I)}for(var d in w.attachments){var S=n.findSlot(d);if(null==S)throw new Error("Slot not found: "+d);var Y=w.attachments[d];for(var A in Y){var X=this.readAttachment(Y[A],k,S.index,A,n);X&&k.setAttachment(S.index,A,X)}}n.skins.push(k),"default"==k.name&&(n.defaultSkin=k)}h=0;for(var F=this.linkedMeshes.length;h<F;h++){var C=this.linkedMeshes[h],T=(k=C.skin?n.findSkin(C.skin):n.defaultSkin).getAttachment(C.slotIndex,C.parent);C.mesh.deformAttachment=C.inheritDeform?T:C.mesh,C.mesh.setParentMesh(T)}if(this.linkedMeshes.length=0,i.events)for(var q in i.events){var B=i.events[q];(g=new qt(q)).intValue=Ie(B,"int",0),g.floatValue=Ie(B,"float",0),g.stringValue=Ie(B,"string",""),g.audioPath=Ie(B,"audio",null),g.audioPath&&(g.volume=Ie(B,"volume",1),g.balance=Ie(B,"balance",0)),n.events.push(g)}if(i.animations)for(var E in i.animations){var R=i.animations[E];this.readAnimation(R,E,n)}return n},t.prototype.readAttachment=function(t,e,a,n,i){var s=this.scale;switch(n=Ie(t,"name",n),Ie(t,"type","region")){case"region":var o=Ie(t,"path",n),h=this.attachmentLoader.newRegionAttachment(e,n,o);return h?(h.path=o,h.x=Ie(t,"x",0)*s,h.y=Ie(t,"y",0)*s,h.scaleX=Ie(t,"scaleX",1),h.scaleY=Ie(t,"scaleY",1),h.rotation=Ie(t,"rotation",0),h.width=t.width*s,h.height=t.height*s,(x=Ie(t,"color",null))&&h.color.setFromString(x),h):null;case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,n);return l?(this.readVertices(t,l,t.vertexCount<<1),(x=Ie(t,"color",null))&&l.color.setFromString(x),l):null;case"mesh":case"linkedmesh":o=Ie(t,"path",n);var c=this.attachmentLoader.newMeshAttachment(e,n,o);if(!c)return null;c.path=o,(x=Ie(t,"color",null))&&c.color.setFromString(x),c.width=Ie(t,"width",0)*s,c.height=Ie(t,"height",0)*s;var u=Ie(t,"parent",null);if(u)return this.linkedMeshes.push(new xe(c,Ie(t,"skin",null),a,u,Ie(t,"deform",!0))),c;var d=t.uvs;return this.readVertices(t,c,d.length),c.triangles=t.triangles,c.regionUVs=new Float32Array(d),c.edges=Ie(t,"edges",null),c.hullLength=2*Ie(t,"hull",0),c;case"path":if(!(o=this.attachmentLoader.newPathAttachment(e,n)))return null;o.closed=Ie(t,"closed",!1),o.constantSpeed=Ie(t,"constantSpeed",!0);var f=t.vertexCount;this.readVertices(t,o,f<<1);for(var m=r.cQ.newArray(f/3,0),p=0;p<t.lengths.length;p++)m[p]=t.lengths[p]*s;return o.lengths=m,(x=Ie(t,"color",null))&&o.color.setFromString(x),o;case"point":var g=this.attachmentLoader.newPointAttachment(e,n);return g?(g.x=Ie(t,"x",0)*s,g.y=Ie(t,"y",0)*s,g.rotation=Ie(t,"rotation",0),(x=Ie(t,"color",null))&&g.color.setFromString(x),g):null;case"clipping":var v=this.attachmentLoader.newClippingAttachment(e,n);if(!v)return null;var b=Ie(t,"end",null);if(null!=b){var y=i.findSlot(b);if(null==y)throw new Error("Clipping end slot not found: "+b);v.endSlot=y}var x;f=t.vertexCount;return this.readVertices(t,v,f<<1),(x=Ie(t,"color",null))&&v.color.setFromString(x),v}return null},t.prototype.readVertices=function(t,e,a){var n=this.scale;e.worldVerticesLength=a;var i=t.vertices;if(a!=i.length){var s=new Array,o=new Array;for(u=0,d=i.length;u<d;){var h=i[u++];o.push(h);for(var l=u+4*h;u<l;u+=4)o.push(i[u]),s.push(i[u+1]*n),s.push(i[u+2]*n),s.push(i[u+3])}e.bones=o,e.vertices=r.cQ.toFloatArray(s)}else{var c=r.cQ.toFloatArray(i);if(1!=n)for(var u=0,d=i.length;u<d;u++)c[u]*=n;e.vertices=c}},t.prototype.readAnimation=function(t,e,a){var n=this.scale,i=new Array;if(t.slots)for(var s in t.slots){var o=t.slots[s];if(-1==(Nt=a.findSlotIndex(s)))throw new Error("Slot not found: "+s);for(var h in o){if(vt=o[h])if("attachment"==h){for(var l=new nt(vt.length,Nt),c=0;c<vt.length;c++){var u=vt[c];l.setFrame(c,Ie(u,"time",0),u.name)}i.push(l)}else if("rgba"==h){l=new Z(vt.length,vt.length<<2,Nt);for(var d=Ie(u=vt[0],"time",0),f=r.Il.fromString(u.color),m=(c=0,0);;c++){if(l.setFrame(c,d,f.r,f.g,f.b,f.a),!(kt=vt[c+1])){l.shrink(m);break}var p=Ie(kt,"time",0),g=r.Il.fromString(kt.color);(Xt=u.curve)&&(m=Me(Xt,l,m,c,0,d,p,f.r,g.r,1),m=Me(Xt,l,m,c,1,d,p,f.g,g.g,1),m=Me(Xt,l,m,c,2,d,p,f.b,g.b,1),m=Me(Xt,l,m,c,3,d,p,f.a,g.a,1)),d=p,f=g,u=kt}i.push(l)}else if("rgb"==h){for(l=new tt(vt.length,3*vt.length,Nt),d=Ie(u=vt[0],"time",0),f=r.Il.fromString(u.color),c=0,m=0;;c++){if(l.setFrame(c,d,f.r,f.g,f.b),!(kt=vt[c+1])){l.shrink(m);break}p=Ie(kt,"time",0),g=r.Il.fromString(kt.color);(Xt=u.curve)&&(m=Me(Xt,l,m,c,0,d,p,f.r,g.r,1),m=Me(Xt,l,m,c,1,d,p,f.g,g.g,1),m=Me(Xt,l,m,c,2,d,p,f.b,g.b,1)),d=p,f=g,u=kt}i.push(l)}else if("alpha"==h)i.push(we(vt,new et(vt.length,vt.length,Nt),0,1));else if("rgba2"==h){l=new at(vt.length,7*vt.length,Nt),d=Ie(u=vt[0],"time",0),f=r.Il.fromString(u.light);var v=r.Il.fromString(u.dark);for(c=0,m=0;;c++){if(l.setFrame(c,d,f.r,f.g,f.b,f.a,v.r,v.g,v.b),!(kt=vt[c+1])){l.shrink(m);break}p=Ie(kt,"time",0),g=r.Il.fromString(kt.light);var b=r.Il.fromString(kt.dark);(Xt=u.curve)&&(m=Me(Xt,l,m,c,0,d,p,f.r,g.r,1),m=Me(Xt,l,m,c,1,d,p,f.g,g.g,1),m=Me(Xt,l,m,c,2,d,p,f.b,g.b,1),m=Me(Xt,l,m,c,3,d,p,f.a,g.a,1),m=Me(Xt,l,m,c,4,d,p,v.r,b.r,1),m=Me(Xt,l,m,c,5,d,p,v.g,b.g,1),m=Me(Xt,l,m,c,6,d,p,v.b,b.b,1)),d=p,f=g,v=b,u=kt}i.push(l)}else{if("rgb2"!=h)throw new Error("Invalid timeline type for a slot: "+h+" ("+s+")");for(l=new rt(vt.length,6*vt.length,Nt),d=Ie(u=vt[0],"time",0),f=r.Il.fromString(u.light),v=r.Il.fromString(u.dark),c=0,m=0;;c++){if(l.setFrame(c,d,f.r,f.g,f.b,v.r,v.g,v.b),!(kt=vt[c+1])){l.shrink(m);break}p=Ie(kt,"time",0),g=r.Il.fromString(kt.light),b=r.Il.fromString(kt.dark);(Xt=u.curve)&&(m=Me(Xt,l,m,c,0,d,p,f.r,g.r,1),m=Me(Xt,l,m,c,1,d,p,f.g,g.g,1),m=Me(Xt,l,m,c,2,d,p,f.b,g.b,1),m=Me(Xt,l,m,c,3,d,p,v.r,b.r,1),m=Me(Xt,l,m,c,4,d,p,v.g,b.g,1),m=Me(Xt,l,m,c,5,d,p,v.b,b.b,1)),d=p,f=g,v=b,u=kt}i.push(l)}}}if(t.bones)for(var x in t.bones){var w=t.bones[x],k=a.findBoneIndex(x);if(-1==k)throw new Error("Bone not found: "+x);for(var h in w){if(0!=(vt=w[h]).length)if("rotate"===h)i.push(we(vt,new Q(vt.length,vt.length,k),0,1));else if("translate"===h){l=new U(vt.length,vt.length<<1,k);i.push(ke(vt,l,"x","y",0,n))}else if("translatex"===h){l=new z(vt.length,vt.length,k);i.push(we(vt,l,0,n))}else if("translatey"===h){l=new _(vt.length,vt.length,k);i.push(we(vt,l,0,n))}else if("scale"===h){l=new j(vt.length,vt.length<<1,k);i.push(ke(vt,l,"x","y",1,1))}else if("scalex"===h){l=new J(vt.length,vt.length,k);i.push(we(vt,l,1,1))}else if("scaley"===h){l=new G(vt.length,vt.length,k);i.push(we(vt,l,1,1))}else if("shear"===h){l=new H(vt.length,vt.length<<1,k);i.push(ke(vt,l,"x","y",0,1))}else if("shearx"===h){l=new K(vt.length,vt.length,k);i.push(we(vt,l,0,1))}else if("sheary"===h){l=new $(vt.length,vt.length,k);i.push(we(vt,l,0,1))}}}if(t.ik)for(var M in t.ik){if(u=(O=t.ik[M])[0]){var I=a.findIkConstraint(M),S=a.ikConstraints.indexOf(I),Y=(l=new ht(O.length,O.length<<1,S),d=Ie(u,"time",0),Ie(u,"mix",1)),A=Ie(u,"softness",0)*n;for(c=0,m=0;;c++){if(l.setFrame(c,d,Y,A,Ie(u,"bendPositive",!0)?1:-1,Ie(u,"compress",!1),Ie(u,"stretch",!1)),!(kt=O[c+1])){l.shrink(m);break}p=Ie(kt,"time",0);var X=Ie(kt,"mix",1),F=Ie(kt,"softness",0)*n;(Xt=u.curve)&&(m=Me(Xt,l,m,c,0,d,p,Y,X,1),m=Me(Xt,l,m,c,1,d,p,A,F,n)),d=p,Y=X,A=F,u=kt}i.push(l)}}if(t.transform)for(var M in t.transform){if(u=(vt=t.transform[M])[0]){I=a.findTransformConstraint(M),S=a.transformConstraints.indexOf(I),l=new lt(vt.length,vt.length<<2,S),d=Ie(u,"time",0);var C=Ie(u,"mixRotate",1),T=Ie(u,"mixX",1),q=Ie(u,"mixY",T),B=Ie(u,"mixScaleX",1),E=Ie(u,"mixScaleY",B),R=Ie(u,"mixShearY",1);for(c=0,m=0;;c++){if(l.setFrame(c,d,C,T,q,B,E,R),!(kt=vt[c+1])){l.shrink(m);break}p=Ie(kt,"time",0);var P=Ie(kt,"mixRotate",1),D=Ie(kt,"mixX",1),V=Ie(kt,"mixY",D),N=Ie(kt,"mixScaleX",1),W=Ie(kt,"mixScaleY",N),L=Ie(kt,"mixShearY",1);(Xt=u.curve)&&(m=Me(Xt,l,m,c,0,d,p,C,P,1),m=Me(Xt,l,m,c,1,d,p,T,D,1),m=Me(Xt,l,m,c,2,d,p,q,V,1),m=Me(Xt,l,m,c,3,d,p,B,N,1),m=Me(Xt,l,m,c,4,d,p,E,W,1),m=Me(Xt,l,m,c,5,d,p,R,L,1)),d=p,C=P,T=D,q=V,B=N,E=W,B=N,u=kt}i.push(l)}}if(t.path)for(var M in t.path){var O=t.path[M];if(-1==(S=a.findPathConstraintIndex(M)))throw new Error("Path constraint not found: "+M);I=a.pathConstraints[S];for(var h in O){if(u=(vt=O[h])[0])if("position"===h){l=new ct(vt.length,vt.length,S);i.push(we(vt,l,0,I.positionMode==r.T.Fixed?n:1))}else if("spacing"===h){l=new ut(vt.length,vt.length,S);i.push(we(vt,l,0,I.spacingMode==gt.Length||I.spacingMode==gt.Fixed?n:1))}else if("mix"===h){for(l=new dt(vt.length,3*vt.length,S),d=Ie(u,"time",0),C=Ie(u,"mixRotate",1),T=Ie(u,"mixX",1),q=Ie(u,"mixY",T),c=0,m=0;;c++){if(l.setFrame(c,d,C,T,q),!(kt=vt[c+1])){l.shrink(m);break}p=Ie(kt,"time",0),P=Ie(kt,"mixRotate",1),D=Ie(kt,"mixX",1),V=Ie(kt,"mixY",D);(Xt=u.curve)&&(m=Me(Xt,l,m,c,0,d,p,C,P,1),m=Me(Xt,l,m,c,1,d,p,T,D,1),m=Me(Xt,l,m,c,2,d,p,q,V,1)),d=p,C=P,T=D,q=V,u=kt}i.push(l)}}}if(t.deform)for(var ft in t.deform){var mt=t.deform[ft],pt=a.findSkin(ft);if(null!=pt)for(var s in mt){o=mt[s];if(-1==(Nt=a.findSlotIndex(s)))throw new Error("Slot not found: "+o.name);for(var h in o){var vt;if(u=(vt=o[h])[0]){var bt=pt.getAttachment(Nt,h);if(null==bt)throw new Error("Deform attachment not found: "+vt.name);var yt=null!=bt.bones,xt=bt.vertices,wt=yt?xt.length/3*2:xt.length;for(l=new it(vt.length,vt.length,Nt,bt),d=Ie(u,"time",0),c=0,m=0;;c++){var kt,Mt=void 0,It=Ie(u,"vertices",null);if(It){Mt=r.cQ.newFloatArray(wt);var St=Ie(u,"offset",0);if(r.cQ.arrayCopy(It,0,Mt,St,It.length),1!=n)for(var Yt=(At=St)+It.length;At<Yt;At++)Mt[At]*=n;if(!yt)for(var At=0;At<wt;At++)Mt[At]+=xt[At]}else Mt=yt?r.cQ.newFloatArray(wt):xt;if(l.setFrame(c,d,Mt),!(kt=vt[c+1])){l.shrink(m);break}var Xt;p=Ie(kt,"time",0);(Xt=u.curve)&&(m=Me(Xt,l,m,c,0,d,p,0,1,1)),d=p,u=kt}i.push(l)}}}else if(r.Xd.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: "+ft)}if(t.drawOrder){l=new ot(t.drawOrder.length);var Ft=a.slots.length;for(c=0,At=0;At<t.drawOrder.length;At++,c++){var Ct=t.drawOrder[At],qt=null,Bt=Ie(Ct,"offsets",null);if(Bt){qt=r.cQ.newArray(Ft,-1);for(var Et=r.cQ.newArray(Ft-Bt.length,0),Rt=0,Pt=0,Dt=0;Dt<Bt.length;Dt++){for(var Vt=Bt[Dt],Nt=a.findSlotIndex(Vt.slot);Rt!=Nt;)Et[Pt++]=Rt++;qt[Rt+Vt.offset]=Rt++}for(;Rt<Ft;)Et[Pt++]=Rt++;for(Dt=Ft-1;Dt>=0;Dt--)-1==qt[Dt]&&(qt[Dt]=Et[--Pt])}l.setFrame(c,Ie(Ct,"time",0),qt)}i.push(l)}if(t.events){for(l=new st(t.events.length),c=0,At=0;At<t.events.length;At++,c++){var Wt=t.events[At],Lt=a.findEvent(Wt.name),Ot=new Tt(r.cQ.toSinglePrecision(Ie(Wt,"time",0)),Lt);Ot.intValue=Ie(Wt,"int",Lt.intValue),Ot.floatValue=Ie(Wt,"float",Lt.floatValue),Ot.stringValue=Ie(Wt,"string",Lt.stringValue),Ot.data.audioPath&&(Ot.volume=Ie(Wt,"volume",1),Ot.balance=Ie(Wt,"balance",0)),l.setFrame(c,Ot)}i.push(l)}var Qt=0;for(At=0,Yt=i.length;At<Yt;At++)Qt=Math.max(Qt,i[At].getDuration());if(isNaN(Qt))throw new Error("Error while parsing animation, duration is NaN");a.animations.push(new y(e,i,Qt))},t.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return i.T$.NORMAL;if("additive"==t)return i.T$.ADD;if("multiply"==t)return i.T$.MULTIPLY;if("screen"==t)return i.T$.SCREEN;throw new Error("Unknown blend mode: "+t)},t}(),xe=function(t,e,a,r,n){this.mesh=t,this.skin=e,this.slotIndex=a,this.parent=r,this.inheritDeform=n};function we(t,e,a,r){for(var n=t[0],i=Ie(n,"time",0),s=Ie(n,"value",a)*r,o=0,h=0;;h++){e.setFrame(h,i,s);var l=t[h+1];if(!l)return e.shrink(o),e;var c=Ie(l,"time",0),u=Ie(l,"value",a)*r;n.curve&&(o=Me(n.curve,e,o,h,0,i,c,s,u,r)),i=c,s=u,n=l}}function ke(t,e,a,r,n,i){for(var s=t[0],o=Ie(s,"time",0),h=Ie(s,a,n)*i,l=Ie(s,r,n)*i,c=0,u=0;;u++){e.setFrame(u,o,h,l);var d=t[u+1];if(!d)return e.shrink(c),e;var f=Ie(d,"time",0),m=Ie(d,a,n)*i,p=Ie(d,r,n)*i,g=s.curve;g&&(c=Me(g,e,c,u,0,o,f,h,m,i),c=Me(g,e,c,u,1,o,f,l,p,i)),o=f,h=m,l=p,s=d}}function Me(t,e,a,r,n,i,s,o,h,l){if("stepped"==t)return e.setStepped(r),a;var c=n<<2,u=t[c],d=t[c+1]*l,f=t[c+2],m=t[c+3]*l;return e.setBezier(a,r,n,i,o,u,d,f,m,s,h),a+1}function Ie(t,e,a){return void 0!==t[e]?t[e]:a}var Se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createSkeleton=function(t){this.skeleton=new Nt(t),this.skeleton.updateWorldTransform(),this.stateData=new Yt(t),this.state=new ft(this.stateData)},e}(r.Ww)}}]);