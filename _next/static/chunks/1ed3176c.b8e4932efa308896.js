"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{7918:function(t,e,n){n.r(e),n.d(e,{Animation:function(){return E},AnimationState:function(){return F},AnimationStateAdapter2:function(){return L},AnimationStateData:function(){return W},AtlasAttachmentLoader:function(){return Q},Attachment:function(){return l},AttachmentTimeline:function(){return A},Bone:function(){return j},BoneData:function(){return U},BoundingBoxAttachment:function(){return c},ClippingAttachment:function(){return f},ColorTimeline:function(){return I},CurveTimeline:function(){return b},DeformTimeline:function(){return C},DrawOrderTimeline:function(){return k},Event:function(){return G},EventData:function(){return H},EventQueue:function(){return O},EventTimeline:function(){return P},EventType:function(){return x},IkConstraint:function(){return Z},IkConstraintData:function(){return J},IkConstraintTimeline:function(){return N},JitterEffect:function(){return v},MeshAttachment:function(){return p},PathAttachment:function(){return d},PathConstraint:function(){return K},PathConstraintData:function(){return z},PathConstraintMixTimeline:function(){return D},PathConstraintPositionTimeline:function(){return X},PathConstraintSpacingTimeline:function(){return _},PointAttachment:function(){return m},RegionAttachment:function(){return g},RotateTimeline:function(){return M},ScaleTimeline:function(){return T},ShearTimeline:function(){return S},Skeleton:function(){return et},SkeletonBounds:function(){return nt},SkeletonData:function(){return rt},SkeletonJson:function(){return st},Skin:function(){return ot},Slot:function(){return $},SlotData:function(){return at},SpacingMode:function(){return B},Spine:function(){return lt},SwirlEffect:function(){return y},TimelineType:function(){return h},TrackEntry:function(){return q},TransformConstraint:function(){return tt},TransformConstraintData:function(){return it},TransformConstraintTimeline:function(){return Y},TranslateTimeline:function(){return w},TwoColorTimeline:function(){return R},VertexAttachment:function(){return u}});var r=n(4658),a=n(9658),i=n(1680),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var h,l=function(t){if(null==t)throw new Error("name cannot be null.");this.name=t},u=function(t){function e(n){var r=t.call(this,n)||this;return r.id=(65535&e.nextID++)<<11,r.worldVerticesLength=0,r}return s(e,t),e.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},e.prototype.computeWorldVertices=function(t,e,n,r,a,i){n=a+(n>>1)*i;var o=t.bone.skeleton,s=t.attachmentVertices,h=this.vertices,l=this.bones;if(null!=l){for(var u=0,c=0,f=0;f<e;f+=2){u+=(g=l[u])+1,c+=g}var p=o.bones;if(0==s.length)for(A=a,T=3*c;A<n;A+=i){var d=0,m=0,g=l[u++];for(g+=u;u<g;u++,T+=3){x=p[l[u]].matrix,V=h[T],C=h[T+1];var v=h[T+2];d+=(V*x.a+C*x.c+x.tx)*v,m+=(V*x.b+C*x.d+x.ty)*v}r[A]=d,r[A+1]=m}else for(var y=s,E=(A=a,T=3*c,c<<1);A<n;A+=i){d=0,m=0,g=l[u++];for(g+=u;u<g;u++,T+=3,E+=2){x=p[l[u]].matrix,V=h[T]+y[E],C=h[T+1]+y[E+1],v=h[T+2];d+=(V*x.a+C*x.c+x.tx)*v,m+=(V*x.b+C*x.d+x.ty)*v}r[A]=d,r[A+1]=m}}else{s.length>0&&(h=s);for(var x,b=(x=t.bone.matrix).tx,M=x.ty,w=x.a,T=x.c,S=x.b,I=x.d,R=e,A=a;A<n;R+=2,A+=i){var V=h[R],C=h[R+1];r[A]=V*w+C*T+b,r[A+1]=V*S+C*I+M}}},e.prototype.applyDeform=function(t){return this==t},e.nextID=0,e}(l),c=function(t){function e(e){var n=t.call(this,e)||this;return n.type=r.sf.BoundingBox,n.color=new r.Il(1,1,1,1),n}return s(e,t),e}(u),f=function(t){function e(e){var n=t.call(this,e)||this;return n.type=r.sf.Clipping,n.color=new r.Il(.2275,.2275,.8078,1),n}return s(e,t),e}(u),p=function(t){function e(e){var n=t.call(this,e)||this;return n.type=r.sf.Mesh,n.color=new r.Il(1,1,1,1),n.inheritDeform=!1,n.tempColor=new r.Il(0,0,0,0),n}return s(e,t),e.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this.parentMesh==t},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},e}(u),d=function(t){function e(e){var n=t.call(this,e)||this;return n.type=r.sf.Path,n.closed=!1,n.constantSpeed=!1,n.color=new r.Il(1,1,1,1),n}return s(e,t),e}(u),m=function(t){function e(e){var n=t.call(this,e)||this;return n.type=r.sf.Point,n.color=new r.Il(.38,.94,0,1),n}return s(e,t),e.prototype.computeWorldPosition=function(t,e){var n=t.matrix;return e.x=this.x*n.a+this.y*n.c+t.worldX,e.y=this.x*n.b+this.y*n.d+t.worldY,e},e.prototype.computeWorldRotation=function(t){var e=t.matrix,n=r.M8.cosDeg(this.rotation),a=r.M8.sinDeg(this.rotation),i=n*e.a+a*e.c,o=n*e.b+a*e.d;return Math.atan2(o,i)*r.M8.radDeg},e}(u),g=function(t){function e(e){var n=t.call(this,e)||this;return n.type=r.sf.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new r.Il(1,1,1,1),n.offset=r.cQ.newFloatArray(8),n.uvs=r.cQ.newFloatArray(8),n.tempColor=new r.Il(1,1,1,1),n}return s(e,t),e.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,a=-this.height/2*this.scaleY+this.region.offsetY*n,i=r+this.region.width*t,o=a+this.region.height*n,s=this.rotation*Math.PI/180,h=Math.cos(s),l=Math.sin(s),u=r*h+this.x,c=r*l,f=a*h+this.y,p=a*l,d=i*h+this.x,m=i*l,g=o*h+this.y,v=o*l,y=this.offset;y[e.OX1]=u-p,y[e.OY1]=f+c,y[e.OX2]=u-v,y[e.OY2]=g+c,y[e.OX3]=d-v,y[e.OY3]=g+m,y[e.OX4]=d-p,y[e.OY4]=f+m},e.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},e.prototype.computeWorldVertices=function(t,n,r,a){var i=this.offset,o=t.matrix,s=o.tx,h=o.ty,l=o.a,u=o.c,c=o.b,f=o.d,p=0,d=0;p=i[e.OX1],d=i[e.OY1],n[r]=p*l+d*u+s,n[r+1]=p*c+d*f+h,r+=a,p=i[e.OX2],d=i[e.OY2],n[r]=p*l+d*u+s,n[r+1]=p*c+d*f+h,r+=a,p=i[e.OX3],d=i[e.OY3],n[r]=p*l+d*u+s,n[r+1]=p*c+d*f+h,r+=a,p=i[e.OX4],d=i[e.OY4],n[r]=p*l+d*u+s,n[r+1]=p*c+d*f+h},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(l),v=function(){function t(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return t.prototype.begin=function(t){},t.prototype.transform=function(t,e,n,a){t.x+=r.M8.randomTriangular(-this.jitterX,this.jitterY),t.y+=r.M8.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),y=function(){function t(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return t.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},t.prototype.transform=function(e,n,a,i){var o=this.angle*r.M8.degreesToRadians,s=e.x-this.worldX,h=e.y-this.worldY,l=Math.sqrt(s*s+h*h);if(l<this.radius){var u=t.interpolation.apply(0,o,(this.radius-l)/this.radius),c=Math.cos(u),f=Math.sin(u);e.x=c*s-f*h+this.worldX,e.y=f*s+c*h+this.worldY}},t.prototype.end=function(){},t.interpolation=new r.RN(2),t}(),E=function(){function t(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=n}return t.prototype.apply=function(t,e,n,r,a,i,o,s){if(null==t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));for(var h=this.timelines,l=0,u=h.length;l<u;l++)h[l].apply(t,e,n,a,i,o,s)},t.binarySearch=function(t,e,n){void 0===n&&(n=1);var r=0,a=t.length/n-2;if(0==a)return n;for(var i=a>>>1;;){if(t[(i+1)*n]<=e?r=i+1:a=i,r==a)return(r+1)*n;i=r+a>>>1}},t.linearSearch=function(t,e,n){for(var r=0,a=t.length-n;r<=a;r+=n)if(t[r]>e)return r;return-1},t}();!function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"}(h||(h={}));var x,b=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=r.cQ.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var n=e*t.BEZIER_SIZE;if(n==this.curves.length)return t.LINEAR;var r=this.curves[n];return r==t.LINEAR?t.LINEAR:r==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,n,r,a,i){var o=.03*(2*-n+a),s=.03*(2*-r+i),h=.006*(3*(n-a)+1),l=.006*(3*(r-i)+1),u=2*o+h,c=2*s+l,f=.3*n+o+.16666667*h,p=.3*r+s+.16666667*l,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var g=f,v=p,y=d+t.BEZIER_SIZE-1;d<y;d+=2)m[d]=g,m[d+1]=v,f+=u,p+=c,u+=h,c+=l,g+=f,v+=p},t.prototype.getCurvePercent=function(e,n){n=r.M8.clamp(n,0,1);var a=this.curves,i=e*t.BEZIER_SIZE,o=a[i];if(o==t.LINEAR)return n;if(o==t.STEPPED)return 0;for(var s=0,h=++i,l=i+t.BEZIER_SIZE-1;i<l;i+=2)if((s=a[i])>=n){var u=void 0,c=void 0;return i==h?(u=0,c=0):(u=a[i-2],c=a[i-1]),c+(a[i+1]-c)*(n-u)/(s-u)}var f=a[i-1];return f+(1-f)*(n-s)/(1-s)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=19,t}(),M=function(t){function e(e){var n=t.call(this,e)||this;return n.frames=r.cQ.newFloatArray(e<<1),n}return s(e,t),e.prototype.getPropertyId=function(){return(h.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(t,n,r){t<<=1,this.frames[t]=n,this.frames[t+e.ROTATION]=r},e.prototype.apply=function(t,n,a,i,o,s,h){var l=this.frames,u=t.bones[this.boneIndex];if(a<l[0])switch(s){case r.bq.setup:return void(u.rotation=u.data.rotation);case r.bq.first:var c=u.data.rotation-u.rotation;u.rotation+=(c-360*(16384-(16384.499999999996-c/360|0)))*o}else if(a>=l[l.length-e.ENTRIES]){var f=l[l.length+e.PREV_ROTATION];switch(s){case r.bq.setup:u.rotation=u.data.rotation+f*o;break;case r.bq.first:case r.bq.replace:f+=u.data.rotation-u.rotation,f-=360*(16384-(16384.499999999996-f/360|0));case r.bq.add:u.rotation+=f*o}}else{var p=E.binarySearch(l,a,e.ENTRIES),d=l[p+e.PREV_ROTATION],m=l[p],g=this.getCurvePercent((p>>1)-1,1-(a-m)/(l[p+e.PREV_TIME]-m)),v=l[p+e.ROTATION]-d;switch(v=d+(v-360*(16384-(16384.499999999996-v/360|0)))*g,s){case r.bq.setup:u.rotation=u.data.rotation+(v-360*(16384-(16384.499999999996-v/360|0)))*o;break;case r.bq.first:case r.bq.replace:v+=u.data.rotation-u.rotation;case r.bq.add:u.rotation+=(v-360*(16384-(16384.499999999996-v/360|0)))*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(b),w=function(t){function e(n){var a=t.call(this,n)||this;return a.frames=r.cQ.newFloatArray(n*e.ENTRIES),a}return s(e,t),e.prototype.getPropertyId=function(){return(h.translate<<24)+this.boneIndex},e.prototype.setFrame=function(t,n,r,a){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.X]=r,this.frames[t+e.Y]=a},e.prototype.apply=function(t,n,a,i,o,s,h){var l=this.frames,u=t.bones[this.boneIndex];if(a<l[0])switch(s){case r.bq.setup:return u.x=u.data.x,void(u.y=u.data.y);case r.bq.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}else{var c=0,f=0;if(a>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X],f=l[l.length+e.PREV_Y];else{var p=E.binarySearch(l,a,e.ENTRIES);c=l[p+e.PREV_X],f=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(a-d)/(l[p+e.PREV_TIME]-d));c+=(l[p+e.X]-c)*m,f+=(l[p+e.Y]-f)*m}switch(s){case r.bq.setup:u.x=u.data.x+c*o,u.y=u.data.y+f*o;break;case r.bq.first:case r.bq.replace:u.x+=(u.data.x+c-u.x)*o,u.y+=(u.data.y+f-u.y)*o;break;case r.bq.add:u.x+=c*o,u.y+=f*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(b),T=function(t){function e(e){return t.call(this,e)||this}return s(e,t),e.prototype.getPropertyId=function(){return(h.scale<<24)+this.boneIndex},e.prototype.apply=function(t,n,a,i,o,s,h){var l=this.frames,u=t.bones[this.boneIndex];if(a<l[0])switch(s){case r.bq.setup:return u.scaleX=u.data.scaleX,void(u.scaleY=u.data.scaleY);case r.bq.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}else{var c=0,f=0;if(a>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X]*u.data.scaleX,f=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=E.binarySearch(l,a,e.ENTRIES);c=l[p+e.PREV_X],f=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(a-d)/(l[p+e.PREV_TIME]-d));c=(c+(l[p+e.X]-c)*m)*u.data.scaleX,f=(f+(l[p+e.Y]-f)*m)*u.data.scaleY}if(1==o)s==r.bq.add?(u.scaleX+=c-u.data.scaleX,u.scaleY+=f-u.data.scaleY):(u.scaleX=c,u.scaleY=f);else{var g=0,v=0;if(h==r.mJ.mixOut)switch(s){case r.bq.setup:g=u.data.scaleX,v=u.data.scaleY,u.scaleX=g+(Math.abs(c)*r.M8.signum(g)-g)*o,u.scaleY=v+(Math.abs(f)*r.M8.signum(v)-v)*o;break;case r.bq.first:case r.bq.replace:g=u.scaleX,v=u.scaleY,u.scaleX=g+(Math.abs(c)*r.M8.signum(g)-g)*o,u.scaleY=v+(Math.abs(f)*r.M8.signum(v)-v)*o;break;case r.bq.add:g=u.scaleX,v=u.scaleY,u.scaleX=g+(Math.abs(c)*r.M8.signum(g)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(f)*r.M8.signum(v)-u.data.scaleY)*o}else switch(s){case r.bq.setup:g=Math.abs(u.data.scaleX)*r.M8.signum(c),v=Math.abs(u.data.scaleY)*r.M8.signum(f),u.scaleX=g+(c-g)*o,u.scaleY=v+(f-v)*o;break;case r.bq.first:case r.bq.replace:g=Math.abs(u.scaleX)*r.M8.signum(c),v=Math.abs(u.scaleY)*r.M8.signum(f),u.scaleX=g+(c-g)*o,u.scaleY=v+(f-v)*o;break;case r.bq.add:g=r.M8.signum(c),v=r.M8.signum(f),u.scaleX=Math.abs(u.scaleX)*g+(c-Math.abs(u.data.scaleX)*g)*o,u.scaleY=Math.abs(u.scaleY)*v+(f-Math.abs(u.data.scaleY)*v)*o}}}},e}(w),S=function(t){function e(e){return t.call(this,e)||this}return s(e,t),e.prototype.getPropertyId=function(){return(h.shear<<24)+this.boneIndex},e.prototype.apply=function(t,n,a,i,o,s,h){var l=this.frames,u=t.bones[this.boneIndex];if(a<l[0])switch(s){case r.bq.setup:return u.shearX=u.data.shearX,void(u.shearY=u.data.shearY);case r.bq.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}else{var c=0,f=0;if(a>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X],f=l[l.length+e.PREV_Y];else{var p=E.binarySearch(l,a,e.ENTRIES);c=l[p+e.PREV_X],f=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(a-d)/(l[p+e.PREV_TIME]-d));c+=(l[p+e.X]-c)*m,f+=(l[p+e.Y]-f)*m}switch(s){case r.bq.setup:u.shearX=u.data.shearX+c*o,u.shearY=u.data.shearY+f*o;break;case r.bq.first:case r.bq.replace:u.shearX+=(u.data.shearX+c-u.shearX)*o,u.shearY+=(u.data.shearY+f-u.shearY)*o;break;case r.bq.add:u.shearX+=c*o,u.shearY+=f*o}}},e}(w),I=function(t){function e(n){var a=t.call(this,n)||this;return a.frames=r.cQ.newFloatArray(n*e.ENTRIES),a}return s(e,t),e.prototype.getPropertyId=function(){return(h.color<<24)+this.slotIndex},e.prototype.setFrame=function(t,n,r,a,i,o){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.R]=r,this.frames[t+e.G]=a,this.frames[t+e.B]=i,this.frames[t+e.A]=o},e.prototype.apply=function(t,n,a,i,o,s,h){var l=t.slots[this.slotIndex],u=this.frames;if(a<u[0])switch(s){case r.bq.setup:return void l.color.setFromColor(l.data.color);case r.bq.first:var c=l.color,f=l.data.color;c.add((f.r-c.r)*o,(f.g-c.g)*o,(f.b-c.b)*o,(f.a-c.a)*o)}else{var p=0,d=0,m=0,g=0;if(a>=u[u.length-e.ENTRIES]){var v=u.length;p=u[v+e.PREV_R],d=u[v+e.PREV_G],m=u[v+e.PREV_B],g=u[v+e.PREV_A]}else{var y=E.binarySearch(u,a,e.ENTRIES);p=u[y+e.PREV_R],d=u[y+e.PREV_G],m=u[y+e.PREV_B],g=u[y+e.PREV_A];var x=u[y],b=this.getCurvePercent(y/e.ENTRIES-1,1-(a-x)/(u[y+e.PREV_TIME]-x));p+=(u[y+e.R]-p)*b,d+=(u[y+e.G]-d)*b,m+=(u[y+e.B]-m)*b,g+=(u[y+e.A]-g)*b}if(1==o)l.color.set(p,d,m,g);else{c=l.color;s==r.bq.setup&&c.setFromColor(l.data.color),c.add((p-c.r)*o,(d-c.g)*o,(m-c.b)*o,(g-c.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(b),R=function(t){function e(n){var a=t.call(this,n)||this;return a.frames=r.cQ.newFloatArray(n*e.ENTRIES),a}return s(e,t),e.prototype.getPropertyId=function(){return(h.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(t,n,r,a,i,o,s,h,l){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.R]=r,this.frames[t+e.G]=a,this.frames[t+e.B]=i,this.frames[t+e.A]=o,this.frames[t+e.R2]=s,this.frames[t+e.G2]=h,this.frames[t+e.B2]=l},e.prototype.apply=function(t,n,a,i,o,s,h){var l=t.slots[this.slotIndex],u=this.frames;if(a<u[0])switch(s){case r.bq.setup:return l.color.setFromColor(l.data.color),void l.darkColor.setFromColor(l.data.darkColor);case r.bq.first:var c=l.color,f=l.darkColor,p=l.data.color,d=l.data.darkColor;c.add((p.r-c.r)*o,(p.g-c.g)*o,(p.b-c.b)*o,(p.a-c.a)*o),f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,0)}else{var m=0,g=0,v=0,y=0,x=0,b=0,M=0;if(a>=u[u.length-e.ENTRIES]){var w=u.length;m=u[w+e.PREV_R],g=u[w+e.PREV_G],v=u[w+e.PREV_B],y=u[w+e.PREV_A],x=u[w+e.PREV_R2],b=u[w+e.PREV_G2],M=u[w+e.PREV_B2]}else{var T=E.binarySearch(u,a,e.ENTRIES);m=u[T+e.PREV_R],g=u[T+e.PREV_G],v=u[T+e.PREV_B],y=u[T+e.PREV_A],x=u[T+e.PREV_R2],b=u[T+e.PREV_G2],M=u[T+e.PREV_B2];var S=u[T],I=this.getCurvePercent(T/e.ENTRIES-1,1-(a-S)/(u[T+e.PREV_TIME]-S));m+=(u[T+e.R]-m)*I,g+=(u[T+e.G]-g)*I,v+=(u[T+e.B]-v)*I,y+=(u[T+e.A]-y)*I,x+=(u[T+e.R2]-x)*I,b+=(u[T+e.G2]-b)*I,M+=(u[T+e.B2]-M)*I}if(1==o)l.color.set(m,g,v,y),l.darkColor.set(x,b,M,1);else{c=l.color,f=l.darkColor;s==r.bq.setup&&(c.setFromColor(l.data.color),f.setFromColor(l.data.darkColor)),c.add((m-c.r)*o,(g-c.g)*o,(v-c.b)*o,(y-c.a)*o),f.add((x-f.r)*o,(b-f.g)*o,(M-f.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(b),A=function(){function t(t){this.frames=r.cQ.newFloatArray(t),this.attachmentNames=new Array(t)}return t.prototype.getPropertyId=function(){return(h.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},t.prototype.apply=function(t,e,n,a,i,o,s){var h=t.slots[this.slotIndex];if(s!=r.mJ.mixOut||o!=r.bq.setup){var l=this.frames;if(n<l[0]){if(o==r.bq.setup||o==r.bq.first){var u=h.data.attachmentName;h.setAttachment(null==u?null:t.getAttachment(this.slotIndex,u))}}else{var c=0;c=n>=l[l.length-1]?l.length-1:E.binarySearch(l,n,1)-1;var f=this.attachmentNames[c];t.slots[this.slotIndex].setAttachment(null==f?null:t.getAttachment(this.slotIndex,f))}}else{var p=h.data.attachmentName;h.setAttachment(null==p?null:t.getAttachment(this.slotIndex,p))}},t}(),V=null,C=function(t){function e(e){var n=t.call(this,e)||this;return n.frames=r.cQ.newFloatArray(e),n.frameVertices=new Array(e),null==V&&(V=r.cQ.newFloatArray(64)),n}return s(e,t),e.prototype.getPropertyId=function(){return(h.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},e.prototype.apply=function(t,e,n,a,i,o,s){var h=t.slots[this.slotIndex],l=h.getAttachment();if(l instanceof u&&l.applyDeform(this.attachment)){var c=h.attachmentVertices;0==c.length&&(o=r.bq.setup);var f=this.frameVertices,p=f[0].length,d=this.frames;if(n<d[0]){var m=l;switch(o){case r.bq.setup:return void(c.length=0);case r.bq.first:if(1==i){c.length=0;break}var g=r.cQ.setArraySize(c,p);if(null==m.bones)for(var v=m.vertices,y=0;y<p;y++)g[y]+=(v[y]-g[y])*i;else{i=1-i;for(y=0;y<p;y++)g[y]*=i}}}else{var x=r.cQ.setArraySize(c,p);if(n>=d[d.length-1]){var b=f[d.length-1];if(1==i)if(o==r.bq.add)if(null==(m=l).bones)for(v=m.vertices,y=0;y<p;y++)x[y]+=b[y]-v[y];else for(y=0;y<p;y++)x[y]+=b[y];else r.cQ.arrayCopy(b,0,x,0,p);else switch(o){case r.bq.setup:var M=l;if(null==M.bones)for(v=M.vertices,y=0;y<p;y++){var w=v[y];x[y]=w+(b[y]-w)*i}else for(y=0;y<p;y++)x[y]=b[y]*i;break;case r.bq.first:case r.bq.replace:for(y=0;y<p;y++)x[y]+=(b[y]-x[y])*i;case r.bq.add:if(null==(m=l).bones)for(v=m.vertices,y=0;y<p;y++)x[y]+=(b[y]-v[y])*i;else for(y=0;y<p;y++)x[y]+=b[y]*i}}else{var T=E.binarySearch(d,n),S=f[T-1],I=f[T],R=d[T],A=this.getCurvePercent(T-1,1-(n-R)/(d[T-1]-R));if(1==i)if(o==r.bq.add)if(null==(m=l).bones)for(v=m.vertices,y=0;y<p;y++){var V=S[y];x[y]+=V+(I[y]-V)*A-v[y]}else for(y=0;y<p;y++){V=S[y];x[y]+=V+(I[y]-V)*A}else for(y=0;y<p;y++){V=S[y];x[y]=V+(I[y]-V)*A}else switch(o){case r.bq.setup:var C=l;if(null==C.bones)for(v=C.vertices,y=0;y<p;y++){V=S[y],w=v[y];x[y]=w+(V+(I[y]-V)*A-w)*i}else for(y=0;y<p;y++){V=S[y];x[y]=(V+(I[y]-V)*A)*i}break;case r.bq.first:case r.bq.replace:for(y=0;y<p;y++){V=S[y];x[y]+=(V+(I[y]-V)*A-x[y])*i}break;case r.bq.add:if(null==(m=l).bones)for(v=m.vertices,y=0;y<p;y++){V=S[y];x[y]+=(V+(I[y]-V)*A-v[y])*i}else for(y=0;y<p;y++){V=S[y];x[y]+=(V+(I[y]-V)*A)*i}}}}}},e}(b),P=function(){function t(t){this.frames=r.cQ.newFloatArray(t),this.events=new Array(t)}return t.prototype.getPropertyId=function(){return h.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},t.prototype.apply=function(t,e,n,r,a,i,o){if(null!=r){var s=this.frames,h=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,r,a,i,o),e=-1;else if(e>=s[h-1])return;if(!(n<s[0])){var l=0;if(e<s[0])l=0;else for(var u=s[l=E.binarySearch(s,e)];l>0&&s[l-1]==u;)l--;for(;l<h&&n>=s[l];l++)r.push(this.events[l])}}},t}(),k=function(){function t(t){this.frames=r.cQ.newFloatArray(t),this.drawOrders=new Array(t)}return t.prototype.getPropertyId=function(){return h.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},t.prototype.apply=function(t,e,n,a,i,o,s){var h=t.drawOrder,l=t.slots;if(s!=r.mJ.mixOut||o!=r.bq.setup){var u=this.frames;if(n<u[0])o!=r.bq.setup&&o!=r.bq.first||r.cQ.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var c=0;c=n>=u[u.length-1]?u.length-1:E.binarySearch(u,n)-1;var f=this.drawOrders[c];if(null==f)r.cQ.arrayCopy(l,0,h,0,l.length);else for(var p=0,d=f.length;p<d;p++)h[p]=l[f[p]]}}else r.cQ.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},t}(),N=function(t){function e(n){var a=t.call(this,n)||this;return a.frames=r.cQ.newFloatArray(n*e.ENTRIES),a}return s(e,t),e.prototype.getPropertyId=function(){return(h.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(t,n,r,a,i,o){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.MIX]=r,this.frames[t+e.BEND_DIRECTION]=a,this.frames[t+e.COMPRESS]=i?1:0,this.frames[t+e.STRETCH]=o?1:0},e.prototype.apply=function(t,n,a,i,o,s,h){var l=this.frames,u=t.ikConstraints[this.ikConstraintIndex];if(a<l[0])switch(s){case r.bq.setup:return u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,void(u.stretch=u.data.stretch);case r.bq.first:u.mix+=(u.data.mix-u.mix)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}else if(a>=l[l.length-e.ENTRIES])s==r.bq.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,h==r.mJ.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=0!=l[l.length+e.PREV_COMPRESS],u.stretch=0!=l[l.length+e.PREV_STRETCH])):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,h==r.mJ.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=0!=l[l.length+e.PREV_COMPRESS],u.stretch=0!=l[l.length+e.PREV_STRETCH]));else{var c=E.binarySearch(l,a,e.ENTRIES),f=l[c+e.PREV_MIX],p=l[c],d=this.getCurvePercent(c/e.ENTRIES-1,1-(a-p)/(l[c+e.PREV_TIME]-p));s==r.bq.setup?(u.mix=u.data.mix+(f+(l[c+e.MIX]-f)*d-u.data.mix)*o,h==r.mJ.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[c+e.PREV_BEND_DIRECTION],u.compress=0!=l[c+e.PREV_COMPRESS],u.stretch=0!=l[c+e.PREV_STRETCH])):(u.mix+=(f+(l[c+e.MIX]-f)*d-u.mix)*o,h==r.mJ.mixIn&&(u.bendDirection=l[c+e.PREV_BEND_DIRECTION],u.compress=0!=l[c+e.PREV_COMPRESS],u.stretch=0!=l[c+e.PREV_STRETCH]))}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}(b),Y=function(t){function e(n){var a=t.call(this,n)||this;return a.frames=r.cQ.newFloatArray(n*e.ENTRIES),a}return s(e,t),e.prototype.getPropertyId=function(){return(h.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(t,n,r,a,i,o){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.ROTATE]=r,this.frames[t+e.TRANSLATE]=a,this.frames[t+e.SCALE]=i,this.frames[t+e.SHEAR]=o},e.prototype.apply=function(t,n,a,i,o,s,h){var l=this.frames,u=t.transformConstraints[this.transformConstraintIndex];if(a<l[0]){var c=u.data;switch(s){case r.bq.setup:return u.rotateMix=c.rotateMix,u.translateMix=c.translateMix,u.scaleMix=c.scaleMix,void(u.shearMix=c.shearMix);case r.bq.first:u.rotateMix+=(c.rotateMix-u.rotateMix)*o,u.translateMix+=(c.translateMix-u.translateMix)*o,u.scaleMix+=(c.scaleMix-u.scaleMix)*o,u.shearMix+=(c.shearMix-u.shearMix)*o}}else{var f=0,p=0,d=0,m=0;if(a>=l[l.length-e.ENTRIES]){var g=l.length;f=l[g+e.PREV_ROTATE],p=l[g+e.PREV_TRANSLATE],d=l[g+e.PREV_SCALE],m=l[g+e.PREV_SHEAR]}else{var v=E.binarySearch(l,a,e.ENTRIES);f=l[v+e.PREV_ROTATE],p=l[v+e.PREV_TRANSLATE],d=l[v+e.PREV_SCALE],m=l[v+e.PREV_SHEAR];var y=l[v],x=this.getCurvePercent(v/e.ENTRIES-1,1-(a-y)/(l[v+e.PREV_TIME]-y));f+=(l[v+e.ROTATE]-f)*x,p+=(l[v+e.TRANSLATE]-p)*x,d+=(l[v+e.SCALE]-d)*x,m+=(l[v+e.SHEAR]-m)*x}if(s==r.bq.setup){c=u.data;u.rotateMix=c.rotateMix+(f-c.rotateMix)*o,u.translateMix=c.translateMix+(p-c.translateMix)*o,u.scaleMix=c.scaleMix+(d-c.scaleMix)*o,u.shearMix=c.shearMix+(m-c.shearMix)*o}else u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(m-u.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(b),X=function(t){function e(n){var a=t.call(this,n)||this;return a.frames=r.cQ.newFloatArray(n*e.ENTRIES),a}return s(e,t),e.prototype.getPropertyId=function(){return(h.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(t,n,r){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.VALUE]=r},e.prototype.apply=function(t,n,a,i,o,s,h){var l=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(a<l[0])switch(s){case r.bq.setup:return void(u.position=u.data.position);case r.bq.first:u.position+=(u.data.position-u.position)*o}else{var c=0;if(a>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_VALUE];else{var f=E.binarySearch(l,a,e.ENTRIES);c=l[f+e.PREV_VALUE];var p=l[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(a-p)/(l[f+e.PREV_TIME]-p));c+=(l[f+e.VALUE]-c)*d}s==r.bq.setup?u.position=u.data.position+(c-u.data.position)*o:u.position+=(c-u.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(b),_=function(t){function e(e){return t.call(this,e)||this}return s(e,t),e.prototype.getPropertyId=function(){return(h.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(t,n,a,i,o,s,h){var l=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(a<l[0])switch(s){case r.bq.setup:return void(u.spacing=u.data.spacing);case r.bq.first:u.spacing+=(u.data.spacing-u.spacing)*o}else{var c=0;if(a>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_VALUE];else{var f=E.binarySearch(l,a,e.ENTRIES);c=l[f+e.PREV_VALUE];var p=l[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(a-p)/(l[f+e.PREV_TIME]-p));c+=(l[f+e.VALUE]-c)*d}s==r.bq.setup?u.spacing=u.data.spacing+(c-u.data.spacing)*o:u.spacing+=(c-u.spacing)*o}},e}(X),D=function(t){function e(n){var a=t.call(this,n)||this;return a.frames=r.cQ.newFloatArray(n*e.ENTRIES),a}return s(e,t),e.prototype.getPropertyId=function(){return(h.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(t,n,r,a){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.ROTATE]=r,this.frames[t+e.TRANSLATE]=a},e.prototype.apply=function(t,n,a,i,o,s,h){var l=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(a<l[0])switch(s){case r.bq.setup:return u.rotateMix=u.data.rotateMix,void(u.translateMix=u.data.translateMix);case r.bq.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}else{var c=0,f=0;if(a>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_ROTATE],f=l[l.length+e.PREV_TRANSLATE];else{var p=E.binarySearch(l,a,e.ENTRIES);c=l[p+e.PREV_ROTATE],f=l[p+e.PREV_TRANSLATE];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(a-d)/(l[p+e.PREV_TIME]-d));c+=(l[p+e.ROTATE]-c)*m,f+=(l[p+e.TRANSLATE]-f)*m}s==r.bq.setup?(u.rotateMix=u.data.rotateMix+(c-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(f-u.data.translateMix)*o):(u.rotateMix+=(c-u.rotateMix)*o,u.translateMix+=(f-u.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(b),F=function(){function t(t){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new O(this),this.propertyIDs=new r.JS,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new r.Kg((function(){return new q})),this.data=t}return t.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,r=e.length;n<r;n++){var a=e[n];if(null!=a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var i=t*a.timeScale;if(a.delay>0){if(a.delay-=i,a.delay>0)continue;i=-a.delay,a.delay=0}var o=a.next;if(null!=o){var s=a.trackLast-o.delay;if(s>=0){for(o.delay=0,o.trackTime=0==a.timeScale?0:(s/a.timeScale+t)*o.timeScale,a.trackTime+=i,this.setCurrent(n,o,!0);null!=o.mixingFrom;)o.mixTime+=t,o=o.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&null==a.mixingFrom){e[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(null!=a.mixingFrom&&this.updateMixingFrom(a,t)){var h=a.mixingFrom;for(a.mixingFrom=null,null!=h&&(h.mixingTo=null);null!=h;)this.queue.end(h),h=h.mixingFrom}a.trackTime+=i}}this.queue.drain()},t.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(null==n)return!0;var r=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)},t.prototype.apply=function(e){if(null==e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var n=this.events,a=this.tracks,i=!1,o=0,s=a.length;o<s;o++){var h=a[o];if(!(null==h||h.delay>0)){i=!0;var l=0==o?r.bq.first:h.mixBlend,u=h.alpha;null!=h.mixingFrom?u*=this.applyMixingFrom(h,e,l):h.trackTime>=h.trackEnd&&null==h.next&&(u=0);var c=h.animationLast,f=h.getAnimationTime(),p=h.animation.timelines.length,d=h.animation.timelines;if(0==o&&1==u||l==r.bq.add)for(var m=0;m<p;m++)r.cQ.webkit602BugfixHelper(u,l),d[m].apply(e,c,f,n,u,l,r.mJ.mixIn);else{var g=h.timelineMode,v=0==h.timelinesRotation.length;v&&r.cQ.setArraySize(h.timelinesRotation,p<<1,null);var y=h.timelinesRotation;for(m=0;m<p;m++){var E=d[m],x=g[m]==t.SUBSEQUENT?l:r.bq.setup;E instanceof M?this.applyRotateTimeline(E,e,f,u,x,y,m<<1,v):(r.cQ.webkit602BugfixHelper(u,l),E.apply(e,c,f,n,u,x,r.mJ.mixIn))}}this.queueEvents(h,f),n.length=0,h.nextAnimationLast=f,h.nextTrackLast=h.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,n,a){var i=e.mixingFrom;null!=i.mixingFrom&&this.applyMixingFrom(i,n,a);var o=0;0==e.mixDuration?(o=1,a==r.bq.first&&(a=r.bq.setup)):((o=e.mixTime/e.mixDuration)>1&&(o=1),a!=r.bq.first&&(a=i.mixBlend));var s=o<i.eventThreshold?this.events:null,h=o<i.attachmentThreshold,l=o<i.drawOrderThreshold,u=i.animationLast,c=i.getAnimationTime(),f=i.animation.timelines.length,p=i.animation.timelines,d=i.alpha*e.interruptAlpha,m=d*(1-o);if(a==r.bq.add)for(var g=0;g<f;g++)p[g].apply(n,u,c,s,m,a,r.mJ.mixOut);else{var v=i.timelineMode,y=i.timelineHoldMix,E=0==i.timelinesRotation.length;E&&r.cQ.setArraySize(i.timelinesRotation,f<<1,null);var x=i.timelinesRotation;i.totalAlpha=0;for(g=0;g<f;g++){var b=p[g],w=r.mJ.mixOut,T=void 0,S=0;switch(v[g]){case t.SUBSEQUENT:if(!h&&b instanceof A)continue;if(!l&&b instanceof k)continue;T=a,S=m;break;case t.FIRST:T=r.bq.setup,S=m;break;case t.HOLD:T=r.bq.setup,S=d;break;default:T=r.bq.setup;var I=y[g];S=d*Math.max(0,1-I.mixTime/I.mixDuration)}i.totalAlpha+=S,b instanceof M?this.applyRotateTimeline(b,n,c,S,T,x,g<<1,E):(r.cQ.webkit602BugfixHelper(S,a),T==r.bq.setup&&(b instanceof A?h&&(w=r.mJ.mixOut):b instanceof k&&l&&(w=r.mJ.mixOut)),b.apply(n,u,c,s,S,T,w))}}return e.mixDuration>0&&this.queueEvents(i,c),this.events.length=0,i.nextAnimationLast=c,i.nextTrackLast=i.trackTime,o},t.prototype.applyRotateTimeline=function(t,e,n,a,i,o,s,h){if(h&&(o[s]=0),1!=a){var l=t,u=l.frames,c=e.bones[l.boneIndex],f=0,p=0;if(n<u[0])switch(i){case r.bq.setup:c.rotation=c.data.rotation;default:return;case r.bq.first:f=c.rotation,p=c.data.rotation}else if(f=i==r.bq.setup?c.data.rotation:c.rotation,n>=u[u.length-M.ENTRIES])p=c.data.rotation+u[u.length+M.PREV_ROTATION];else{var d=E.binarySearch(u,n,M.ENTRIES),m=u[d+M.PREV_ROTATION],g=u[d],v=l.getCurvePercent((d>>1)-1,1-(n-g)/(u[d+M.PREV_TIME]-g));p=u[d+M.ROTATION]-m,p=m+(p-=360*(16384-(16384.499999999996-p/360|0)))*v+c.data.rotation,p-=360*(16384-(16384.499999999996-p/360|0))}var y=0,x=p-f;if(0==(x-=360*(16384-(16384.499999999996-x/360|0))))y=o[s];else{var b=0,w=0;h?(b=0,w=x):(b=o[s],w=o[s+1]);var T=x>0,S=b>=0;r.M8.signum(w)!=r.M8.signum(x)&&Math.abs(w)<=90&&(Math.abs(b)>180&&(b+=360*r.M8.signum(b)),S=T),y=x+b-b%360,S!=T&&(y+=360*r.M8.signum(b)),o[s]=y}o[s+1]=x,f+=y*a,c.rotation=f-360*(16384-(16384.499999999996-f/360|0))}else t.apply(e,0,n,null,1,i,r.mJ.mixIn)},t.prototype.queueEvents=function(t,e){for(var n=t.animationStart,r=t.animationEnd,a=r-n,i=t.trackLast%a,o=this.events,s=0,h=o.length;s<h;s++){var l=o[s];if(l.time<i)break;l.time>r||this.queue.event(t,l)}for((t.loop?0==a||i>t.trackTime%a:e>=r&&t.animationLast<r)&&this.queue.complete(t);s<h;s++){o[s].time<n||this.queue.event(t,o[s])}},t.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},t.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[e.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(t,e,n){var r=this.expandToIndex(t);this.tracks[t]=e,null!=r&&(n&&this.queue.interrupt(r),e.mixingFrom=r,r.mixingTo=e,e.mixTime=0,null!=r.mixingFrom&&r.mixDuration>0&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)},t.prototype.setAnimation=function(t,e,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,n)},t.prototype.setAnimationWith=function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var r=!0,a=this.expandToIndex(t);null!=a&&(-1==a.nextTrackLast?(this.tracks[t]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,r=!1):this.disposeNext(a));var i=this.trackEntry(t,e,n,a);return this.setCurrent(t,i,r),this.queue.drain(),i},t.prototype.addAnimation=function(t,e,n,r){var a=this.data.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,a,n,r)},t.prototype.addAnimationWith=function(t,e,n,r){if(null==e)throw new Error("animation cannot be null.");var a=this.expandToIndex(t);if(null!=a)for(;null!=a.next;)a=a.next;var i=this.trackEntry(t,e,n,a);if(null==a)this.setCurrent(t,i,!0),this.queue.drain();else if(a.next=i,r<=0){var o=a.animationEnd-a.animationStart;0!=o?(a.loop?r+=o*(1+(a.trackTime/o|0)):r+=Math.max(o,a.trackTime),r-=this.data.getMix(a.animation,e)):r=a.trackTime}return i.delay=r,i},t.prototype.setEmptyAnimation=function(e,n){var r=this.setAnimationWith(e,t.emptyAnimation,!1);return r.mixDuration=n,r.trackEnd=n,r},t.prototype.addEmptyAnimation=function(e,n,r){r<=0&&(r-=n);var a=this.addAnimationWith(e,t.emptyAnimation,!1,r);return a.mixDuration=n,a.trackEnd=n,a},t.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var a=this.tracks[n];null!=a&&this.setEmptyAnimation(a.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},t.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(r.cQ.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)},t.prototype.trackEntry=function(t,e,n,r){var a=this.trackEntryPool.obtain();return a.trackIndex=t,a.animation=e,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=e.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=null==r?0:this.data.getMix(r.animation,e),a},t.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var n=this.tracks[t];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;do{null!=n.mixingFrom&&n.mixBlend==r.bq.add||this.setTimelineModes(n),n=n.mixingTo}while(null!=n)}}},t.prototype.setTimelineModes=function(e){var n=e.mixingTo,a=e.animation.timelines,i=e.animation.timelines.length,o=r.cQ.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var s=r.cQ.setArraySize(e.timelineHoldMix,i),h=this.propertyIDs;if(null!=n&&n.holdPrevious)for(var l=0;l<i;l++)h.add(a[l].getPropertyId()),o[l]=t.HOLD;else t:for(l=0;l<i;l++){var u=a[l].getPropertyId();if(h.add(u))if(null!=n&&this.hasTimeline(n,u)){for(var c=n.mixingTo;null!=c;c=c.mixingTo)if(!this.hasTimeline(c,u)){if(e.mixDuration>0){o[l]=t.HOLD_MIX,s[l]=c;continue t}break}o[l]=t.HOLD}else o[l]=t.FIRST;else o[l]=t.SUBSEQUENT}},t.prototype.hasTimeline=function(t,e){for(var n=t.animation.timelines,r=0,a=n.length;r<a;r++)if(n[r].getPropertyId()==e)return!0;return!1},t.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},t.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},t.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,n,r){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,n,r)},t.prototype.addAnimationByName=function(e,n,r,a){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,n,r,a)},t.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new E("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),q=function(){function t(){this.mixBlend=r.bq.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),O=function(){function t(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return t.prototype.start=function(t){this.objects.push(x.start),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.interrupt=function(t){this.objects.push(x.interrupt),this.objects.push(t)},t.prototype.end=function(t){this.objects.push(x.end),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.dispose=function(t){this.objects.push(x.dispose),this.objects.push(t)},t.prototype.complete=function(t){this.objects.push(x.complete),this.objects.push(t)},t.prototype.event=function(t,e){this.objects.push(x.event),this.objects.push(t),this.objects.push(e)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var a=t[n],i=t[n+1];switch(a){case x.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<e.length;o++)e[o].start&&e[o].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case x.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(i);break;case x.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(o=0;o<e.length;o++)e[o].end&&e[o].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case x.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(o=0;o<e.length;o++)e[o].dispose&&e[o].dispose(i);this.animState.trackEntryPool.free(i);break;case x.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(o=0;o<e.length;o++)e[o].complete&&e[o].complete(i);var s=r.M8.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,s);break;case x.event:var h=t[2+n++];null!=i.listener&&i.listener.event&&i.listener.event(i,h);for(o=0;o<e.length;o++)e[o].event&&e[o].event(i,h);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,h),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,h)}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}();!function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(x||(x={}));var B,L=function(){function t(){}return t.prototype.start=function(t){},t.prototype.interrupt=function(t){},t.prototype.end=function(t){},t.prototype.dispose=function(t){},t.prototype.complete=function(t){},t.prototype.event=function(t,e){},t}(),W=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,n){var r=this.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: "+t);var a=this.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);this.setMixWith(r,a,n)},t.prototype.setMixByName=function(e,n,r){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,n,r)},t.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var r=t.name+"."+e.name;this.animationToMixTime[r]=n},t.prototype.getMix=function(t,e){var n=t.name+"."+e.name,r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r},t.deprecatedWarning1=!1,t}(),Q=function(){function t(t){this.atlas=t}return t.prototype.newRegionAttachment=function(t,e,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");var a=new g(e);return a.region=r,a},t.prototype.newMeshAttachment=function(t,e,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");var a=new p(e);return a.region=r,a},t.prototype.newBoundingBoxAttachment=function(t,e){return new c(e)},t.prototype.newPathAttachment=function(t,e){return new d(e)},t.prototype.newPointAttachment=function(t,e){return new m(e)},t.prototype.newClippingAttachment=function(t,e){return new f(e)},t}(),j=function(){function t(t,e,n){if(this.matrix=new a.y3,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(t,e,n,a,i,o,s){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=a,this.ascaleY=i,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var h=this.parent,l=this.matrix,u=this.skeleton.scaleX,c=r.Xd.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==h){var f=this.skeleton,p=n+90+s;return l.a=r.M8.cosDeg(n+o)*a*u,l.c=r.M8.cosDeg(p)*i*u,l.b=r.M8.sinDeg(n+o)*a*c,l.d=r.M8.sinDeg(p)*i*c,l.tx=t*u+f.x,void(l.ty=e*c+f.y)}var d=h.matrix.a,m=h.matrix.c,g=h.matrix.b,v=h.matrix.d;switch(l.tx=d*t+m*e+h.matrix.tx,l.ty=g*t+v*e+h.matrix.ty,this.data.transformMode){case r.Qe.Normal:p=n+90+s;var y=r.M8.cosDeg(n+o)*a,E=r.M8.cosDeg(p)*i,x=r.M8.sinDeg(n+o)*a,b=r.M8.sinDeg(p)*i;return l.a=d*y+m*x,l.c=d*E+m*b,l.b=g*y+v*x,void(l.d=g*E+v*b);case r.Qe.OnlyTranslation:p=n+90+s;l.a=r.M8.cosDeg(n+o)*a,l.c=r.M8.cosDeg(p)*i,l.b=r.M8.sinDeg(n+o)*a,l.d=r.M8.sinDeg(p)*i;break;case r.Qe.NoRotationOrReflection:var M=0;(S=d*d+g*g)>1e-4?(m=g*(S=Math.abs(d*v-m*g)/S),v=d*S,M=Math.atan2(g,d)*r.M8.radDeg):(d=0,g=0,M=90-Math.atan2(v,m)*r.M8.radDeg);var w=n+o-M,T=n+s-M+90;y=r.M8.cosDeg(w)*a,E=r.M8.cosDeg(T)*i,x=r.M8.sinDeg(w)*a,b=r.M8.sinDeg(T)*i;l.a=d*y-m*x,l.c=d*E-m*b,l.b=g*y+v*x,l.d=g*E+v*b;break;case r.Qe.NoScale:case r.Qe.NoScaleOrReflection:var S,I=r.M8.cosDeg(n),R=r.M8.sinDeg(n),A=(d*I+m*R)/u,V=(g*I+v*R)/c;(S=Math.sqrt(A*A+V*V))>1e-5&&(S=1/S),A*=S,V*=S,S=Math.sqrt(A*A+V*V),this.data.transformMode==r.Qe.NoScale&&d*v-m*g<0!=(r.Xd.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(S=-S);var C=Math.PI/2+Math.atan2(V,A),P=Math.cos(C)*S,k=Math.sin(C)*S;y=r.M8.cosDeg(o)*a,E=r.M8.cosDeg(90+s)*i,x=r.M8.sinDeg(o)*a,b=r.M8.sinDeg(90+s)*i;l.a=A*y+P*x,l.c=A*E+P*b,l.b=V*y+k*x,l.d=V*E+k*b}l.a*=u,l.c*=u,l.b*=c,l.d*=c},t.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*r.M8.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*r.M8.radDeg},t.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},t.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*r.M8.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*r.M8.radDeg);var n=t.matrix,a=1/(n.a*n.d-n.b*n.c),i=e.tx-n.tx,o=e.ty-n.ty;this.ax=i*n.d*a-o*n.c*a,this.ay=o*n.a*a-i*n.b*a;var s=a*n.d,h=a*n.a,l=a*n.c,u=a*n.b,c=s*e.a-l*e.b,f=s*e.c-l*e.d,p=h*e.b-u*e.a,d=h*e.d-u*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+p*p),this.ascaleX>1e-4){var m=c*d-f*p;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(c*f+p*d,m)*r.M8.radDeg,this.arotation=Math.atan2(p,c)*r.M8.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(f*f+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,f)*r.M8.radDeg},t.prototype.worldToLocal=function(t){var e=this.matrix,n=e.a,r=e.c,a=e.b,i=e.d,o=1/(n*i-r*a),s=t.x-e.tx,h=t.y-e.ty;return t.x=s*i*o-h*r*o,t.y=h*n*o-s*a*o,t},t.prototype.localToWorld=function(t){var e=this.matrix,n=t.x,r=t.y;return t.x=n*e.a+r*e.c+e.tx,t.y=n*e.b+r*e.d+e.ty,t},t.prototype.worldToLocalRotation=function(t){var e=r.M8.sinDeg(t),n=r.M8.cosDeg(t),a=this.matrix;return Math.atan2(a.a*e-a.b*n,a.d*n-a.c*e)*r.M8.radDeg},t.prototype.localToWorldRotation=function(t){var e=r.M8.sinDeg(t),n=r.M8.cosDeg(t),a=this.matrix;return Math.atan2(n*a.b+e*a.d,n*a.a+e*a.c)*r.M8.radDeg},t.prototype.rotateWorld=function(t){var e=this.matrix,n=e.a,a=e.c,i=e.b,o=e.d,s=r.M8.cosDeg(t),h=r.M8.sinDeg(t);e.a=s*n-h*i,e.c=s*a-h*o,e.b=h*n+s*i,e.d=h*a+s*o,this.appliedValid=!1},t}(),U=function(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=r.Qe.Normal,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n},G=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e},H=function(t){this.name=t},Z=function(){function t(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.mix)}},t.prototype.apply1=function(t,e,n,a,i,o,s){t.appliedValid||t.updateAppliedTransform();var h=t.parent.matrix,l=1/(h.a*h.d-h.b*h.c),u=e-h.tx,c=n-h.ty,f=(u*h.d-c*h.c)*l-t.ax,p=(c*h.a-u*h.b)*l-t.ay,d=Math.atan2(p,f)*r.M8.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var m=t.ascaleX,g=t.ascaleY;if(a||i){var v=t.data.length*m,y=Math.sqrt(f*f+p*p);if(a&&y<v||i&&y>v&&v>1e-4){var E=(y/v-1)*s+1;m*=E,o&&(g*=E)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+d*s,m,g,t.ashearX,t.ashearY)},t.prototype.apply2=function(t,e,n,a,i,o,s){if(0!=s){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var h=t.ax,l=t.ay,u=t.ascaleX,c=u,f=t.ascaleY,p=e.ascaleX,d=t.matrix,m=0,g=0,v=0;u<0?(u=-u,m=180,v=-1):(m=0,v=1),f<0&&(f=-f,v=-v),p<0?(p=-p,g=180):g=0;var y=e.ax,E=0,x=0,b=0,M=d.a,w=d.c,T=d.b,S=d.d,I=Math.abs(u-f)<=1e-4;I?(x=M*y+w*(E=e.ay)+d.tx,b=T*y+S*E+d.ty):(E=0,x=M*y+d.tx,b=T*y+d.ty);var R=t.parent.matrix;M=R.a,w=R.c,T=R.b;var A=1/(M*(S=R.d)-w*T),V=n-R.tx,C=a-R.ty,P=(V*S-C*w)*A-h,k=(C*M-V*T)*A-l,N=P*P+k*k,Y=((V=x-R.tx)*S-(C=b-R.ty)*w)*A-h,X=(C*M-V*T)*A-l,_=Math.sqrt(Y*Y+X*X),D=e.data.length*p,F=0,q=0;t:if(I){var O=(N-_*_-(D*=u)*D)/(2*_*D);O<-1?O=-1:O>1&&(O=1,o&&_+D>1e-4&&(c*=(Math.sqrt(N)/(_+D)-1)*s+1)),q=Math.acos(O)*i,M=_+D*O,w=D*Math.sin(q),F=Math.atan2(k*M-P*w,P*M+k*w)}else{var B=(M=u*D)*M,L=(w=f*D)*w,W=Math.atan2(k,P),Q=-2*L*_,j=L-B;if((S=Q*Q-4*j*(T=L*_*_+B*N-B*L))>=0){var U=Math.sqrt(S);Q<0&&(U=-U);var G=(U=-(Q+U)/2)/j,H=T/U,Z=Math.abs(G)<Math.abs(H)?G:H;if(Z*Z<=N){C=Math.sqrt(N-Z*Z)*i,F=W-Math.atan2(C,Z),q=Math.atan2(C/f,(Z-_)/u);break t}}var J=r.M8.PI,z=_-M,K=z*z,$=0,tt=0,et=_+M,nt=et*et,rt=0;(T=-M*_/(B-L))>=-1&&T<=1&&(T=Math.acos(T),(S=(V=M*Math.cos(T)+_)*V+(C=w*Math.sin(T))*C)<K&&(J=T,K=S,z=V,$=C),S>nt&&(tt=T,nt=S,et=V,rt=C)),N<=(K+nt)/2?(F=W-Math.atan2($*i,z),q=J*i):(F=W-Math.atan2(rt*i,et),q=tt*i)}var at=Math.atan2(E,y)*v,it=t.arotation;(F=(F-at)*r.M8.radDeg+m-it)>180?F-=360:F<-180&&(F+=360),t.updateWorldTransformWith(h,l,it+F*s,c,t.ascaleY,0,0),it=e.arotation,(q=((q+at)*r.M8.radDeg-e.ashearX)*v+g-it)>180?q-=360:q<-180&&(q+=360),e.updateWorldTransformWith(y,E,it+q*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()},t}(),J=function(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=t},z=function(t){this.order=0,this.bones=new Array,this.name=t};!function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(B||(B={}));var K=function(){function t(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,r=t.bones.length;n<r;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof d){var n=this.rotateMix,a=this.translateMix,i=n>0;if(a>0||i){var o=this.data,s=o.spacingMode,h=s==B.Length,l=o.rotateMode,u=l==r.YK.Tangent,c=l==r.YK.ChainScale,f=this.bones.length,p=u?f:f+1,m=this.bones,g=r.cQ.setArraySize(this.spaces,p),v=null,y=this.spacing;if(c||h){c&&(v=r.cQ.setArraySize(this.lengths,f));for(var E=0,x=p-1;E<x;){var b=(P=m[E]).data.length;if(b<t.epsilon)c&&(v[E]=0),g[++E]=0;else{var M=b*P.matrix.a,w=b*P.matrix.b,T=Math.sqrt(M*M+w*w);c&&(v[E]=T),g[++E]=(h?b+y:y)*T/b}}}else for(E=1;E<p;E++)g[E]=y;var S=this.computeWorldPositions(e,p,u,o.positionMode==r.T.Percent,s==B.Percent),I=S[0],R=S[1],A=o.offsetRotation,V=!1;if(0==A)V=l==r.YK.Chain;else V=!1,A*=(C=this.target.bone.matrix).a*C.d-C.b*C.c>0?r.M8.degRad:-r.M8.degRad;E=0;for(var C=3;E<f;E++,C+=3){var P,k=(P=m[E]).matrix;k.tx+=(I-k.tx)*a,k.ty+=(R-k.ty)*a;var N=(M=S[C])-I,Y=(w=S[C+1])-R;if(c){var X=v[E];if(0!=X){var _=(Math.sqrt(N*N+Y*Y)/X-1)*n+1;k.a*=_,k.b*=_}}if(I=M,R=w,i){var D=k.a,F=k.c,q=k.b,O=k.d,L=0,W=0,Q=0;if(L=u?S[C-1]:0==g[E+1]?S[C+2]:Math.atan2(Y,N),L-=Math.atan2(q,D),V){W=Math.cos(L),Q=Math.sin(L);var j=P.data.length;I+=(j*(W*D-Q*q)-N)*n,R+=(j*(Q*D+W*q)-Y)*n}else L+=A;L>r.M8.PI?L-=r.M8.PI2:L<-r.M8.PI&&(L+=r.M8.PI2),L*=n,W=Math.cos(L),Q=Math.sin(L),k.a=W*D-Q*q,k.c=W*F-Q*O,k.b=Q*D+W*q,k.d=Q*F+W*O}P.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,n,a,i,o){var s=this.target,h=this.position,l=this.spaces,u=r.cQ.setArraySize(this.positions,3*n+2),c=null,f=e.closed,p=e.worldVerticesLength,d=p/6,m=t.NONE;if(!e.constantSpeed){var g=e.lengths,v=g[d-=f?1:2];if(i&&(h*=v),o)for(var y=0;y<n;y++)l[y]*=v;c=r.cQ.setArraySize(this.world,8);y=0;for(var E=0,x=0;y<n;y++,E+=3){var b=h+=j=l[y];if(f)(b%=v)<0&&(b+=v),x=0;else{if(b<0){m!=t.BEFORE&&(m=t.BEFORE,e.computeWorldVertices(s,2,4,c,0,2)),this.addBeforePosition(b,c,0,u,E);continue}if(b>v){m!=t.AFTER&&(m=t.AFTER,e.computeWorldVertices(s,p-6,4,c,0,2)),this.addAfterPosition(b-v,c,0,u,E);continue}}for(;;x++){var M=g[x];if(!(b>M)){if(0==x)b/=M;else b=(b-(Z=g[x-1]))/(M-Z);break}}x!=m&&(m=x,f&&x==d?(e.computeWorldVertices(s,p-4,4,c,0,2),e.computeWorldVertices(s,0,4,c,4,2)):e.computeWorldVertices(s,6*x+2,8,c,0,2)),this.addCurvePosition(b,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],u,E,a||y>0&&0==j)}return u}f?(p+=2,c=r.cQ.setArraySize(this.world,p),e.computeWorldVertices(s,2,p-4,c,0,2),e.computeWorldVertices(s,0,2,c,p-4,2),c[p-2]=c[0],c[p-1]=c[1]):(d--,p-=4,c=r.cQ.setArraySize(this.world,p),e.computeWorldVertices(s,2,p,c,0,2));for(var w=r.cQ.setArraySize(this.curves,d),T=0,S=c[0],I=c[1],R=0,A=0,V=0,C=0,P=0,k=0,N=0,Y=0,X=0,_=0,D=0,F=0,q=0,O=0,B=(y=0,2);y<d;y++,B+=6)R=c[B],A=c[B+1],V=c[B+2],C=c[B+3],D=2*(N=.1875*(S-2*R+V))+(X=.09375*(3*(R-V)-S+(P=c[B+4]))),F=2*(Y=.1875*(I-2*A+C))+(_=.09375*(3*(A-C)-I+(k=c[B+5]))),q=.75*(R-S)+N+.16666667*X,O=.75*(A-I)+Y+.16666667*_,T+=Math.sqrt(q*q+O*O),q+=D,O+=F,D+=X,F+=_,T+=Math.sqrt(q*q+O*O),q+=D,O+=F,T+=Math.sqrt(q*q+O*O),q+=D+X,O+=F+_,T+=Math.sqrt(q*q+O*O),w[y]=T,S=P,I=k;if(i&&(h*=T),o)for(y=0;y<n;y++)l[y]*=T;for(var L=this.segments,W=0,Q=(y=0,E=0,x=0,0);y<n;y++,E+=3){var j;b=h+=j=l[y];if(f)(b%=T)<0&&(b+=T),x=0;else{if(b<0){this.addBeforePosition(b,c,0,u,E);continue}if(b>T){this.addAfterPosition(b-T,c,p-4,u,E);continue}}for(;;x++){var U=w[x];if(!(b>U)){if(0==x)b/=U;else b=(b-(Z=w[x-1]))/(U-Z);break}}if(x!=m){m=x;var G=6*x;for(S=c[G],I=c[G+1],R=c[G+2],A=c[G+3],V=c[G+4],C=c[G+5],D=2*(N=.03*(S-2*R+V))+(X=.006*(3*(R-V)-S+(P=c[G+6]))),F=2*(Y=.03*(I-2*A+C))+(_=.006*(3*(A-C)-I+(k=c[G+7]))),q=.3*(R-S)+N+.16666667*X,O=.3*(A-I)+Y+.16666667*_,W=Math.sqrt(q*q+O*O),L[0]=W,G=1;G<8;G++)q+=D,O+=F,D+=X,F+=_,W+=Math.sqrt(q*q+O*O),L[G]=W;q+=D,O+=F,W+=Math.sqrt(q*q+O*O),L[8]=W,q+=D+X,O+=F+_,W+=Math.sqrt(q*q+O*O),L[9]=W,Q=0}for(b*=W;;Q++){var H=L[Q];if(!(b>H)){var Z;if(0==Q)b/=H;else b=Q+(b-(Z=L[Q-1]))/(H-Z);break}}this.addCurvePosition(.1*b,S,I,R,A,V,C,P,k,u,E,a||y>0&&0==j)}return u},t.prototype.addBeforePosition=function(t,e,n,r,a){var i=e[n],o=e[n+1],s=e[n+2]-i,h=e[n+3]-o,l=Math.atan2(h,s);r[a]=i+t*Math.cos(l),r[a+1]=o+t*Math.sin(l),r[a+2]=l},t.prototype.addAfterPosition=function(t,e,n,r,a){var i=e[n+2],o=e[n+3],s=i-e[n],h=o-e[n+1],l=Math.atan2(h,s);r[a]=i+t*Math.cos(l),r[a+1]=o+t*Math.sin(l),r[a+2]=l},t.prototype.addCurvePosition=function(t,e,n,r,a,i,o,s,h,l,u,c){(0==t||isNaN(t))&&(t=1e-4);var f=t*t,p=f*t,d=1-t,m=d*d,g=m*d,v=d*t,y=3*v,E=d*y,x=y*t,b=e*g+r*E+i*x+s*p,M=n*g+a*E+o*x+h*p;l[u]=b,l[u+1]=M,c&&(l[u+2]=Math.atan2(M-(n*m+a*v*2+o*f),b-(e*m+r*v*2+i*f)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),$=function(){function t(t,e){if(this.attachmentVertices=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new r.Il,this.darkColor=null==t.darkColor?null:new r.Il,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),tt=function(){function t(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new r.FM,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,a=this.shearMix,i=this.target,o=i.matrix,s=o.a,h=o.c,l=o.b,u=o.d,c=s*u-h*l>0?r.M8.degRad:-r.M8.degRad,f=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,m=0,g=d.length;m<g;m++){var v=d[m],y=!1,E=v.matrix;if(0!=t){var x=E.a,b=E.c,M=E.b,w=E.d;(V=Math.atan2(l,s)-Math.atan2(M,x)+f)>r.M8.PI?V-=r.M8.PI2:V<-r.M8.PI&&(V+=r.M8.PI2),V*=t;var T=Math.cos(V),S=Math.sin(V);E.a=T*x-S*M,E.c=T*b-S*w,E.b=S*x+T*M,E.d=S*b+T*w,y=!0}if(0!=e){var I=this.temp;i.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),E.tx+=(I.x-E.tx)*e,E.ty+=(I.y-E.ty)*e,y=!0}if(n>0){var R=Math.sqrt(E.a*E.a+E.b*E.b),A=Math.sqrt(s*s+l*l);R>1e-5&&(R=(R+(A-R+this.data.offsetScaleX)*n)/R),E.a*=R,E.b*=R,R=Math.sqrt(E.c*E.c+E.d*E.d),A=Math.sqrt(h*h+u*u),R>1e-5&&(R=(R+(A-R+this.data.offsetScaleY)*n)/R),E.c*=R,E.d*=R,y=!0}if(a>0){b=E.c,w=E.d;var V,C=Math.atan2(w,b);(V=Math.atan2(u,h)-Math.atan2(l,s)-(C-Math.atan2(E.b,E.a)))>r.M8.PI?V-=r.M8.PI2:V<-r.M8.PI&&(V+=r.M8.PI2),V=C+(V+p)*a;R=Math.sqrt(b*b+w*w);E.c=Math.cos(V)*R,E.d=Math.sin(V)*R,y=!0}y&&(v.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,a=this.shearMix,i=this.target,o=i.matrix,s=o.a,h=o.c,l=o.b,u=o.d,c=s*u-h*l>0?r.M8.degRad:-r.M8.degRad,f=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,m=0,g=d.length;m<g;m++){var v=d[m],y=!1,E=v.matrix;if(0!=t){var x=E.a,b=E.c,M=E.b,w=E.d;(A=Math.atan2(l,s)+f)>r.M8.PI?A-=r.M8.PI2:A<-r.M8.PI&&(A+=r.M8.PI2),A*=t;var T=Math.cos(A),S=Math.sin(A);E.a=T*x-S*M,E.c=T*b-S*w,E.b=S*x+T*M,E.d=S*b+T*w,y=!0}if(0!=e){var I=this.temp;i.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),E.tx+=I.x*e,E.ty+=I.y*e,y=!0}if(n>0){var R=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;E.a*=R,E.b*=R,R=(Math.sqrt(h*h+u*u)-1+this.data.offsetScaleY)*n+1,E.c*=R,E.d*=R,y=!0}if(a>0){var A;(A=Math.atan2(u,h)-Math.atan2(l,s))>r.M8.PI?A-=r.M8.PI2:A<-r.M8.PI&&(A+=r.M8.PI2);b=E.c,w=E.d;A=Math.atan2(w,b)+(A-r.M8.PI/2+p)*a;R=Math.sqrt(b*b+w*w);E.c=Math.cos(A)*R,E.d=Math.sin(A)*R,y=!0}y&&(v.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var i=this.bones,o=0,s=i.length;o<s;o++){var h=i[o];h.appliedValid||h.updateAppliedTransform();var l=h.arotation;if(0!=t){var u=a.arotation-l+this.data.offsetRotation;l+=(u-=360*(16384-(16384.499999999996-u/360|0)))*t}var c=h.ax,f=h.ay;0!=e&&(c+=(a.ax-c+this.data.offsetX)*e,f+=(a.ay-f+this.data.offsetY)*e);var p=h.ascaleX,d=h.ascaleY;n>0&&(p>1e-5&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),d>1e-5&&(d=(d+(a.ascaleY-d+this.data.offsetScaleY)*n)/d));var m=h.ashearY;if(r>0){u=a.ashearY-m+this.data.offsetShearY;u-=360*(16384-(16384.499999999996-u/360|0)),h.shearY+=u*r}h.updateWorldTransformWith(c,f,l,p,d,h.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var i=this.bones,o=0,s=i.length;o<s;o++){var h=i[o];h.appliedValid||h.updateAppliedTransform();var l=h.arotation;0!=t&&(l+=(a.arotation+this.data.offsetRotation)*t);var u=h.ax,c=h.ay;0!=e&&(u+=(a.ax+this.data.offsetX)*e,c+=(a.ay+this.data.offsetY)*e);var f=h.ascaleX,p=h.ascaleY;n>0&&(f>1e-5&&(f*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var d=h.ashearY;r>0&&(d+=(a.ashearY+this.data.offsetShearY)*r),h.updateWorldTransformWith(u,c,l,f,p,h.ashearX,d)}},t.prototype.getOrder=function(){return this.data.order},t}(),et=function(){function t(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n=t.bones[e],a=void 0;if(null==n.parent)a=new j(n,this,null);else{var i=this.bones[n.parent.index];a=new j(n,this,i),i.children.push(a)}this.bones.push(a)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var o=t.slots[e],s=(a=this.bones[o.boneData.index],new $(o,a));this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var h=t.ikConstraints[e];this.ikConstraints.push(new Z(h,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var l=t.transformConstraints[e];this.transformConstraints.push(new tt(l,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var u=t.pathConstraints[e];this.pathConstraints.push(new K(u,this))}this.color=new r.Il(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].sorted=!1;var r=this.ikConstraints,a=this.transformConstraints,i=this.pathConstraints,o=r.length,s=a.length,h=i.length,l=o+s+h;t:for(e=0;e<l;e++){for(var u=0;u<o;u++){if((c=r[u]).data.order==e){this.sortIkConstraint(c);continue t}}for(u=0;u<s;u++){if((c=a[u]).data.order==e){this.sortTransformConstraint(c);continue t}}for(u=0;u<h;u++){var c;if((c=i[u]).data.order==e){this.sortPathConstraint(c);continue t}}}for(e=0,n=t.length;e<n;e++)this.sortBone(t[e])},t.prototype.sortIkConstraint=function(t){var e=t.target;this.sortBone(e);var n=t.bones,r=n[0];if(this.sortBone(r),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(t),this.sortReset(r.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(t){var e=t.target,n=e.data.index,r=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var a=0,i=this.data.skins.length;a<i;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,r);var o=e.getAttachment();o instanceof d&&this.sortPathConstraintAttachmentWith(o,r);var s=t.bones,h=s.length;for(a=0;a<h;a++)this.sortBone(s[a]);this._updateCache.push(t);for(a=0;a<h;a++)this.sortReset(s[a].children);for(a=0;a<h;a++)s[a].sorted=!0},t.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var r=0;r<n;r++){var a=e[r];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(r=0;r<n;r++)this.sortBone(e[r]);this._updateCache.push(t);for(var i=0;i<n;i++)this.sortReset(e[i].children);for(i=0;i<n;i++)e[i].sorted=!0},t.prototype.sortPathConstraintAttachment=function(t,e,n){var r=t.attachments[e];if(r)for(var a in r)this.sortPathConstraintAttachmentWith(r[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof d){var n=t.bones;if(null==n)this.sortBone(e);else for(var r=this.bones,a=0;a<n.length;)for(var i=n[a++],o=a+i;a<o;a++){var s=n[a];this.sortBone(r[s])}}},t.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},t.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.sorted&&this.sortReset(r.children),r.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var r=t[e];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}var a=this._updateCache;for(e=0,n=a.length;e<n;e++)a[e].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();var r=this.ikConstraints;for(e=0,n=r.length;e<n;e++){(s=r[e]).bendDirection=s.data.bendDirection,s.mix=s.data.mix}var a=this.transformConstraints;for(e=0,n=a.length;e<n;e++){var i=(s=a[e]).data;s.rotateMix=i.rotateMix,s.translateMix=i.translateMix,s.scaleMix=i.scaleMix,s.shearMix=i.shearMix}var o=this.pathConstraints;for(e=0,n=o.length;e<n;e++){var s;i=(s=o[e]).data;s.position=i.position,s.spacing=i.spacing,s.rotateMix=i.rotateMix,s.translateMix=i.translateMix}},t.prototype.setSlotsToSetupPose=function(){var t=this.slots;r.cQ.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},t.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},t.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,r=e.length;n<r;n++){var a=e[n],i=a.data.attachmentName;if(null!=i){var o=t.getAttachment(n,i);null!=o&&a.setAttachment(o)}}this.skin=t},t.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},t.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},t.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,a=n.length;r<a;r++){var i=n[r];if(i.data.name==t){var o=null;if(null!=e&&null==(o=this.getAttachment(r,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void i.setAttachment(o)}}throw new Error("Slot not found: "+t)},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.getBounds=function(t,e,n){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var a=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,l=0,u=a.length;l<u;l++){var c=a[l],f=0,d=null,m=c.getAttachment();if(m instanceof g)f=8,d=r.cQ.setArraySize(n,f,0),m.computeWorldVertices(c.bone,d,0,2);else if(m instanceof p){var v=m;f=v.worldVerticesLength,d=r.cQ.setArraySize(n,f,0),v.computeWorldVertices(c,0,f,d,0,2)}if(null!=d)for(var y=0,E=d.length;y<E;y+=2){var x=d[y],b=d[y+1];i=Math.min(i,x),o=Math.min(o,b),s=Math.max(s,x),h=Math.max(h,b)}}t.set(i,o),e.set(s-i,h-o)},t.prototype.update=function(t){this.time+=t},Object.defineProperty(t.prototype,"flipX",{get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),nt=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new r.Kg((function(){return r.cQ.newFloatArray(16)}))}return t.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,a=this.polygons,i=this.polygonPool,o=t.slots,s=o.length;n.length=0,i.freeAll(a),a.length=0;for(var h=0;h<s;h++){var l=o[h],u=l.getAttachment();if(u instanceof c){var f=u;n.push(f);var p=i.obtain();p.length!=f.worldVerticesLength&&(p=r.cQ.newFloatArray(f.worldVerticesLength)),a.push(p),f.computeWorldVertices(l,0,f.worldVerticesLength,p,0,2)}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,a=this.polygons,i=0,o=a.length;i<o;i++)for(var s=a[i],h=s,l=0,u=s.length;l<u;l+=2){var c=h[l],f=h[l+1];t=Math.min(t,c),e=Math.min(e,f),n=Math.max(n,c),r=Math.max(r,f)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=r},t.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},t.prototype.aabbIntersectsSegment=function(t,e,n,r){var a=this.minX,i=this.minY,o=this.maxX,s=this.maxY;if(t<=a&&n<=a||e<=i&&r<=i||t>=o&&n>=o||e>=s&&r>=s)return!1;var h=(r-e)/(n-t),l=h*(a-t)+e;if(l>i&&l<s)return!0;if((l=h*(o-t)+e)>i&&l<s)return!0;var u=(i-e)/h+t;return u>a&&u<o||(u=(s-e)/h+t)>a&&u<o},t.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.containsPoint=function(t,e){for(var n=this.polygons,r=0,a=n.length;r<a;r++)if(this.containsPointPolygon(n[r],t,e))return this.boundingBoxes[r];return null},t.prototype.containsPointPolygon=function(t,e,n){for(var r=t,a=t.length,i=a-2,o=!1,s=0;s<a;s+=2){var h=r[s+1],l=r[i+1];if(h<n&&l>=n||l<n&&h>=n){var u=r[s];u+(n-h)/(l-h)*(r[i]-u)<e&&(o=!o)}i=s}return o},t.prototype.intersectsSegment=function(t,e,n,r){for(var a=this.polygons,i=0,o=a.length;i<o;i++)if(this.intersectsSegmentPolygon(a[i],t,e,n,r))return this.boundingBoxes[i];return null},t.prototype.intersectsSegmentPolygon=function(t,e,n,r,a){for(var i=t,o=t.length,s=e-r,h=n-a,l=e*a-n*r,u=i[o-2],c=i[o-1],f=0;f<o;f+=2){var p=i[f],d=i[f+1],m=u*d-c*p,g=u-p,v=c-d,y=s*v-h*g,E=(l*g-s*m)/y;if((E>=u&&E<=p||E>=p&&E<=u)&&(E>=e&&E<=r||E>=r&&E<=e)){var x=(l*v-h*m)/y;if((x>=c&&x<=d||x>=d&&x<=c)&&(x>=n&&x<=a||x>=a&&x<=n))return!0}u=p,c=d}return!1},t.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),rt=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t}(),at=function(t,e,n){if(this.color=new r.Il(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n},it=function(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==t)throw new Error("name cannot be null.");this.name=t},ot=function(){function t(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return t.prototype.addAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=n},t.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},t.prototype.attachAll=function(t,e){for(var n=0,r=0;r<t.slots.length;r++){var a=t.slots[r],i=a.getAttachment();if(i&&n<e.attachments.length){var o=e.attachments[n];for(var s in o){if(i==o[s]){var h=this.getAttachment(n,s);null!=h&&a.setAttachment(h);break}}}n++}},t}(),st=function(){function t(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return t.prototype.readSkeletonData=function(e){var n=this.scale,a=new rt,i="string"===typeof e?JSON.parse(e):e,o=i.skeleton;if(null!=o&&(a.hash=o.hash,a.version=o.spine,a.width=o.width,a.height=o.height,a.fps=o.fps,a.imagesPath=o.images),i.bones)for(var s=0;s<i.bones.length;s++){var h=i.bones[s],l=null,u=this.getValue(h,"parent",null);if(null!=u&&null==(l=a.findBone(u)))throw new Error("Parent bone not found: "+u);(d=new U(a.bones.length,h.name,l)).length=this.getValue(h,"length",0)*n,d.x=this.getValue(h,"x",0)*n,d.y=this.getValue(h,"y",0)*n,d.rotation=this.getValue(h,"rotation",0),d.scaleX=this.getValue(h,"scaleX",1),d.scaleY=this.getValue(h,"scaleY",1),d.shearX=this.getValue(h,"shearX",0),d.shearY=this.getValue(h,"shearY",0),d.transformMode=t.transformModeFromString(this.getValue(h,"transform","normal")),a.bones.push(d)}if(i.slots)for(s=0;s<i.slots.length;s++){var c=(S=i.slots[s]).name,f=S.bone,p=a.findBone(f);if(null==p)throw new Error("Slot bone not found: "+f);var d=new at(a.slots.length,c,p),m=this.getValue(S,"color",null);null!=m&&d.color.setFromString(m);var g=this.getValue(S,"dark",null);null!=g&&(d.darkColor=new r.Il(1,1,1,1),d.darkColor.setFromString(g)),d.attachmentName=this.getValue(S,"attachment",null),d.blendMode=t.blendModeFromString(this.getValue(S,"blend","normal")),a.slots.push(d)}if(i.ik)for(s=0;s<i.ik.length;s++){var v=i.ik[s];(d=new J(v.name)).order=this.getValue(v,"order",0);for(var y=0;y<v.bones.length;y++){f=v.bones[y];if(null==(x=a.findBone(f)))throw new Error("IK bone not found: "+f);d.bones.push(x)}var E=v.target;if(d.target=a.findBone(E),null==d.target)throw new Error("IK target bone not found: "+E);d.bendDirection=this.getValue(v,"bendPositive",!0)?1:-1,d.mix=this.getValue(v,"mix",1),a.ikConstraints.push(d)}if(i.transform)for(s=0;s<i.transform.length;s++){v=i.transform[s];(d=new it(v.name)).order=this.getValue(v,"order",0);for(y=0;y<v.bones.length;y++){f=v.bones[y];if(null==(x=a.findBone(f)))throw new Error("Transform constraint bone not found: "+f);d.bones.push(x)}E=v.target;if(d.target=a.findBone(E),null==d.target)throw new Error("Transform constraint target bone not found: "+E);d.local=this.getValue(v,"local",!1),d.relative=this.getValue(v,"relative",!1),d.offsetRotation=this.getValue(v,"rotation",0),d.offsetX=this.getValue(v,"x",0)*n,d.offsetY=this.getValue(v,"y",0)*n,d.offsetScaleX=this.getValue(v,"scaleX",0),d.offsetScaleY=this.getValue(v,"scaleY",0),d.offsetShearY=this.getValue(v,"shearY",0),d.rotateMix=this.getValue(v,"rotateMix",1),d.translateMix=this.getValue(v,"translateMix",1),d.scaleMix=this.getValue(v,"scaleMix",1),d.shearMix=this.getValue(v,"shearMix",1),a.transformConstraints.push(d)}if(i.path)for(s=0;s<i.path.length;s++){v=i.path[s];(d=new z(v.name)).order=this.getValue(v,"order",0);for(y=0;y<v.bones.length;y++){var x;f=v.bones[y];if(null==(x=a.findBone(f)))throw new Error("Transform constraint bone not found: "+f);d.bones.push(x)}E=v.target;if(d.target=a.findSlot(E),null==d.target)throw new Error("Path target slot not found: "+E);d.positionMode=t.positionModeFromString(this.getValue(v,"positionMode","percent")),d.spacingMode=t.spacingModeFromString(this.getValue(v,"spacingMode","length")),d.rotateMode=t.rotateModeFromString(this.getValue(v,"rotateMode","tangent")),d.offsetRotation=this.getValue(v,"rotation",0),d.position=this.getValue(v,"position",0),d.positionMode==r.T.Fixed&&(d.position*=n),d.spacing=this.getValue(v,"spacing",0),d.spacingMode!=B.Length&&d.spacingMode!=B.Fixed||(d.spacing*=n),d.rotateMix=this.getValue(v,"rotateMix",1),d.translateMix=this.getValue(v,"translateMix",1),a.pathConstraints.push(d)}if(i.skins)for(var b in i.skins){var M=i.skins[b],w=new ot(b);for(var c in M){var T=a.findSlotIndex(c);if(-1==T)throw new Error("Slot not found: "+c);var S=M[c];for(var I in S){var R=this.readAttachment(S[I],w,T,I,a);null!=R&&w.addAttachment(T,I,R)}}a.skins.push(w),"default"==w.name&&(a.defaultSkin=w)}s=0;for(var A=this.linkedMeshes.length;s<A;s++){var V=this.linkedMeshes[s];if(null==(w=null==V.skin?a.defaultSkin:a.findSkin(V.skin)))throw new Error("Skin not found: "+V.skin);var C=w.getAttachment(V.slotIndex,V.parent);if(null==C)throw new Error("Parent mesh not found: "+V.parent);V.mesh.setParentMesh(C)}if(this.linkedMeshes.length=0,i.events)for(var P in i.events){var k=i.events[P];(d=new H(P)).intValue=this.getValue(k,"int",0),d.floatValue=this.getValue(k,"float",0),d.stringValue=this.getValue(k,"string",""),d.audioPath=this.getValue(k,"audio",null),null!=d.audioPath&&(d.volume=this.getValue(k,"volume",1),d.balance=this.getValue(k,"balance",0)),a.events.push(d)}if(i.animations)for(var N in i.animations){var Y=i.animations[N];this.readAnimation(Y,N,a)}return a},t.prototype.readAttachment=function(t,e,n,a,i){var o=this.scale;switch(a=this.getValue(t,"name",a),this.getValue(t,"type","region")){case"region":var s=this.getValue(t,"path",a),h=this.attachmentLoader.newRegionAttachment(e,a,s);return null==h?null:(h.path=s,h.x=this.getValue(t,"x",0)*o,h.y=this.getValue(t,"y",0)*o,h.scaleX=this.getValue(t,"scaleX",1),h.scaleY=this.getValue(t,"scaleY",1),h.rotation=this.getValue(t,"rotation",0),h.width=t.width*o,h.height=t.height*o,null!=(x=this.getValue(t,"color",null))&&h.color.setFromString(x),h);case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,a);return null==l?null:(this.readVertices(t,l,t.vertexCount<<1),null!=(x=this.getValue(t,"color",null))&&l.color.setFromString(x),l);case"mesh":case"linkedmesh":s=this.getValue(t,"path",a);var u=this.attachmentLoader.newMeshAttachment(e,a,s);if(null==u)return null;u.path=s,null!=(x=this.getValue(t,"color",null))&&u.color.setFromString(x);var c=this.getValue(t,"parent",null);if(null!=c)return u.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new ht(u,this.getValue(t,"skin",null),n,c)),u;var f=t.uvs;return this.readVertices(t,u,f.length),u.triangles=t.triangles,u.regionUVs=new Float32Array(f),u.hullLength=2*this.getValue(t,"hull",0),u;case"path":if(null==(s=this.attachmentLoader.newPathAttachment(e,a)))return null;s.closed=this.getValue(t,"closed",!1),s.constantSpeed=this.getValue(t,"constantSpeed",!0);var p=t.vertexCount;this.readVertices(t,s,p<<1);for(var d=r.cQ.newArray(p/3,0),m=0;m<t.lengths.length;m++)d[m]=t.lengths[m]*o;return s.lengths=d,null!=(x=this.getValue(t,"color",null))&&s.color.setFromString(x),s;case"point":var g=this.attachmentLoader.newPointAttachment(e,a);return null==g?null:(g.x=this.getValue(t,"x",0)*o,g.y=this.getValue(t,"y",0)*o,g.rotation=this.getValue(t,"rotation",0),null!=(x=this.getValue(t,"color",null))&&g.color.setFromString(x),g);case"clipping":var v=this.attachmentLoader.newClippingAttachment(e,a);if(null==v)return null;var y=this.getValue(t,"end",null);if(null!=y){var E=i.findSlot(y);if(null==E)throw new Error("Clipping end slot not found: "+y);v.endSlot=E}var x;p=t.vertexCount;return this.readVertices(t,v,p<<1),null!=(x=this.getValue(t,"color",null))&&v.color.setFromString(x),v}return null},t.prototype.readVertices=function(t,e,n){var a=this.scale;e.worldVerticesLength=n;var i=t.vertices;if(n!=i.length){var o=new Array,s=new Array;for(c=0,f=i.length;c<f;){var h=i[c++];s.push(h);for(var l=c+4*h;c<l;c+=4)s.push(i[c]),o.push(i[c+1]*a),o.push(i[c+2]*a),o.push(i[c+3])}e.bones=s,e.vertices=r.cQ.toFloatArray(o)}else{var u=r.cQ.toFloatArray(i);if(1!=a)for(var c=0,f=i.length;c<f;c++)u[c]*=a;e.vertices=u}},t.prototype.readAnimation=function(t,e,n){var a=this.scale,i=new Array,o=0;if(t.slots)for(var s in t.slots){var h=t.slots[s];if(-1==(pt=n.findSlotIndex(s)))throw new Error("Slot not found: "+s);for(var l in h){var u=h[l];if("attachment"==l){(b=new A(u.length)).slotIndex=pt;for(var c=0,f=0;f<u.length;f++){var p=u[f];b.setFrame(c++,p.time,p.name)}i.push(b),o=Math.max(o,b.frames[b.getFrameCount()-1])}else if("color"==l){(b=new I(u.length)).slotIndex=pt;for(c=0,f=0;f<u.length;f++){p=u[f];var d=new r.Il;d.setFromString(p.color||"ffffffff"),b.setFrame(c,p.time,d.r,d.g,d.b,d.a),this.readCurve(p,b,c),c++}i.push(b),o=Math.max(o,b.frames[(b.getFrameCount()-1)*I.ENTRIES])}else{if("twoColor"!=l)throw new Error("Invalid timeline type for a slot: "+l+" ("+s+")");(b=new R(u.length)).slotIndex=pt;for(c=0,f=0;f<u.length;f++){p=u[f];var m=new r.Il,g=new r.Il;m.setFromString(p.light),g.setFromString(p.dark),b.setFrame(c,p.time,m.r,m.g,m.b,m.a,g.r,g.g,g.b),this.readCurve(p,b,c),c++}i.push(b),o=Math.max(o,b.frames[(b.getFrameCount()-1)*R.ENTRIES])}}}if(t.bones)for(var v in t.bones){var y=t.bones[v],x=n.findBoneIndex(v);if(-1==x)throw new Error("Bone not found: "+v);for(var l in y){u=y[l];if("rotate"===l){(b=new M(u.length)).boneIndex=x;for(c=0,f=0;f<u.length;f++){p=u[f];b.setFrame(c,p.time,p.angle),this.readCurve(p,b,c),c++}i.push(b),o=Math.max(o,b.frames[(b.getFrameCount()-1)*M.ENTRIES])}else{if("translate"!==l&&"scale"!==l&&"shear"!==l)throw new Error("Invalid timeline type for a bone: "+l+" ("+v+")");var b=null,V=1;"scale"===l?b=new T(u.length):"shear"===l?b=new S(u.length):(b=new w(u.length),V=a),b.boneIndex=x;for(c=0,f=0;f<u.length;f++){p=u[f];var F=this.getValue(p,"x",0),q=this.getValue(p,"y",0);b.setFrame(c,p.time,F*V,q*V),this.readCurve(p,b,c),c++}i.push(b),o=Math.max(o,b.frames[(b.getFrameCount()-1)*w.ENTRIES])}}}if(t.ik)for(var O in t.ik){var L=t.ik[O],W=n.findIkConstraint(O);(b=new N(L.length)).ikConstraintIndex=n.ikConstraints.indexOf(W);for(c=0,f=0;f<L.length;f++){p=L[f];b.setFrame(c,p.time,this.getValue(p,"mix",1),this.getValue(p,"bendPositive",!0)?1:-1,this.getValue(p,"compress",!1),this.getValue(p,"stretch",!1)),this.readCurve(p,b,c),c++}i.push(b),o=Math.max(o,b.frames[(b.getFrameCount()-1)*N.ENTRIES])}if(t.transform)for(var O in t.transform){L=t.transform[O],W=n.findTransformConstraint(O);(b=new Y(L.length)).transformConstraintIndex=n.transformConstraints.indexOf(W);for(c=0,f=0;f<L.length;f++){p=L[f];b.setFrame(c,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,b,c),c++}i.push(b),o=Math.max(o,b.frames[(b.getFrameCount()-1)*Y.ENTRIES])}if(t.paths)for(var O in t.paths){L=t.paths[O];var Q=n.findPathConstraintIndex(O);if(-1==Q)throw new Error("Path constraint not found: "+O);var j=n.pathConstraints[Q];for(var l in L){u=L[l];if("position"===l||"spacing"===l){b=null,V=1;"spacing"===l?(b=new _(u.length),j.spacingMode!=B.Length&&j.spacingMode!=B.Fixed||(V=a)):(b=new X(u.length),j.positionMode==r.T.Fixed&&(V=a)),b.pathConstraintIndex=Q;for(c=0,f=0;f<u.length;f++){p=u[f];b.setFrame(c,p.time,this.getValue(p,l,0)*V),this.readCurve(p,b,c),c++}i.push(b),o=Math.max(o,b.frames[(b.getFrameCount()-1)*X.ENTRIES])}else if("mix"===l){(b=new D(u.length)).pathConstraintIndex=Q;for(c=0,f=0;f<u.length;f++){p=u[f];b.setFrame(c,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1)),this.readCurve(p,b,c),c++}i.push(b),o=Math.max(o,b.frames[(b.getFrameCount()-1)*D.ENTRIES])}}}if(t.deform)for(var U in t.deform){var H=t.deform[U],Z=n.findSkin(U);if(null!=Z)for(var s in H){h=H[s];if(-1==(pt=n.findSlotIndex(s)))throw new Error("Slot not found: "+h.name);for(var l in h){u=h[l];var J=Z.getAttachment(pt,l);if(null==J)throw new Error("Deform attachment not found: "+u.name);var z=null!=J.bones,K=J.vertices,$=z?K.length/3*2:K.length;(b=new C(u.length)).slotIndex=pt,b.attachment=J;c=0;for(var tt=0;tt<u.length;tt++){p=u[tt];var et=void 0,nt=this.getValue(p,"vertices",null);if(null==nt)et=z?r.cQ.newFloatArray($):K;else{et=r.cQ.newFloatArray($);var rt=this.getValue(p,"offset",0);if(r.cQ.arrayCopy(nt,0,et,rt,nt.length),1!=a)for(var at=(f=rt)+nt.length;f<at;f++)et[f]*=a;if(!z)for(f=0;f<$;f++)et[f]+=K[f]}b.setFrame(c,p.time,et),this.readCurve(p,b,c),c++}i.push(b),o=Math.max(o,b.frames[b.getFrameCount()-1])}}else if(r.Xd.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: "+U)}var it=t.drawOrder;if(null==it&&(it=t.draworder),null!=it){b=new k(it.length);var ot=n.slots.length;for(c=0,tt=0;tt<it.length;tt++){var st=it[tt],ht=null,lt=this.getValue(st,"offsets",null);if(null!=lt){ht=r.cQ.newArray(ot,-1);var ut=r.cQ.newArray(ot-lt.length,0),ct=0,ft=0;for(f=0;f<lt.length;f++){var pt,dt=lt[f];if(-1==(pt=n.findSlotIndex(dt.slot)))throw new Error("Slot not found: "+dt.slot);for(;ct!=pt;)ut[ft++]=ct++;ht[ct+dt.offset]=ct++}for(;ct<ot;)ut[ft++]=ct++;for(f=ot-1;f>=0;f--)-1==ht[f]&&(ht[f]=ut[--ft])}b.setFrame(c++,st.time,ht)}i.push(b),o=Math.max(o,b.frames[b.getFrameCount()-1])}if(t.events){for(b=new P(t.events.length),c=0,f=0;f<t.events.length;f++){var mt=t.events[f],gt=n.findEvent(mt.name);if(null==gt)throw new Error("Event not found: "+mt.name);var vt=new G(r.cQ.toSinglePrecision(mt.time),gt);vt.intValue=this.getValue(mt,"int",gt.intValue),vt.floatValue=this.getValue(mt,"float",gt.floatValue),vt.stringValue=this.getValue(mt,"string",gt.stringValue),null!=vt.data.audioPath&&(vt.volume=this.getValue(mt,"volume",1),vt.balance=this.getValue(mt,"balance",0)),b.setFrame(c++,vt)}i.push(b),o=Math.max(o,b.frames[b.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new E(e,i,o))},t.prototype.readCurve=function(t,e,n){if(t.curve)if("stepped"===t.curve)e.setStepped(n);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var r=t.curve;e.setCurve(n,r[0],r[1],r[2],r[3])}},t.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},t.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return i.T$.NORMAL;if("additive"==t)return i.T$.ADD;if("multiply"==t)return i.T$.MULTIPLY;if("screen"==t)return i.T$.SCREEN;throw new Error("Unknown blend mode: "+t)},t.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return r.T.Fixed;if("percent"==t)return r.T.Percent;throw new Error("Unknown position mode: "+t)},t.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return B.Length;if("fixed"==t)return B.Fixed;if("percent"==t)return B.Percent;throw new Error("Unknown position mode: "+t)},t.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return r.YK.Tangent;if("chain"==t)return r.YK.Chain;if("chainscale"==t)return r.YK.ChainScale;throw new Error("Unknown rotate mode: "+t)},t.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return r.Qe.Normal;if("onlytranslation"==t)return r.Qe.OnlyTranslation;if("norotationorreflection"==t)return r.Qe.NoRotationOrReflection;if("noscale"==t)return r.Qe.NoScale;if("noscaleorreflection"==t)return r.Qe.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},t}(),ht=function(t,e,n,r){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r},lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.createSkeleton=function(t){this.skeleton=new et(t),this.skeleton.updateWorldTransform(),this.stateData=new W(t),this.state=new F(this.stateData)},e}(r.Ww)}}]);